var e,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},l={},o=n.parcelRequirec16f;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in l){var n=l[e];delete l[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){l[e]=n},n.parcelRequirec16f=o);var i=o.register;function s(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/slog.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"a3d215976e8f4445d954443dbe711d4d643a6d74"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/slog.ts",statementMap:{0:{start:{line:15,column:32},end:{line:15,column:34}},1:{start:{line:18,column:31},end:{line:18,column:32}},2:{start:{line:21,column:31},end:{line:21,column:32}},3:{start:{line:24,column:32},end:{line:24,column:33}},4:{start:{line:27,column:26},end:{line:27,column:40}},5:{start:{line:37,column:4},end:{line:37,column:42}},6:{start:{line:38,column:4},end:{line:41,column:5}},7:{start:{line:39,column:6},end:{line:39,column:27}},8:{start:{line:40,column:6},end:{line:40,column:27}},9:{start:{line:42,column:4},end:{line:42,column:40}},10:{start:{line:52,column:4},end:{line:52,column:23}},11:{start:{line:62,column:4},end:{line:64,column:5}},12:{start:{line:63,column:6},end:{line:63,column:36}},13:{start:{line:74,column:4},end:{line:76,column:5}},14:{start:{line:75,column:6},end:{line:75,column:35}},15:{start:{line:86,column:4},end:{line:88,column:5}},16:{start:{line:87,column:6},end:{line:87,column:38}},17:{start:{line:98,column:4},end:{line:100,column:5}},18:{start:{line:99,column:6},end:{line:99,column:36}},19:{start:{line:105,column:26},end:{line:105,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:64},end:{line:43,column:3}},line:36},1:{name:"(anonymous_1)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:32},end:{line:53,column:3}},line:51},2:{name:"(anonymous_2)",decl:{start:{line:61,column:2},end:{line:61,column:3}},loc:{start:{line:61,column:52},end:{line:65,column:3}},line:61},3:{name:"(anonymous_3)",decl:{start:{line:73,column:2},end:{line:73,column:3}},loc:{start:{line:73,column:51},end:{line:77,column:3}},line:73},4:{name:"(anonymous_4)",decl:{start:{line:85,column:2},end:{line:85,column:3}},loc:{start:{line:85,column:51},end:{line:89,column:3}},line:85},5:{name:"(anonymous_5)",decl:{start:{line:97,column:2},end:{line:97,column:3}},loc:{start:{line:97,column:52},end:{line:101,column:3}},line:97}},branchMap:{0:{loc:{start:{line:62,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:62,column:4},end:{line:64,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},1:{loc:{start:{line:74,column:4},end:{line:76,column:5}},type:"if",locations:[{start:{line:74,column:4},end:{line:76,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:74},2:{loc:{start:{line:86,column:4},end:{line:88,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:88,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:86},3:{loc:{start:{line:98,column:4},end:{line:100,column:5}},type:"if",locations:[{start:{line:98,column:4},end:{line:100,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:98}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a3d215976e8f4445d954443dbe711d4d643a6d74"});var o=l[e];return(// @ts-ignore
s=function(){return o},o)}i("bmd3s",function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MissingRefError=n.ValidationError=n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=n.Ajv=void 0;var t=o("6e5oN"),l=o("cNnVH"),i=o("5wwJv"),s=o("ftkpO");let r=["/properties"],a="http://json-schema.org/draft-07/schema";class c extends t.default{_addVocabularies(){super._addVocabularies(),l.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(s,r):s;this.addMetaSchema(e,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}n.Ajv=c,e.exports=n=c,e.exports.Ajv=c,Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var u=o("5emzc");Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var m=o("fDfDB");Object.defineProperty(n,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return m.Name}}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:function(){return m.CodeGen}});var d=o("2Gh0l");Object.defineProperty(n,"ValidationError",{enumerable:!0,get:function(){return d.default}});var p=o("4gEf6");Object.defineProperty(n,"MissingRefError",{enumerable:!0,get:function(){return p.default}})}),i("6e5oN",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.CodeGen=e.exports.Name=e.exports.nil=e.exports.stringify=e.exports.str=e.exports._=e.exports.KeywordCxt=void 0;var t=o("5emzc");Object.defineProperty(e.exports,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var l=o("fDfDB");Object.defineProperty(e.exports,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(e.exports,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(e.exports,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(e.exports,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(e.exports,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(e.exports,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var i=o("2Gh0l"),s=o("4gEf6"),r=o("eBmwi"),a=o("6H4o6"),l=o("fDfDB"),c=o("dKHzu"),u=o("fC5iG"),m=o("4uCyc"),d=o("cnYC5"),p=o("dSAoS");let h=(e,n)=>new RegExp(e,n);h.code="new RegExp";let f=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),b={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};class v{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...// eslint-disable-next-line complexity
function(e){var n,t,l,o,i,s,r,a,c,u,m,d,f,y,b,g,v,w,_,x,$,k,C,E,P;let S=e.strict,D=null===(n=e.code)||void 0===n?void 0:n.optimize,M=!0===D||void 0===D?1:D||0,j=null!==(l=null===(t=e.code)||void 0===t?void 0:t.regExp)&&void 0!==l?l:h,N=null!==(o=e.uriResolver)&&void 0!==o?o:p.default;return{strictSchema:null===(s=null!==(i=e.strictSchema)&&void 0!==i?i:S)||void 0===s||s,strictNumbers:null===(a=null!==(r=e.strictNumbers)&&void 0!==r?r:S)||void 0===a||a,strictTypes:null!==(u=null!==(c=e.strictTypes)&&void 0!==c?c:S)&&void 0!==u?u:"log",strictTuples:null!==(d=null!==(m=e.strictTuples)&&void 0!==m?m:S)&&void 0!==d?d:"log",strictRequired:null!==(y=null!==(f=e.strictRequired)&&void 0!==f?f:S)&&void 0!==y&&y,code:e.code?{...e.code,optimize:M,regExp:j}:{optimize:M,regExp:j},loopRequired:null!==(b=e.loopRequired)&&void 0!==b?b:200,loopEnum:null!==(g=e.loopEnum)&&void 0!==g?g:200,meta:null===(v=e.meta)||void 0===v||v,messages:null===(w=e.messages)||void 0===w||w,inlineRefs:null===(_=e.inlineRefs)||void 0===_||_,schemaId:null!==(x=e.schemaId)&&void 0!==x?x:"$id",addUsedSchema:null===($=e.addUsedSchema)||void 0===$||$,validateSchema:null===(k=e.validateSchema)||void 0===k||k,validateFormats:null===(C=e.validateFormats)||void 0===C||C,unicodeRegExp:null===(E=e.unicodeRegExp)||void 0===E||E,int32range:null===(P=e.int32range)||void 0===P||P,uriResolver:N}}(e)};let{es5:n,lines:t}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:y,es5:n,lines:t}),this.logger=function(e){if(!1===e)return E;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw Error("logger must implement log, warn and error methods")}(e.logger);let o=e.validateFormats;e.validateFormats=!1,this.RULES=(0,r.getRules)(),w.call(this,b,e,"NOT SUPPORTED"),w.call(this,g,e,"DEPRECATED","warn"),this._metaOpts=C.call(this),e.formats&&$.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&k.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),x.call(this),e.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:n,schemaId:t}=this.opts,l=d;"id"===t&&((l={...d}).id=l.$id,delete l.$id),n&&e&&this.addMetaSchema(l,l[t],!1)}defaultMeta(){let{meta:e,schemaId:n}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[n]||e:void 0}validate(e,n// to be validated
){let t;if("string"==typeof e){if(!(t=this.getSchema(e)))throw Error(`no schema with key or ref "${e}"`)}else t=this.compile(e);let l=t(n);return"$async"in t||(this.errors=t.errors),l}compile(e,n){let t=this._addSchema(e,n);return t.validate||this._compileSchemaEnv(t)}compileAsync(e,n){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:t}=this.opts;return l.call(this,e,n);async function l(e,n){await o.call(this,e.$schema);let t=this._addSchema(e,n);return t.validate||i.call(this,t)}async function o(e){e&&!this.getSchema(e)&&await l.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(n){if(!(n instanceof s.default))throw n;return r.call(this,n),await a.call(this,n.missingSchema),i.call(this,e)}}function r({missingSchema:e,missingRef:n}){if(this.refs[e])throw Error(`AnySchema ${e} is loaded but ${n} cannot be resolved`)}async function a(e){let t=await c.call(this,e);this.refs[e]||await o.call(this,t.$schema),this.refs[e]||this.addSchema(t,e,n)}async function c(e){let n=this._loading[e];if(n)return n;try{return await (this._loading[e]=t(e))}finally{delete this._loading[e]}}}// Adds schema to the instance
addSchema(e,n,t,l=this.opts.validateSchema// false to skip schema validation. Used internally, option validateSchema should be used instead.
){let o;if(Array.isArray(e)){for(let n of e)this.addSchema(n,void 0,t,l);return this}if("object"==typeof e){let{schemaId:n}=this.opts;if(void 0!==(o=e[n])&&"string"!=typeof o)throw Error(`schema ${n} must be string`)}return n=(0,c.normalizeId)(n||o),this._checkUnique(n),this.schemas[n]=this._addSchema(e,t,n,l,!0),this}// Add schema that will be used to validate other schemas
// options in META_IGNORE_OPTIONS are alway set to false
addMetaSchema(e,n,t=this.opts.validateSchema// false to skip schema validation, can be used to override validateSchema option for meta-schema
){return this.addSchema(e,n,!0,t),this}//  Validate schema against its meta-schema
validateSchema(e,n){let t;if("boolean"==typeof e)return!0;if(void 0!==(t=e.$schema)&&"string"!=typeof t)throw Error("$schema must be a string");if(!(t=t||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let l=this.validate(t,e);if(!l&&n){let e="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(e);else throw Error(e)}return l}// Get compiled schema by `key` or `ref`.
// (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)
getSchema(e){let n;for(;"string"==typeof(n=_.call(this,e));)e=n;if(void 0===n){let{schemaId:t}=this.opts,l=new a.SchemaEnv({schema:{},schemaId:t});if(!(n=a.resolveSchema.call(this,l,e)))return;this.refs[e]=n}return n.validate||this._compileSchemaEnv(n)}// Remove cached schema(s).
// If no parameter is passed all schemas but meta-schemas are removed.
// If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.
// Even if schema is referenced by other schemas it still can be removed as other schemas have local references.
removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let n=_.call(this,e);return"object"==typeof n&&this._cache.delete(n.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{this._cache.delete(e);let n=e[this.opts.schemaId];return n&&(n=(0,c.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}// add "vocabulary" - a collection of keywords
addVocabulary(e){for(let n of e)this.addKeyword(n);return this}addKeyword(e,n// deprecated
){let t;if("string"==typeof e)t=e,"object"==typeof n&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),n.keyword=t);else if("object"==typeof e&&void 0===n){if(Array.isArray(t=(n=e).keyword)&&!t.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(S.call(this,t,n),!n)return(0,m.eachItem)(t,e=>D.call(this,e)),this;j.call(this,n);let l={...n,type:(0,u.getJSONTypes)(n.type),schemaType:(0,u.getJSONTypes)(n.schemaType)};return(0,m.eachItem)(t,0===l.type.length?e=>D.call(this,e,l):e=>l.type.forEach(n=>D.call(this,e,l,n))),this}getKeyword(e){let n=this.RULES.all[e];return"object"==typeof n?n.definition:!!n}// Remove keyword
removeKeyword(e){// TODO return type should be Ajv
let{RULES:n}=this;for(let t of(delete n.keywords[e],delete n.all[e],n.rules)){let n=t.rules.findIndex(n=>n.keyword===e);n>=0&&t.rules.splice(n,1)}return this}// Add format
addFormat(e,n){return"string"==typeof n&&(n=new RegExp(n)),this.formats[e]=n,this}errorsText(e=this.errors,{separator:n=", ",dataVar:t="data"}={}// optional options with properties `separator` and `dataVar`
){return e&&0!==e.length?e.map(e=>`${t}${e.instancePath} ${e.message}`).reduce((e,t)=>e+n+t):"No errors"}$dataMetaSchema(e,n){let t=this.RULES.all;for(let l of(e=JSON.parse(JSON.stringify(e)),n)){let n=l.split("/").slice(1),o=e;// first segment is an empty string
for(let e of n)o=o[e];for(let e in t){let n=t[e];if("object"!=typeof n)continue;let{$data:l}=n.definition,i=o[e];l&&i&&(o[e]=T(i))}}return e}_removeAllSchemas(e,n){for(let t in e){let l=e[t];(!n||n.test(t))&&("string"==typeof l?delete e[t]:l&&!l.meta&&(this._cache.delete(l.schema),delete e[t]))}}_addSchema(e,n,t,l=this.opts.validateSchema,o=this.opts.addUsedSchema){let i;let{schemaId:s}=this.opts;if("object"==typeof e)i=e[s];else{if(this.opts.jtd)throw Error("schema must be object");if("boolean"!=typeof e)throw Error("schema must be object or boolean")}let r=this._cache.get(e);if(void 0!==r)return r;t=(0,c.normalizeId)(i||t);let u=c.getSchemaRefs.call(this,e,t);return r=new a.SchemaEnv({schema:e,schemaId:s,meta:n,baseId:t,localRefs:u}),this._cache.set(r.schema,r),o&&!t.startsWith("#")&&(t&&this._checkUnique(t),this.refs[t]=r),l&&this.validateSchema(e,!0),r}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){/* istanbul ignore if */if(e.meta?this._compileMetaSchema(e):a.compileSchema.call(this,e),!e.validate)throw Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let n=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,e)}finally{this.opts=n}}}function w(e,n,t,l="error"){for(let o in e)o in n&&this.logger[l](`${t}: option ${o}. ${e[o]}`)}function _(e){return e=(0,c.normalizeId)(e),this.schemas[e]||this.refs[e]}function x(){let e=this.opts.schemas;if(e){if(Array.isArray(e))this.addSchema(e);else for(let n in e)this.addSchema(e[n],n)}}function $(){for(let e in this.opts.formats){let n=this.opts.formats[e];n&&this.addFormat(e,n)}}function k(e){if(Array.isArray(e)){this.addVocabulary(e);return}for(let n in this.logger.warn("keywords option as map is deprecated, pass array"),e){let t=e[n];t.keyword||(t.keyword=n),this.addKeyword(t)}}function C(){let e={...this.opts};for(let n of f)delete e[n];return e}v.ValidationError=i.default,v.MissingRefError=s.default,e.exports.default=v;let E={log(){},warn(){},error(){}},P=/^[a-z_$][a-z0-9_$:-]*$/i;function S(e,n){let{RULES:t}=this;if((0,m.eachItem)(e,e=>{if(t.keywords[e])throw Error(`Keyword ${e} is already defined`);if(!P.test(e))throw Error(`Keyword ${e} has invalid name`)}),n&&n.$data&&!("code"in n||"validate"in n))throw Error('$data keyword must have "code" or "validate" function')}function D(e,n,t){var l;let o=null==n?void 0:n.post;if(t&&o)throw Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,s=o?i.post:i.rules.find(({type:e})=>e===t);if(s||(s={type:t,rules:[]},i.rules.push(s)),i.keywords[e]=!0,!n)return;let r={keyword:e,definition:{...n,type:(0,u.getJSONTypes)(n.type),schemaType:(0,u.getJSONTypes)(n.schemaType)}};n.before?M.call(this,s,r,n.before):s.rules.push(r),i.all[e]=r,null===(l=n.implements)||void 0===l||l.forEach(e=>this.addKeyword(e))}function M(e,n,t){let l=e.rules.findIndex(e=>e.keyword===t);l>=0?e.rules.splice(l,0,n):(e.rules.push(n),this.logger.warn(`rule ${t} is not defined`))}function j(e){let{metaSchema:n}=e;void 0!==n&&(e.$data&&this.opts.$data&&(n=T(n)),e.validateSchema=this.compile(n,!0))}let N={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function T(e){return{anyOf:[e,N]}}}),i("5emzc",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.getData=e.exports.KeywordCxt=e.exports.validateFunctionCode=void 0;var t=o("13CAH"),l=o("fC5iG"),i=o("5p6JY"),l=o("fC5iG"),s=o("j0bag"),r=o("824pZ"),a=o("2wcMU"),c=o("fDfDB"),u=o("Vspwx"),m=o("dKHzu"),d=o("4uCyc"),p=o("chQ9t");function h({gen:e,validateName:n,schema:t,schemaEnv:l,opts:o},i){o.code.es5?e.func(n,(0,c._)`${u.default.data}, ${u.default.valCxt}`,l.$async,()=>{e.code((0,c._)`"use strict"; ${f(t,o)}`),function(e,n){e.if(u.default.valCxt,()=>{e.var(u.default.instancePath,(0,c._)`${u.default.valCxt}.${u.default.instancePath}`),e.var(u.default.parentData,(0,c._)`${u.default.valCxt}.${u.default.parentData}`),e.var(u.default.parentDataProperty,(0,c._)`${u.default.valCxt}.${u.default.parentDataProperty}`),e.var(u.default.rootData,(0,c._)`${u.default.valCxt}.${u.default.rootData}`),n.dynamicRef&&e.var(u.default.dynamicAnchors,(0,c._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{e.var(u.default.instancePath,(0,c._)`""`),e.var(u.default.parentData,(0,c._)`undefined`),e.var(u.default.parentDataProperty,(0,c._)`undefined`),e.var(u.default.rootData,u.default.data),n.dynamicRef&&e.var(u.default.dynamicAnchors,(0,c._)`{}`)})}(e,o),e.code(i)}):e.func(n,(0,c._)`${u.default.data}, ${(0,c._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${o.dynamicRef?(0,c._)`, ${u.default.dynamicAnchors}={}`:c.nil}}={}`}`,l.$async,()=>e.code(f(t,o)).code(i))}function f(e,n){let t="object"==typeof e&&e[n.schemaId];return t&&(n.code.source||n.code.process)?(0,c._)`/*# sourceURL=${t} */`:c.nil}function y({schema:e,self:n}){if("boolean"==typeof e)return!e;for(let t in e)if(n.RULES.all[t])return!0;return!1}function b(e){return"boolean"!=typeof e.schema}function g(e){(0,d.checkUnknownRules)(e),function(e){let{schema:n,errSchemaPath:t,opts:l,self:o}=e;n.$ref&&l.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(n,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${t}"`)}(e)}function v(e,n){if(e.opts.jtd)return _(e,[],!1,n);let t=(0,l.getSchemaTypes)(e.schema),o=(0,l.coerceAndCheckDataType)(e,t);_(e,t,!o,n)}function w({gen:e,schemaEnv:n,schema:t,errSchemaPath:l,opts:o}){let i=t.$comment;if(!0===o.$comment)e.code((0,c._)`${u.default.self}.logger.log(${i})`);else if("function"==typeof o.$comment){let t=(0,c.str)`${l}/$comment`,o=e.scopeValue("root",{ref:n.root});e.code((0,c._)`${u.default.self}.opts.$comment(${i}, ${t}, ${o}.schema)`)}}function _(e,n,t,o){let{gen:s,schema:r,data:a,allErrors:m,opts:p,self:h}=e,{RULES:f}=h;if(r.$ref&&(p.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(r,f))){s.block(()=>E(e,"$ref",f.all.$ref.definition));// TODO typecast
return}function y(d){(0,i.shouldUseGroup)(r,d)&&(d.type?(s.if((0,l.checkDataType)(d.type,a,p.strictNumbers)),x(e,d),1===n.length&&n[0]===d.type&&t&&(s.else(),(0,l.reportTypeError)(e)),s.endIf()):x(e,d),m||s.if((0,c._)`${u.default.errors} === ${o||0}`))}p.jtd||!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,n){if(n.length){if(!e.dataTypes.length){e.dataTypes=n;return}n.forEach(n=>{$(e.dataTypes,n)||k(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),function(e,n){let t=[];for(let l of e.dataTypes)$(n,l)?t.push(l):n.includes("integer")&&"number"===l&&t.push("integer");e.dataTypes=t}(e,n)}}(e,n),e.opts.allowUnionTypes||n.length>1&&!(2===n.length&&n.includes("null"))&&k(e,"use allowUnionTypes to allow union type keyword"),function(e,n){let t=e.self.RULES.all;for(let l in t){let o=t[l];if("object"==typeof o&&(0,i.shouldUseRule)(e.schema,o)){let{type:t}=o.definition;t.length&&!t.some(e=>n.includes(e)||"number"===e&&n.includes("integer"))&&k(e,`missing type "${t.join(",")}" for keyword "${l}"`)}}}(e,e.dataTypes)),s.block(()=>{for(let e of f.rules)y(e);y(f.post)})}function x(e,n){let{gen:t,schema:l,opts:{useDefaults:o}}=e;o&&(0,s.assignDefaults)(e,n.type),t.block(()=>{for(let t of n.rules)(0,i.shouldUseRule)(l,t)&&E(e,t.keyword,t.definition,n.type)})}function $(e,n){return e.includes(n)||"integer"===n&&e.includes("number")}function k(e,n){let t=e.schemaEnv.baseId+e.errSchemaPath;n+=` at "${t}" (strictTypes)`,(0,d.checkStrictMode)(e,n,e.opts.strictTypes)}e.exports.validateFunctionCode=// schema compilation - generates validation function, subschemaCode (below) is used for subschemas
function(e){if(b(e)&&(g(e),y(e))){(function(e){let{schema:n,opts:t,gen:l}=e;h(e,()=>{t.$comment&&n.$comment&&w(e),function(e){let{schema:n,opts:t}=e;void 0!==n.default&&t.useDefaults&&t.strictSchema&&(0,d.checkStrictMode)(e,"default is ignored in the schema root")}(e),l.let(u.default.vErrors,null),l.let(u.default.errors,0),t.unevaluated&&function(e){// TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated
let{gen:n,validateName:t}=e;e.evaluated=n.const("evaluated",(0,c._)`${t}.evaluated`),n.if((0,c._)`${e.evaluated}.dynamicProps`,()=>n.assign((0,c._)`${e.evaluated}.props`,(0,c._)`undefined`)),n.if((0,c._)`${e.evaluated}.dynamicItems`,()=>n.assign((0,c._)`${e.evaluated}.items`,(0,c._)`undefined`))}(e),v(e),function(e){let{gen:n,schemaEnv:t,validateName:l,ValidationError:o,opts:i}=e;t.$async?n.if((0,c._)`${u.default.errors} === 0`,()=>n.return(u.default.data),()=>n.throw((0,c._)`new ${o}(${u.default.vErrors})`)):(n.assign((0,c._)`${l}.errors`,u.default.vErrors),i.unevaluated&&function({gen:e,evaluated:n,props:t,items:l}){t instanceof c.Name&&e.assign((0,c._)`${n}.props`,t),l instanceof c.Name&&e.assign((0,c._)`${n}.items`,l)}(e),n.return((0,c._)`${u.default.errors} === 0`))}(e)})})(e);return}h(e,()=>(0,t.topBoolOrEmptySchema)(e))};class C{constructor(e,n,t){if((0,r.validateKeywordUsage)(e,n,t),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=t,this.data=e.data,this.schema=e.schema[t],this.$data=n.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(e,this.schema,t,this.$data),this.schemaType=n.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=n,this.$data)this.schemaCode=e.gen.const("vSchema",D(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,r.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw Error(`${t} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:!1!==n.errors)&&(this.errsCount=e.gen.const("_errs",u.default.errors))}result(e,n,t){this.failResult((0,c.not)(e),n,t)}failResult(e,n,t){this.gen.if(e),t?t():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,n){this.failResult((0,c.not)(e),void 0,n)}fail(e){if(void 0===e){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:n}=this;this.fail((0,c._)`${n} !== undefined && (${(0,c.or)(this.invalid$data(),e)})`)}error(e,n,t){if(n){this.setParams(n),this._error(e,t),this.setParams({});return}this._error(e,t)}_error(e,n){(e?p.reportExtraError:p.reportError)(this,this.def.error,n)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,n){n?Object.assign(this.params,e):this.params=e}block$data(e,n,t=c.nil){this.gen.block(()=>{this.check$data(e,t),n()})}check$data(e=c.nil,n=c.nil){if(!this.$data)return;let{gen:t,schemaCode:l,schemaType:o,def:i}=this;t.if((0,c.or)((0,c._)`${l} === undefined`,n)),e!==c.nil&&t.assign(e,!0),(o.length||i.validateSchema)&&(t.elseIf(this.invalid$data()),this.$dataError(),e!==c.nil&&t.assign(e,!1)),t.else()}invalid$data(){let{gen:e,schemaCode:n,schemaType:t,def:o,it:i}=this;return(0,c.or)(function(){if(t.length){/* istanbul ignore if */if(!(n instanceof c.Name))throw Error("ajv implementation error");let e=Array.isArray(t)?t:[t];return(0,c._)`${(0,l.checkDataTypes)(e,n,i.opts.strictNumbers,l.DataType.Wrong)}`}return c.nil}(),function(){if(o.validateSchema){let t=e.scopeValue("validate$data",{ref:o.validateSchema});// TODO value.code for standalone
return(0,c._)`!${t}(${n})`}return c.nil}())}subschema(e,n){let l=(0,a.getSubschema)(this.it,e);(0,a.extendSubschemaData)(l,this.it,e),(0,a.extendSubschemaMode)(l,e);let o={...this.it,...l,items:void 0,props:void 0};return(// schema compilation - this function is used recursively to generate code for sub-schemas
function(e,n){if(b(e)&&(g(e),y(e))){(function(e,n){let{schema:t,gen:l,opts:o}=e;o.$comment&&t.$comment&&w(e),function(e){let n=e.schema[e.opts.schemaId];n&&(e.baseId=(0,m.resolveUrl)(e.opts.uriResolver,e.baseId,n))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw Error("async schema in sync schema")}(e);let i=l.const("_errs",u.default.errors);v(e,i),// TODO var
l.var(n,(0,c._)`${i} === ${u.default.errors}`)})(e,n);return}(0,t.boolOrEmptySchema)(e,n)}(o,n),o)}mergeEvaluated(e,n){let{it:t,gen:l}=this;t.opts.unevaluated&&(!0!==t.props&&void 0!==e.props&&(t.props=d.mergeEvaluated.props(l,e.props,t.props,n)),!0!==t.items&&void 0!==e.items&&(t.items=d.mergeEvaluated.items(l,e.items,t.items,n)))}mergeValidEvaluated(e,n){let{it:t,gen:l}=this;if(t.opts.unevaluated&&(!0!==t.props||!0!==t.items))return l.if(n,()=>this.mergeEvaluated(e,c.Name)),!0}}function E(e,n,t,l){let o=new C(e,t,n);"code"in t?t.code(o,l):o.$data&&t.validate?(0,r.funcKeywordCode)(o,t):"macro"in t?(0,r.macroKeywordCode)(o,t):(t.compile||t.validate)&&(0,r.funcKeywordCode)(o,t)}e.exports.KeywordCxt=C;let P=/^\/(?:[^~]|~0|~1)*$/,S=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function D(e,{dataLevel:n,dataNames:t,dataPathArr:l}){let o,i;if(""===e)return u.default.rootData;if("/"===e[0]){if(!P.test(e))throw Error(`Invalid JSON-pointer: ${e}`);o=e,i=u.default.rootData}else{let s=S.exec(e);if(!s)throw Error(`Invalid JSON-pointer: ${e}`);let r=+s[1];if("#"===(o=s[2])){if(r>=n)throw Error(a("property/index",r));return l[n-r]}if(r>n)throw Error(a("data",r));if(i=t[n-r],!o)return i}let s=i,r=o.split("/");for(let e of r)e&&(i=(0,c._)`${i}${(0,c.getProperty)((0,d.unescapeJsonPointer)(e))}`,s=(0,c._)`${s} && ${i}`);return s;function a(e,t){return`Cannot access ${e} ${t} levels up, current level is ${n}`}}e.exports.getData=D}),i("13CAH",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.boolOrEmptySchema=e.exports.topBoolOrEmptySchema=void 0;var t=o("chQ9t"),l=o("fDfDB"),i=o("Vspwx");let s={message:"boolean schema is false"};function r(e,n){let{gen:l,data:o}=e;(0,t.reportError)({gen:l,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e},s,void 0,n)}e.exports.topBoolOrEmptySchema=function(e){let{gen:n,schema:t,validateName:o}=e;!1===t?r(e,!1):"object"==typeof t&&!0===t.$async?n.return(i.default.data):(n.assign((0,l._)`${o}.errors`,null),n.return(!0))},e.exports.boolOrEmptySchema=function(e,n){let{gen:t,schema:l}=e;!1===l?(t.var(n,!1),r(e)):t.var(n,!0);// TODO var
}}),i("chQ9t",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.extendErrors=e.exports.resetErrorsCount=e.exports.reportExtraError=e.exports.reportError=e.exports.keyword$DataError=e.exports.keywordError=void 0;var t=o("fDfDB"),l=o("4uCyc"),i=o("Vspwx");function s(e,n){let l=e.const("err",n);e.if((0,t._)`${i.default.vErrors} === null`,()=>e.assign(i.default.vErrors,(0,t._)`[${l}]`),(0,t._)`${i.default.vErrors}.push(${l})`),e.code((0,t._)`${i.default.errors}++`)}function r(e,n){let{gen:l,validateName:o,schemaEnv:i}=e;i.$async?l.throw((0,t._)`new ${e.ValidationError}(${n})`):(l.assign((0,t._)`${o}.errors`,n),l.return(!1))}e.exports.keywordError={message:({keyword:e})=>(0,t.str)`must pass "${e}" keyword validation`},e.exports.keyword$DataError={message:({keyword:e,schemaType:n})=>n?(0,t.str)`"${e}" keyword must be ${n} ($data)`:(0,t.str)`"${e}" keyword is invalid ($data)`},e.exports.reportError=function(n,l=e.exports.keywordError,o,i){let{it:a}=n,{gen:u,compositeRule:m,allErrors:d}=a,p=c(n,l,o);(null!=i?i:m||d)?s(u,p):r(a,(0,t._)`[${p}]`)},e.exports.reportExtraError=function(n,t=e.exports.keywordError,l){let{it:o}=n,{gen:a,compositeRule:u,allErrors:m}=o,d=c(n,t,l);s(a,d),u||m||r(o,i.default.vErrors)},e.exports.resetErrorsCount=function(e,n){e.assign(i.default.errors,n),e.if((0,t._)`${i.default.vErrors} !== null`,()=>e.if(n,()=>e.assign((0,t._)`${i.default.vErrors}.length`,n),()=>e.assign(i.default.vErrors,null)))},e.exports.extendErrors=function({gen:e,keyword:n,schemaValue:l,data:o,errsCount:s,it:r}){/* istanbul ignore if */if(void 0===s)throw Error("ajv implementation error");let a=e.name("err");e.forRange("i",s,i.default.errors,s=>{e.const(a,(0,t._)`${i.default.vErrors}[${s}]`),e.if((0,t._)`${a}.instancePath === undefined`,()=>e.assign((0,t._)`${a}.instancePath`,(0,t.strConcat)(i.default.instancePath,r.errorPath))),e.assign((0,t._)`${a}.schemaPath`,(0,t.str)`${r.errSchemaPath}/${n}`),r.opts.verbose&&(e.assign((0,t._)`${a}.schema`,l),e.assign((0,t._)`${a}.data`,o))})};let a={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(e,n,o){let{createErrors:s}=e.it;return!1===s?(0,t._)`{}`:function(e,n,o={}){let{gen:s,it:r}=e,c=[function({errorPath:e},{instancePath:n}){let o=n?(0,t.str)`${e}${(0,l.getErrorPath)(n,l.Type.Str)}`:e;return[i.default.instancePath,(0,t.strConcat)(i.default.instancePath,o)]}(r,o),function({keyword:e,it:{errSchemaPath:n}},{schemaPath:o,parentSchema:i}){let s=i?n:(0,t.str)`${n}/${e}`;return o&&(s=(0,t.str)`${s}${(0,l.getErrorPath)(o,l.Type.Str)}`),[a.schemaPath,s]}(e,o)];return function(e,{params:n,message:l},o){let{keyword:s,data:r,schemaValue:c,it:u}=e,{opts:m,propertyName:d,topSchemaRef:p,schemaPath:h}=u;o.push([a.keyword,s],[a.params,"function"==typeof n?n(e):n||(0,t._)`{}`]),m.messages&&o.push([a.message,"function"==typeof l?l(e):l]),m.verbose&&o.push([a.schema,c],[a.parentSchema,(0,t._)`${p}${h}`],[i.default.data,r]),d&&o.push([a.propertyName,d])}(e,n,c),s.object(...c)}(e,n,o)}}),i("fDfDB",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.or=e.exports.and=e.exports.not=e.exports.CodeGen=e.exports.operators=e.exports.varKinds=e.exports.ValueScopeName=e.exports.ValueScope=e.exports.Scope=e.exports.Name=e.exports.regexpCode=e.exports.stringify=e.exports.getProperty=e.exports.nil=e.exports.strConcat=e.exports.str=e.exports._=void 0;var t=o("8qD7W"),l=o("8GUhz"),t=o("8qD7W");Object.defineProperty(e.exports,"_",{enumerable:!0,get:function(){return t._}}),Object.defineProperty(e.exports,"str",{enumerable:!0,get:function(){return t.str}}),Object.defineProperty(e.exports,"strConcat",{enumerable:!0,get:function(){return t.strConcat}}),Object.defineProperty(e.exports,"nil",{enumerable:!0,get:function(){return t.nil}}),Object.defineProperty(e.exports,"getProperty",{enumerable:!0,get:function(){return t.getProperty}}),Object.defineProperty(e.exports,"stringify",{enumerable:!0,get:function(){return t.stringify}}),Object.defineProperty(e.exports,"regexpCode",{enumerable:!0,get:function(){return t.regexpCode}}),Object.defineProperty(e.exports,"Name",{enumerable:!0,get:function(){return t.Name}});var l=o("8GUhz");Object.defineProperty(e.exports,"Scope",{enumerable:!0,get:function(){return l.Scope}}),Object.defineProperty(e.exports,"ValueScope",{enumerable:!0,get:function(){return l.ValueScope}}),Object.defineProperty(e.exports,"ValueScopeName",{enumerable:!0,get:function(){return l.ValueScopeName}}),Object.defineProperty(e.exports,"varKinds",{enumerable:!0,get:function(){return l.varKinds}}),e.exports.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(e,n){return this}}class s extends i{constructor(e,n,t){super(),this.varKind=e,this.name=n,this.rhs=t}render({es5:e,_n:n}){let t=e?l.varKinds.var:this.varKind,o=void 0===this.rhs?"":` = ${this.rhs}`;return`${t} ${this.name}${o};`+n}optimizeNames(e,n){if(e[this.name.str])return this.rhs&&(this.rhs=D(this.rhs,e,n)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class r extends i{constructor(e,n,t){super(),this.lhs=e,this.rhs=n,this.sideEffects=t}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,n){if(!(this.lhs instanceof t.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=D(this.rhs,e,n),this}get names(){let e=this.lhs instanceof t.Name?{}:{...this.lhs.names};return S(e,this.rhs)}}class a extends r{constructor(e,n,t,l){super(e,t,l),this.op=n}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class c extends i{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class u extends i{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){let n=this.label?` ${this.label}`:"";return`break${n};`+e}}class m extends i{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class d extends i{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,n){return this.code=D(this.code,e,n),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class p extends i{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((n,t)=>n+t.render(e),"")}optimizeNodes(){let{nodes:e}=this,n=e.length;for(;n--;){let t=e[n].optimizeNodes();Array.isArray(t)?e.splice(n,1,...t):t?e[n]=t:e.splice(n,1)}return e.length>0?this:void 0}optimizeNames(e,n){let{nodes:t}=this,l=t.length;for(;l--;){// iterating backwards improves 1-pass optimization
let o=t[l];o.optimizeNames(e,n)||(function(e,n){for(let t in n)e[t]=(e[t]||0)-(n[t]||0)}(e,o.names),t.splice(l,1))}return t.length>0?this:void 0}get names(){return this.nodes.reduce((e,n)=>P(e,n.names),{})}}class h extends p{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class f extends p{}class y extends h{}y.kind="else";class b extends h{constructor(e,n){super(n),this.condition=e}render(e){let n=`if(${this.condition})`+super.render(e);return this.else&&(n+="else "+this.else.render(e)),n}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(!0===e)return this.nodes;// else is ignored here
let n=this.else;if(n){let e=n.optimizeNodes();n=this.else=Array.isArray(e)?new y(e):e}return n?!1===e?n instanceof b?n:n.nodes:this.nodes.length?this:new b(M(e),n instanceof b?[n]:n.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,n){var t;if(this.else=null===(t=this.else)||void 0===t?void 0:t.optimizeNames(e,n),super.optimizeNames(e,n)||this.else)return this.condition=D(this.condition,e,n),this}get names(){let e=super.names;return S(e,this.condition),this.else&&P(e,this.else.names),e}}b.kind="if";class g extends h{}g.kind="for";class v extends g{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,n){if(super.optimizeNames(e,n))return this.iteration=D(this.iteration,e,n),this}get names(){return P(super.names,this.iteration.names)}}class w extends g{constructor(e,n,t,l){super(),this.varKind=e,this.name=n,this.from=t,this.to=l}render(e){let n=e.es5?l.varKinds.var:this.varKind,{name:t,from:o,to:i}=this;return`for(${n} ${t}=${o}; ${t}<${i}; ${t}++)`+super.render(e)}get names(){let e=S(super.names,this.from);return S(e,this.to)}}class _ extends g{constructor(e,n,t,l){super(),this.loop=e,this.varKind=n,this.name=t,this.iterable=l}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,n){if(super.optimizeNames(e,n))return this.iterable=D(this.iterable,e,n),this}get names(){return P(super.names,this.iterable.names)}}class x extends h{constructor(e,n,t){super(),this.name=e,this.args=n,this.async=t}render(e){let n=this.async?"async ":"";return`${n}function ${this.name}(${this.args})`+super.render(e)}}x.kind="func";class $ extends p{render(e){return"return "+super.render(e)}}$.kind="return";class k extends h{render(e){let n="try"+super.render(e);return this.catch&&(n+=this.catch.render(e)),this.finally&&(n+=this.finally.render(e)),n}optimizeNodes(){var e,n;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(n=this.finally)||void 0===n||n.optimizeNodes(),this}optimizeNames(e,n){var t,l;return super.optimizeNames(e,n),null===(t=this.catch)||void 0===t||t.optimizeNames(e,n),null===(l=this.finally)||void 0===l||l.optimizeNames(e,n),this}get names(){let e=super.names;return this.catch&&P(e,this.catch.names),this.finally&&P(e,this.finally.names),e}}class C extends h{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}C.kind="catch";class E extends h{render(e){return"finally"+super.render(e)}}function P(e,n){for(let t in n)e[t]=(e[t]||0)+(n[t]||0);return e}function S(e,n){return n instanceof t._CodeOrName?P(e,n.names):e}function D(e,n,l){if(e instanceof t.Name)return o(e);if(!(e instanceof t._Code&&e._items.some(e=>e instanceof t.Name&&1===n[e.str]&&void 0!==l[e.str])))return e;return new t._Code(e._items.reduce((e,n)=>(n instanceof t.Name&&(n=o(n)),n instanceof t._Code?e.push(...n._items):e.push(n),e),[]));function o(e){let t=l[e.str];return void 0===t||1!==n[e.str]?e:(delete n[e.str],t)}}function M(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,t._)`!${I(e)}`}E.kind="finally",e.exports.CodeGen=class{constructor(e,n={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...n,_n:n.lines?"\n":""},this._extScope=e,this._scope=new l.Scope({parent:e}),this._nodes=[new f]}toString(){return this._root.render(this.opts)}// returns unique name in the internal scope
name(e){return this._scope.name(e)}// reserves unique name in the external scope
scopeName(e){return this._extScope.name(e)}// reserves unique name in the external scope and assigns value to it
scopeValue(e,n){let t=this._extScope.value(e,n),l=this._values[t.prefix]||(this._values[t.prefix]=new Set);return l.add(t),t}getScopeValue(e,n){return this._extScope.getValue(e,n)}// return code that assigns values in the external scope to the names that are used internally
// (same names that were returned by gen.scopeName or gen.scopeValue)
scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,n,t,l){let o=this._scope.toName(n);return void 0!==t&&l&&(this._constants[o.str]=t),this._leafNode(new s(e,o,t)),o}// `const` declaration (`var` in es5 mode)
const(e,n,t){return this._def(l.varKinds.const,e,n,t)}// `let` declaration with optional assignment (`var` in es5 mode)
let(e,n,t){return this._def(l.varKinds.let,e,n,t)}// `var` declaration with optional assignment
var(e,n,t){return this._def(l.varKinds.var,e,n,t)}// assignment code
assign(e,n,t){return this._leafNode(new r(e,n,t))}// `+=` code
add(n,t){return this._leafNode(new a(n,e.exports.operators.ADD,t))}// appends passed SafeExpr to code or executes Block
code(e){return"function"==typeof e?e():e!==t.nil&&this._leafNode(new d(e)),this}// returns code for object literal for the passed argument list of key-value pairs
object(...e){let n=["{"];for(let[l,o]of e)n.length>1&&n.push(","),n.push(l),(l!==o||this.opts.es5)&&(n.push(":"),(0,t.addCodeArg)(n,o));return n.push("}"),new t._Code(n)}// `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)
if(e,n,t){if(this._blockNode(new b(e)),n&&t)this.code(n).else().code(t).endIf();else if(n)this.code(n).endIf();else if(t)throw Error('CodeGen: "else" body without "then" body');return this}// `else if` clause - invalid without `if` or after `else` clauses
elseIf(e){return this._elseNode(new b(e))}// `else` clause - only valid after `if` or `else if` clauses
else(){return this._elseNode(new y)}// end `if` statement (needed if gen.if was used only with condition)
endIf(){return this._endBlockNode(b,y)}_for(e,n){return this._blockNode(e),n&&this.code(n).endFor(),this}// a generic `for` clause (or statement if `forBody` is passed)
for(e,n){return this._for(new v(e),n)}// `for` statement for a range of values
forRange(e,n,t,o,i=this.opts.es5?l.varKinds.var:l.varKinds.let){let s=this._scope.toName(e);return this._for(new w(i,s,n,t),()=>o(s))}// `for-of` statement (in es5 mode replace with a normal for loop)
forOf(e,n,o,i=l.varKinds.const){let s=this._scope.toName(e);if(this.opts.es5){let e=n instanceof t.Name?n:this.var("_arr",n);return this.forRange("_i",0,(0,t._)`${e}.length`,n=>{this.var(s,(0,t._)`${e}[${n}]`),o(s)})}return this._for(new _("of",i,s,n),()=>o(s))}// `for-in` statement.
// With option `ownProperties` replaced with a `for-of` loop for object keys
forIn(e,n,o,i=this.opts.es5?l.varKinds.var:l.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,t._)`Object.keys(${n})`,o);let s=this._scope.toName(e);return this._for(new _("in",i,s,n),()=>o(s))}// end `for` loop
endFor(){return this._endBlockNode(g)}// `label` statement
label(e){return this._leafNode(new c(e))}// `break` statement
break(e){return this._leafNode(new u(e))}// `return` statement
return(e){let n=new $;if(this._blockNode(n),this.code(e),1!==n.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode($)}// `try` statement
try(e,n,t){if(!n&&!t)throw Error('CodeGen: "try" without "catch" and "finally"');let l=new k;if(this._blockNode(l),this.code(e),n){let e=this.name("e");this._currNode=l.catch=new C(e),n(e)}return t&&(this._currNode=l.finally=new E,this.code(t)),this._endBlockNode(C,E)}// `throw` statement
throw(e){return this._leafNode(new m(e))}// start self-balancing block
block(e,n){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(n),this}// end the current self-balancing block
endBlock(e){let n=this._blockStarts.pop();if(void 0===n)throw Error("CodeGen: not in self-balancing block");let t=this._nodes.length-n;if(t<0||void 0!==e&&t!==e)throw Error(`CodeGen: wrong number of nodes: ${t} vs ${e} expected`);return this._nodes.length=n,this}// `function` heading (or definition if funcBody is passed)
func(e,n=t.nil,l,o){return this._blockNode(new x(e,n,l)),o&&this.code(o).endFunc(),this}// end function definition
endFunc(){return this._endBlockNode(x)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,n){let t=this._currNode;if(t instanceof e||n&&t instanceof n)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${n?`${e.kind}/${n.kind}`:e.kind}"`)}_elseNode(e){let n=this._currNode;if(!(n instanceof b))throw Error('CodeGen: "else" without "if"');return this._currNode=n.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let n=this._nodes;n[n.length-1]=e}},e.exports.not=M;let j=T(e.exports.operators.AND);e.exports.and=// boolean AND (&&) expression with the passed arguments
function(...e){return e.reduce(j)};let N=T(e.exports.operators.OR);function T(e){return(n,l)=>n===t.nil?l:l===t.nil?n:(0,t._)`${I(n)} ${e} ${I(l)}`}function I(e){return e instanceof t.Name?e:(0,t._)`(${e})`}e.exports.or=// boolean OR (||) expression with the passed arguments
function(...e){return e.reduce(N)}}),i("8qD7W",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.regexpCode=e.exports.getEsmExportName=e.exports.getProperty=e.exports.safeStringify=e.exports.stringify=e.exports.strConcat=e.exports.addCodeArg=e.exports.str=e.exports._=e.exports.nil=e.exports._Code=e.exports.Name=e.exports.IDENTIFIER=e.exports._CodeOrName=void 0;// eslint-disable-next-line @typescript-eslint/no-extraneous-class
class t{}e.exports._CodeOrName=t,e.exports.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class l extends t{constructor(n){if(super(),!e.exports.IDENTIFIER.test(n))throw Error("CodeGen: name must be a valid identifier");this.str=n}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.exports.Name=l;class o extends t{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce((e,n)=>`${e}${n}`,"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce((e,n)=>(n instanceof l&&(e[n.str]=(e[n.str]||0)+1),e),{})}}function i(e,...n){let t=[e[0]],l=0;for(;l<n.length;)a(t,n[l]),t.push(e[++l]);return new o(t)}e.exports._Code=o,e.exports.nil=new o(""),e.exports._=i;let s=new o("+");function r(e,...n){let t=[c(e[0])],i=0;for(;i<n.length;)t.push(s),a(t,n[i]),t.push(s,c(e[++i]));return function(e){let n=1;for(;n<e.length-1;){if(e[n]===s){var t,o;let i=(t=e[n-1],'""'===(o=e[n+1])?t:'""'===t?o:"string"==typeof t?o instanceof l||'"'!==t[t.length-1]?void 0:"string"!=typeof o?`${t.slice(0,-1)}${o}"`:'"'===o[0]?t.slice(0,-1)+o.slice(1):void 0:"string"!=typeof o||'"'!==o[0]||t instanceof l?void 0:`"${t}${o.slice(1)}`);if(void 0!==i){e.splice(n-1,3,i);continue}e[n++]="+"}n++}}(t),new o(t)}function a(e,n){n instanceof o?e.push(...n._items):n instanceof l?e.push(n):e.push("number"==typeof n||"boolean"==typeof n||null===n?n:c(Array.isArray(n)?n.join(","):n))}function c(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.exports.str=r,e.exports.addCodeArg=a,e.exports.strConcat=function(e,n){return n.emptyStr()?e:e.emptyStr()?n:r`${e}${n}`},e.exports.stringify=function(e){return new o(c(e))},e.exports.safeStringify=c,e.exports.getProperty=function(n){return"string"==typeof n&&e.exports.IDENTIFIER.test(n)?new o(`.${n}`):i`[${n}]`},e.exports.getEsmExportName=//Does best effort to format the name properly
function(n){if("string"==typeof n&&e.exports.IDENTIFIER.test(n))return new o(`${n}`);throw Error(`CodeGen: invalid export name: ${n}, use explicit $id name mapping`)},e.exports.regexpCode=function(e){return new o(e.toString())}}),i("8GUhz",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ValueScope=e.exports.ValueScopeName=e.exports.Scope=e.exports.varKinds=e.exports.UsedValueState=void 0;var t,l,i=o("8qD7W");class s extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}(t=l||(e.exports.UsedValueState=l={}))[t.Started=0]="Started",t[t.Completed=1]="Completed",e.exports.varKinds={const:new i.Name("const"),let:new i.Name("let"),var:new i.Name("var")};class r{constructor({prefixes:e,parent:n}={}){this._names={},this._prefixes=e,this._parent=n}toName(e){return e instanceof i.Name?e:this.name(e)}name(e){return new i.Name(this._newName(e))}_newName(e){let n=this._names[e]||this._nameGroup(e);return`${e}${n.index++}`}_nameGroup(e){var n,t;if((null===(t=null===(n=this._parent)||void 0===n?void 0:n._prefixes)||void 0===t?void 0:t.has(e))||this._prefixes&&!this._prefixes.has(e))throw Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}e.exports.Scope=r;class a extends i.Name{constructor(e,n){super(n),this.prefix=e}setValue(e,{property:n,itemIndex:t}){this.value=e,this.scopePath=(0,i._)`.${new i.Name(n)}[${t}]`}}e.exports.ValueScopeName=a;let c=(0,i._)`\n`;e.exports.ValueScope=class extends r{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:i.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,n){var t;if(void 0===n.ref)throw Error("CodeGen: ref must be passed in value");let l=this.toName(e),{prefix:o}=l,i=null!==(t=n.key)&&void 0!==t?t:n.ref,s=this._values[o];if(s){let e=s.get(i);if(e)return e}else s=this._values[o]=new Map;s.set(i,l);let r=this._scope[o]||(this._scope[o]=[]),a=r.length;return r[a]=n.ref,l.setValue(n,{property:o,itemIndex:a}),l}getValue(e,n){let t=this._values[e];if(t)return t.get(n)}scopeRefs(e,n=this._values){return this._reduceValues(n,n=>{if(void 0===n.scopePath)throw Error(`CodeGen: name "${n}" has no value`);return(0,i._)`${e}${n.scopePath}`})}scopeCode(e=this._values,n,t){return this._reduceValues(e,e=>{if(void 0===e.value)throw Error(`CodeGen: name "${e}" has no value`);return e.value.code},n,t)}_reduceValues(n,t,o={},r){let a=i.nil;for(let c in n){let u=n[c];if(!u)continue;let m=o[c]=o[c]||new Map;u.forEach(n=>{if(m.has(n))return;m.set(n,l.Started);let o=t(n);if(o){let t=this.opts.es5?e.exports.varKinds.var:e.exports.varKinds.const;a=(0,i._)`${a}${t} ${n} = ${o};${this.opts._n}`}else if(o=null==r?void 0:r(n))a=(0,i._)`${a}${o}${this.opts._n}`;else throw new s(n);m.set(n,l.Completed)})}return a}}}),i("4uCyc",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.checkStrictMode=e.exports.getErrorPath=e.exports.Type=e.exports.useFunc=e.exports.setEvaluated=e.exports.evaluatedPropsToName=e.exports.mergeEvaluated=e.exports.eachItem=e.exports.unescapeJsonPointer=e.exports.escapeJsonPointer=e.exports.escapeFragment=e.exports.unescapeFragment=e.exports.schemaRefOrVal=e.exports.schemaHasRulesButRef=e.exports.schemaHasRules=e.exports.checkUnknownRules=e.exports.alwaysValidSchema=e.exports.toHash=void 0;var t,l,i=o("fDfDB"),s=o("8qD7W");function r(e,n=e.schema){let{opts:t,self:l}=e;if(!t.strictSchema||"boolean"==typeof n)return;let o=l.RULES.keywords;for(let t in n)o[t]||f(e,`unknown keyword: "${t}"`)}function a(e,n){if("boolean"==typeof e)return!e;for(let t in e)if(n[t])return!0;return!1}function c(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function u(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function m({mergeNames:e,mergeToName:n,mergeValues:t,resultToName:l}){return(o,s,r,a)=>{let c=void 0===r?s:r instanceof i.Name?(s instanceof i.Name?e(o,s,r):n(o,s,r),r):s instanceof i.Name?(n(o,r,s),s):t(s,r);return a!==i.Name||c instanceof i.Name?c:l(o,c)}}function d(e,n){if(!0===n)return e.var("props",!0);let t=e.var("props",(0,i._)`{}`);return void 0!==n&&p(e,t,n),t}function p(e,n,t){Object.keys(t).forEach(t=>e.assign((0,i._)`${n}${(0,i.getProperty)(t)}`,!0))}e.exports.toHash=// TODO refactor to use Set
function(e){let n={};for(let t of e)n[t]=!0;return n},e.exports.alwaysValidSchema=function(e,n){return"boolean"==typeof n?n:0===Object.keys(n).length||(r(e,n),!a(n,e.self.RULES.all))},e.exports.checkUnknownRules=r,e.exports.schemaHasRules=a,e.exports.schemaHasRulesButRef=function(e,n){if("boolean"==typeof e)return!e;for(let t in e)if("$ref"!==t&&n.all[t])return!0;return!1},e.exports.schemaRefOrVal=function({topSchemaRef:e,schemaPath:n},t,l,o){if(!o){if("number"==typeof t||"boolean"==typeof t)return t;if("string"==typeof t)return(0,i._)`${t}`}return(0,i._)`${e}${n}${(0,i.getProperty)(l)}`},e.exports.unescapeFragment=function(e){return u(decodeURIComponent(e))},e.exports.escapeFragment=function(e){return encodeURIComponent(c(e))},e.exports.escapeJsonPointer=c,e.exports.unescapeJsonPointer=u,e.exports.eachItem=function(e,n){if(Array.isArray(e))for(let t of e)n(t);else n(e)},e.exports.mergeEvaluated={props:m({mergeNames:(e,n,t)=>e.if((0,i._)`${t} !== true && ${n} !== undefined`,()=>{e.if((0,i._)`${n} === true`,()=>e.assign(t,!0),()=>e.assign(t,(0,i._)`${t} || {}`).code((0,i._)`Object.assign(${t}, ${n})`))}),mergeToName:(e,n,t)=>e.if((0,i._)`${t} !== true`,()=>{!0===n?e.assign(t,!0):(e.assign(t,(0,i._)`${t} || {}`),p(e,t,n))}),mergeValues:(e,n)=>!0===e||{...e,...n},resultToName:d}),items:m({mergeNames:(e,n,t)=>e.if((0,i._)`${t} !== true && ${n} !== undefined`,()=>e.assign(t,(0,i._)`${n} === true ? true : ${t} > ${n} ? ${t} : ${n}`)),mergeToName:(e,n,t)=>e.if((0,i._)`${t} !== true`,()=>e.assign(t,!0===n||(0,i._)`${t} > ${n} ? ${t} : ${n}`)),mergeValues:(e,n)=>!0===e||Math.max(e,n),resultToName:(e,n)=>e.var("items",n)})},e.exports.evaluatedPropsToName=d,e.exports.setEvaluated=p;let h={};function f(e,n,t=e.opts.strictSchema){if(t){if(n=`strict mode: ${n}`,!0===t)throw Error(n);e.self.logger.warn(n)}}e.exports.useFunc=function(e,n){return e.scopeValue("func",{ref:n,code:h[n.code]||(h[n.code]=new s._Code(n.code))})},(t=l||(e.exports.Type=l={}))[t.Num=0]="Num",t[t.Str=1]="Str",e.exports.getErrorPath=function(e,n,t){// let path
if(e instanceof i.Name){let o=n===l.Num;return t?o?(0,i._)`"[" + ${e} + "]"`:(0,i._)`"['" + ${e} + "']"`:o?(0,i._)`"/" + ${e}`:(0,i._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`;// TODO maybe use global escapePointer
}return t?(0,i.getProperty)(e).toString():"/"+c(e)},e.exports.checkStrictMode=f}),i("Vspwx",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB");let l={// validation function arguments
data:new t.Name("data"),// args passed from referencing schema
valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),// function scoped variables
vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),// "globals"
self:new t.Name("self"),scope:new t.Name("scope"),// JTD serialize/parse name for JSON string and position
json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.exports.default=l}),i("fC5iG",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.reportTypeError=e.exports.checkDataTypes=e.exports.checkDataType=e.exports.coerceAndCheckDataType=e.exports.getJSONTypes=e.exports.getSchemaTypes=e.exports.DataType=void 0;var t,l,i=o("eBmwi"),s=o("5p6JY"),r=o("chQ9t"),a=o("fDfDB"),c=o("4uCyc");// eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents
function u(e){let n=Array.isArray(e)?e:e?[e]:[];if(n.every(i.isJSONType))return n;throw Error("type must be JSONType or JSONType[]: "+n.join(","))}(t=l||(e.exports.DataType=l={}))[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong",e.exports.getSchemaTypes=function(e){let n=u(e.type),t=n.includes("null");if(t){if(!1===e.nullable)throw Error("type: null contradicts nullable: false")}else{if(!n.length&&void 0!==e.nullable)throw Error('"nullable" cannot be used without "type"');!0===e.nullable&&n.push("null")}return n},e.exports.getJSONTypes=u,e.exports.coerceAndCheckDataType=function(e,n){var t;let{gen:o,data:i,opts:r}=e,c=(t=r.coerceTypes)?n.filter(e=>m.has(e)||"array"===t&&"array"===e):[],u=n.length>0&&!(0===c.length&&1===n.length&&(0,s.schemaHasRulesForType)(e,n[0]));if(u){let t=p(n,i,r.strictNumbers,l.Wrong);o.if(t,()=>{c.length?function(e,n,t){let{gen:l,data:o,opts:i}=e,s=l.let("dataType",(0,a._)`typeof ${o}`),r=l.let("coerced",(0,a._)`undefined`);for(let e of("array"===i.coerceTypes&&l.if((0,a._)`${s} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>l.assign(o,(0,a._)`${o}[0]`).assign(s,(0,a._)`typeof ${o}`).if(p(n,o,i.strictNumbers),()=>l.assign(r,o))),l.if((0,a._)`${r} !== undefined`),t))(m.has(e)||"array"===e&&"array"===i.coerceTypes)&&function(e){switch(e){case"string":l.elseIf((0,a._)`${s} == "number" || ${s} == "boolean"`).assign(r,(0,a._)`"" + ${o}`).elseIf((0,a._)`${o} === null`).assign(r,(0,a._)`""`);return;case"number":l.elseIf((0,a._)`${s} == "boolean" || ${o} === null
              || (${s} == "string" && ${o} && ${o} == +${o})`).assign(r,(0,a._)`+${o}`);return;case"integer":l.elseIf((0,a._)`${s} === "boolean" || ${o} === null
              || (${s} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(r,(0,a._)`+${o}`);return;case"boolean":l.elseIf((0,a._)`${o} === "false" || ${o} === 0 || ${o} === null`).assign(r,!1).elseIf((0,a._)`${o} === "true" || ${o} === 1`).assign(r,!0);return;case"null":l.elseIf((0,a._)`${o} === "" || ${o} === 0 || ${o} === false`),l.assign(r,null);return;case"array":l.elseIf((0,a._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${o} === null`).assign(r,(0,a._)`[${o}]`)}}(e);l.else(),f(e),l.endIf(),l.if((0,a._)`${r} !== undefined`,()=>{l.assign(o,r),function({gen:e,parentData:n,parentDataProperty:t},l){// TODO use gen.property
e.if((0,a._)`${n} !== undefined`,()=>e.assign((0,a._)`${n}[${t}]`,l))}(e,r)})}(e,n,c):f(e)})}return u};let m=new Set(["string","number","integer","boolean","null"]);function d(e,n,t,o=l.Correct){let i;let s=o===l.Correct?a.operators.EQ:a.operators.NEQ;switch(e){case"null":return(0,a._)`${n} ${s} null`;case"array":i=(0,a._)`Array.isArray(${n})`;break;case"object":i=(0,a._)`${n} && typeof ${n} == "object" && !Array.isArray(${n})`;break;case"integer":i=r((0,a._)`!(${n} % 1) && !isNaN(${n})`);break;case"number":i=r();break;default:return(0,a._)`typeof ${n} ${s} ${e}`}return o===l.Correct?i:(0,a.not)(i);function r(e=a.nil){return(0,a.and)((0,a._)`typeof ${n} == "number"`,e,t?(0,a._)`isFinite(${n})`:a.nil)}}function p(e,n,t,l){let o;if(1===e.length)return d(e[0],n,t,l);let i=(0,c.toHash)(e);if(i.array&&i.object){let e=(0,a._)`typeof ${n} != "object"`;o=i.null?e:(0,a._)`!${n} || ${e}`,delete i.null,delete i.array,delete i.object}else o=a.nil;for(let e in i.number&&delete i.integer,i)o=(0,a.and)(o,d(e,n,t,l));return o}e.exports.checkDataType=d,e.exports.checkDataTypes=p;let h={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:n})=>"string"==typeof e?(0,a._)`{type: ${e}}`:(0,a._)`{type: ${n}}`};function f(e){let n=function(e){let{gen:n,data:t,schema:l}=e,o=(0,c.schemaRefOrVal)(e,l,"type");return{gen:n,keyword:"type",data:t,schema:l.type,schemaCode:o,schemaValue:o,parentSchema:l,params:{},it:e}}(e);(0,r.reportError)(n,h)}e.exports.reportTypeError=f}),i("eBmwi",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.getRules=e.exports.isJSONType=void 0;let t=new Set(["string","number","integer","boolean","null","object","array"]);e.exports.isJSONType=function(e){return"string"==typeof e&&t.has(e)},e.exports.getRules=function(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}}),i("5p6JY",function(e,n){function t(e,n){return n.rules.some(n=>l(e,n))}function l(e,n){var t;return void 0!==e[n.keyword]||(null===(t=n.definition.implements)||void 0===t?void 0:t.some(n=>void 0!==e[n]))}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.shouldUseRule=e.exports.shouldUseGroup=e.exports.schemaHasRulesForType=void 0,e.exports.schemaHasRulesForType=function({schema:e,self:n},l){let o=n.RULES.types[l];return o&&!0!==o&&t(e,o)},e.exports.shouldUseGroup=t,e.exports.shouldUseRule=l}),i("j0bag",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.assignDefaults=void 0;var t=o("fDfDB"),l=o("4uCyc");function i(e,n,o){let{gen:i,compositeRule:s,data:r,opts:a}=e;if(void 0===o)return;let c=(0,t._)`${r}${(0,t.getProperty)(n)}`;if(s){(0,l.checkStrictMode)(e,`default is ignored for: ${c}`);return}let u=(0,t._)`${c} === undefined`;"empty"===a.useDefaults&&(u=(0,t._)`${u} || ${c} === null || ${c} === ""`),// `${childData} === undefined` +
// (opts.useDefaults === "empty" ? ` || ${childData} === null || ${childData} === ""` : "")
i.if(u,(0,t._)`${c} = ${(0,t.stringify)(o)}`)}e.exports.assignDefaults=function(e,n){let{properties:t,items:l}=e.schema;if("object"===n&&t)for(let n in t)i(e,n,t[n].default);else"array"===n&&Array.isArray(l)&&l.forEach((n,t)=>i(e,t,n.default))}}),i("824pZ",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.validateKeywordUsage=e.exports.validSchemaType=e.exports.funcKeywordCode=e.exports.macroKeywordCode=void 0;var t=o("fDfDB"),l=o("Vspwx"),i=o("fqAny"),s=o("chQ9t");function r(e){let{gen:n,data:l,it:o}=e;n.if(o.parentData,()=>n.assign(l,(0,t._)`${o.parentData}[${o.parentDataProperty}]`))}function a(e,n,l){if(void 0===l)throw Error(`keyword "${n}" failed to compile`);return e.scopeValue("keyword","function"==typeof l?{ref:l}:{ref:l,code:(0,t.stringify)(l)})}e.exports.macroKeywordCode=function(e,n){let{gen:l,keyword:o,schema:i,parentSchema:s,it:r}=e,c=n.macro.call(r.self,i,s,r),u=a(l,o,c);!1!==r.opts.validateSchema&&r.self.validateSchema(c,!0);let m=l.name("valid");e.subschema({schema:c,schemaPath:t.nil,errSchemaPath:`${r.errSchemaPath}/${o}`,topSchemaRef:u,compositeRule:!0},m),e.pass(m,()=>e.error(!0))},e.exports.funcKeywordCode=function(e,n){var o;let{gen:c,keyword:u,schema:m,parentSchema:d,$data:p,it:h}=e;(function({schemaEnv:e},n){if(n.async&&!e.$async)throw Error("async keyword in sync schema")})(h,n);let f=!p&&n.compile?n.compile.call(h.self,m,d,h):n.validate,y=a(c,u,f),b=c.let("valid");function g(o=n.async?(0,t._)`await `:t.nil){let s=h.opts.passContext?l.default.this:l.default.self,r=!("compile"in n&&!p||!1===n.schema);c.assign(b,(0,t._)`${o}${(0,i.callValidateCode)(e,y,s,r)}`,n.modifying)}function v(e){var l;c.if((0,t.not)(null!==(l=n.valid)&&void 0!==l?l:b),e)}e.block$data(b,function(){if(!1===n.errors)g(),n.modifying&&r(e),v(()=>e.error());else{let o=n.async?function(){let e=c.let("ruleErrs",null);return c.try(()=>g((0,t._)`await `),n=>c.assign(b,!1).if((0,t._)`${n} instanceof ${h.ValidationError}`,()=>c.assign(e,(0,t._)`${n}.errors`),()=>c.throw(n))),e}():function(){let e=(0,t._)`${y}.errors`;return c.assign(e,null),g(t.nil),e}();n.modifying&&r(e),v(()=>(function(e,n){let{gen:o}=e;o.if((0,t._)`Array.isArray(${n})`,()=>{o.assign(l.default.vErrors,(0,t._)`${l.default.vErrors} === null ? ${n} : ${l.default.vErrors}.concat(${n})`).assign(l.default.errors,(0,t._)`${l.default.vErrors}.length`),(0,s.extendErrors)(e)},()=>e.error())})(e,o))}}),e.ok(null!==(o=n.valid)&&void 0!==o?o:b)},e.exports.validSchemaType=function(e,n,t=!1){// TODO add tests
return!n.length||n.some(n=>"array"===n?Array.isArray(e):"object"===n?e&&"object"==typeof e&&!Array.isArray(e):typeof e==n||t&&void 0===e)},e.exports.validateKeywordUsage=function({schema:e,opts:n,self:t,errSchemaPath:l},o,i){/* istanbul ignore if */if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw Error("ajv implementation error");let s=o.dependencies;if(null==s?void 0:s.some(n=>!Object.prototype.hasOwnProperty.call(e,n)))throw Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(o.validateSchema){let s=o.validateSchema(e[i]);if(!s){let e=`keyword "${i}" value is invalid at path "${l}": `+t.errorsText(o.validateSchema.errors);if("log"===n.validateSchema)t.logger.error(e);else throw Error(e)}}}}),i("fqAny",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.validateUnion=e.exports.validateArray=e.exports.usePattern=e.exports.callValidateCode=e.exports.schemaProperties=e.exports.allSchemaProperties=e.exports.noPropertyInData=e.exports.propertyInData=e.exports.isOwnProperty=e.exports.hasPropFunc=e.exports.reportMissingProp=e.exports.checkMissingProp=e.exports.checkReportMissingProp=void 0;var t=o("fDfDB"),l=o("4uCyc"),i=o("Vspwx"),l=o("4uCyc");function s(e){return e.scopeValue("func",{// eslint-disable-next-line @typescript-eslint/unbound-method
ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}function r(e,n,l){return(0,t._)`${s(e)}.call(${n}, ${l})`}function a(e,n,l,o){let i=(0,t._)`${n}${(0,t.getProperty)(l)} === undefined`;return o?(0,t.or)(i,(0,t.not)(r(e,n,l))):i}function c(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}e.exports.checkReportMissingProp=function(e,n){let{gen:l,data:o,it:i}=e;l.if(a(l,o,n,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,t._)`${n}`},!0),e.error()})},e.exports.checkMissingProp=function({gen:e,data:n,it:{opts:l}},o,i){return(0,t.or)(...o.map(o=>(0,t.and)(a(e,n,o,l.ownProperties),(0,t._)`${i} = ${o}`)))},e.exports.reportMissingProp=function(e,n){e.setParams({missingProperty:n},!0),e.error()},e.exports.hasPropFunc=s,e.exports.isOwnProperty=r,e.exports.propertyInData=function(e,n,l,o){let i=(0,t._)`${n}${(0,t.getProperty)(l)} !== undefined`;return o?(0,t._)`${i} && ${r(e,n,l)}`:i},e.exports.noPropertyInData=a,e.exports.allSchemaProperties=c,e.exports.schemaProperties=function(e,n){return c(n).filter(t=>!(0,l.alwaysValidSchema)(e,n[t]))},e.exports.callValidateCode=function({schemaCode:e,data:n,it:{gen:l,topSchemaRef:o,schemaPath:s,errorPath:r},it:a},c,u,m){let d=m?(0,t._)`${e}, ${n}, ${o}${s}`:n,p=[[i.default.instancePath,(0,t.strConcat)(i.default.instancePath,r)],[i.default.parentData,a.parentData],[i.default.parentDataProperty,a.parentDataProperty],[i.default.rootData,i.default.rootData]];a.opts.dynamicRef&&p.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);let h=(0,t._)`${d}, ${l.object(...p)}`;return u!==t.nil?(0,t._)`${c}.call(${u}, ${h})`:(0,t._)`${c}(${h})`};let u=(0,t._)`new RegExp`;e.exports.usePattern=function({gen:e,it:{opts:n}},o){let i=n.unicodeRegExp?"u":"",{regExp:s}=n.code,r=s(o,i);return e.scopeValue("pattern",{key:r.toString(),ref:r,code:(0,t._)`${"new RegExp"===s.code?u:(0,l.useFunc)(e,s)}(${o}, ${i})`})},e.exports.validateArray=function(e){let{gen:n,data:o,keyword:i,it:s}=e,r=n.name("valid");if(s.allErrors){let e=n.let("valid",!0);return a(()=>n.assign(e,!1)),e}return n.var(r,!0),a(()=>n.break()),r;function a(s){let a=n.const("len",(0,t._)`${o}.length`);n.forRange("i",0,a,o=>{e.subschema({keyword:i,dataProp:o,dataPropType:l.Type.Num},r),n.if((0,t.not)(r),s)})}},e.exports.validateUnion=function(e){let{gen:n,schema:o,keyword:i,it:s}=e;/* istanbul ignore if */if(!Array.isArray(o))throw Error("ajv implementation error");let r=o.some(e=>(0,l.alwaysValidSchema)(s,e));if(r&&!s.opts.unevaluated)return;let a=n.let("valid",!1),c=n.name("_valid");n.block(()=>o.forEach((l,o)=>{let s=e.subschema({keyword:i,schemaProp:o,compositeRule:!0},c);n.assign(a,(0,t._)`${a} || ${c}`);let r=e.mergeValidEvaluated(s,c);// can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)
    // or if all properties and items were evaluated (it.props === true && it.items === true)
    r||n.if((0,t.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}}),i("2wcMU",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.extendSubschemaMode=e.exports.extendSubschemaData=e.exports.getSubschema=void 0;var t=o("fDfDB"),l=o("4uCyc");e.exports.getSubschema=function(e,{keyword:n,schemaProp:o,schema:i,schemaPath:s,errSchemaPath:r,topSchemaRef:a}){if(void 0!==n&&void 0!==i)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==n){let i=e.schema[n];return void 0===o?{schema:i,schemaPath:(0,t._)`${e.schemaPath}${(0,t.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${n}`}:{schema:i[o],schemaPath:(0,t._)`${e.schemaPath}${(0,t.getProperty)(n)}${(0,t.getProperty)(o)}`,errSchemaPath:`${e.errSchemaPath}/${n}/${(0,l.escapeFragment)(o)}`}}if(void 0!==i){if(void 0===s||void 0===r||void 0===a)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:s,topSchemaRef:a,errSchemaPath:r}}throw Error('either "keyword" or "schema" must be passed')},e.exports.extendSubschemaData=function(e,n,{dataProp:o,dataPropType:i,data:s,dataTypes:r,propertyName:a}){if(void 0!==s&&void 0!==o)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:c}=n;if(void 0!==o){let{errorPath:s,dataPathArr:r,opts:a}=n,m=c.let("data",(0,t._)`${n.data}${(0,t.getProperty)(o)}`,!0);u(m),e.errorPath=(0,t.str)`${s}${(0,l.getErrorPath)(o,i,a.jsPropertySyntax)}`,e.parentDataProperty=(0,t._)`${o}`,e.dataPathArr=[...r,e.parentDataProperty]}if(void 0!==s){let n=s instanceof t.Name?s:c.let("data",s,!0);// replaceable if used once?
u(n),void 0!==a&&(e.propertyName=a);// TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr
}function u(t){e.data=t,e.dataLevel=n.dataLevel+1,e.dataTypes=[],n.definedProperties=new Set,e.parentData=n.data,e.dataNames=[...n.dataNames,t]}r&&(e.dataTypes=r)},e.exports.extendSubschemaMode=function(e,{jtdDiscriminator:n,jtdMetadata:t,compositeRule:l,createErrors:o,allErrors:i}){void 0!==l&&(e.compositeRule=l),void 0!==o&&(e.createErrors=o),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=n,e.jtdMetadata=t}}),i("dKHzu",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.getSchemaRefs=e.exports.resolveUrl=e.exports.normalizeId=e.exports._getFullPath=e.exports.getFullPath=e.exports.inlineRef=void 0;var t=o("4uCyc"),l=o("fXoaV"),i=o("l4ola");// TODO refactor to use keyword definitions
let s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);e.exports.inlineRef=function(e,n=!0){return"boolean"==typeof e||(!0===n?!function e(n){for(let t in n){if(r.has(t))return!0;let l=n[t];if(Array.isArray(l)&&l.some(e)||"object"==typeof l&&e(l))return!0}return!1}(e):!!n&&function e(n){let l=0;for(let o in n)if("$ref"===o||(l++,!s.has(o)&&("object"==typeof n[o]&&(0,t.eachItem)(n[o],n=>l+=e(n)),l===1/0)))return 1/0;return l}(e)<=n)};let r=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(e,n="",t){!1!==t&&(n=m(n));let l=e.parse(n);return c(e,l)}function c(e,n){let t=e.serialize(n);return t.split("#")[0]+"#"}e.exports.getFullPath=a,e.exports._getFullPath=c;let u=/#\/?$/;function m(e){return e?e.replace(u,""):""}e.exports.normalizeId=m,e.exports.resolveUrl=function(e,n,t){return t=m(t),e.resolve(n,t)};let d=/^[a-z_][-a-z0-9._]*$/i;e.exports.getSchemaRefs=function(e,n){if("boolean"==typeof e)return{};let{schemaId:t,uriResolver:o}=this.opts,s=m(e[t]||n),r={"":s},c=a(o,s,!1),u={},p=new Set;return i(e,{allKeys:!0},(e,n,l,o)=>{if(void 0===o)return;let i=c+n,s=r[o];function a(n){// eslint-disable-next-line @typescript-eslint/unbound-method
let t=this.opts.uriResolver.resolve;if(n=m(s?t(s,n):n),p.has(n))throw f(n);p.add(n);let l=this.refs[n];return"string"==typeof l&&(l=this.refs[l]),"object"==typeof l?h(e,l.schema,n):n!==m(i)&&("#"===n[0]?(h(e,u[n],n),u[n]=e):this.refs[n]=i),n}function y(e){if("string"==typeof e){if(!d.test(e))throw Error(`invalid anchor "${e}"`);a.call(this,`#${e}`)}}"string"==typeof e[t]&&(s=a.call(this,e[t])),y.call(this,e.$anchor),y.call(this,e.$dynamicAnchor),r[n]=s}),u;function h(e,n,t){if(void 0!==n&&!l(e,n))throw f(t)}function f(e){return Error(`reference "${e}" resolves to more than one schema`)}}}),i("fXoaV",function(e,n){// do not edit .js files directly - edit src/index.jst
e.exports=function e(n,t){if(n===t)return!0;if(n&&t&&"object"==typeof n&&"object"==typeof t){if(n.constructor!==t.constructor)return!1;if(Array.isArray(n)){if((l=n.length)!=t.length)return!1;for(o=l;0!=o--;)if(!e(n[o],t[o]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();if((l=(i=Object.keys(n)).length)!==Object.keys(t).length)return!1;for(o=l;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,i[o]))return!1;for(o=l;0!=o--;){var l,o,i,s=i[o];if(!e(n[s],t[s]))return!1}return!0}// true if both NaN, false otherwise
return n!=n&&t!=t}}),i("l4ola",function(e,n){var t=e.exports=function(e,n,l){// Legacy support for v0.3.1 and earlier.
"function"==typeof n&&(l=n,n={});var o="function"==typeof(l=n.cb||l)?l:l.pre||function(){};(function e(n,l,o,i,s,r,a,c,u,m){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var d in l(i,s,r,a,c,u,m),i){var p=i[d];if(Array.isArray(p)){if(d in t.arrayKeywords)for(var h=0;h<p.length;h++)e(n,l,o,p[h],s+"/"+d+"/"+h,r,s,d,i,h)}else if(d in t.propsKeywords){if(p&&"object"==typeof p)for(var f in p)e(n,l,o,p[f],s+"/"+d+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),r,s,d,i,f)}else(d in t.keywords||n.allKeys&&!(d in t.skipKeywords))&&e(n,l,o,p,s+"/"+d,r,s,d,i)}o(i,s,r,a,c,u,m)}})(n,o,l.post||function(){},e,"",e)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}}),i("2Gh0l",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}}),i("4gEf6",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("dKHzu");e.exports.default=class extends Error{constructor(e,n,l,o){super(o||`can't resolve reference ${l} from id ${n}`),this.missingRef=(0,t.resolveUrl)(e,n,l),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(e,this.missingRef))}}}),i("6H4o6",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.resolveSchema=e.exports.getCompilingSchema=e.exports.resolveRef=e.exports.compileSchema=e.exports.SchemaEnv=void 0;var t=o("fDfDB"),l=o("2Gh0l"),i=o("Vspwx"),s=o("dKHzu"),r=o("4uCyc"),a=o("5emzc");class c{constructor(e){var n;let t;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(t=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(n=e.baseId)&&void 0!==n?n:(0,s.normalizeId)(null==t?void 0:t[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==t?void 0:t.$async,this.refs={}}}// let codeSize = 0
// let nodeCount = 0
// Compiles schema in SchemaEnv
function u(e){let n,o;// TODO refactor - remove compilations
let r=d.call(this,e);if(r)return r;let c=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:u,lines:m}=this.opts.code,{ownProperties:p}=this.opts,h=new t.CodeGen(this.scope,{es5:u,lines:m,ownProperties:p});// TODO if getFullPath removed 1 tests fails
e.$async&&(n=h.scopeValue("Error",{ref:l.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));let f=h.scopeName("validate");e.validateName=f;let y={gen:h,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:h.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,t.stringify)(e.schema)}:{ref:e.schema}),validateName:f,ValidationError:n,schema:e.schema,schemaEnv:e,rootId:c,baseId:e.baseId||c,schemaPath:t.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};try{this._compilations.add(e),(0,a.validateFunctionCode)(y),h.optimize(this.opts.code.optimize);// gen.optimize(1)
let n=h.toString();o=`${h.scopeRefs(i.default.scope)}return ${n}`,this.opts.code.process&&(o=this.opts.code.process(o,e));// console.log("\n\n\n *** \n", sourceCode)
let l=Function(`${i.default.self}`,`${i.default.scope}`,o),s=l(this,this.scope.get());if(this.scope.value(f,{ref:s}),s.errors=null,s.schema=e.schema,s.schemaEnv=e,e.$async&&(s.$async=!0),!0===this.opts.code.source&&(s.source={validateName:f,validateCode:n,scopeValues:h._values}),this.opts.unevaluated){let{props:e,items:n}=y;s.evaluated={props:e instanceof t.Name?void 0:e,items:n instanceof t.Name?void 0:n,dynamicProps:e instanceof t.Name,dynamicItems:n instanceof t.Name},s.source&&(s.source.evaluated=(0,t.stringify)(s.evaluated))}return e.validate=s,e}catch(n){// console.log("\n\n\n *** \n", sourceCode, this.opts)
throw delete e.validate,delete e.validateName,o&&this.logger.error("Error compiling schema, function code:",o),n}finally{this._compilations.delete(e)}}function m(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}// Index of schema compilation in the currently compiled list
function d(e){for(let n of this._compilations){if(n.schema===e.schema&&n.root===e.root&&n.baseId===e.baseId)return n}}// resolve and compile the references ($ref)
// TODO returns AnySchemaObject (if the schema can be inlined) or validation function
function p(e,n// reference to resolve
){let t;for(;"string"==typeof(t=this.refs[n]);)n=t;return t||this.schemas[n]||h.call(this,e,n)}// Resolve schema, its root and baseId
function h(e,n// reference to resolve
){let t=this.opts.uriResolver.parse(n),l=(0,s._getFullPath)(this.opts.uriResolver,t),o=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);// TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests
if(Object.keys(e.schema).length>0&&l===o)return y.call(this,t,e);let i=(0,s.normalizeId)(l),r=this.refs[i]||this.schemas[i];if("string"==typeof r){let n=h.call(this,e,r);if("object"!=typeof(null==n?void 0:n.schema))return;return y.call(this,t,n)}if("object"==typeof(null==r?void 0:r.schema)){if(r.validate||u.call(this,r),i===(0,s.normalizeId)(n)){let{schema:n}=r,{schemaId:t}=this.opts,l=n[t];return l&&(o=(0,s.resolveUrl)(this.opts.uriResolver,o,l)),new c({schema:n,schemaId:t,root:e,baseId:o})}return y.call(this,t,r)}}e.exports.SchemaEnv=c,e.exports.compileSchema=u,e.exports.resolveRef=function(e,n,t){var l;t=(0,s.resolveUrl)(this.opts.uriResolver,n,t);let o=e.refs[t];if(o)return o;let i=p.call(this,e,t);if(void 0===i){let o=null===(l=e.localRefs)||void 0===l?void 0:l[t],{schemaId:s}=this.opts;// TODO maybe localRefs should hold SchemaEnv
o&&(i=new c({schema:o,schemaId:s,root:e,baseId:n}))}if(void 0!==i)return e.refs[t]=m.call(this,i)},e.exports.getCompilingSchema=d,e.exports.resolveSchema=h;let f=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(e,{baseId:n,schema:t,root:l}){var o;let i;if((null===(o=e.fragment)||void 0===o?void 0:o[0])!=="/")return;for(let l of e.fragment.slice(1).split("/")){if("boolean"==typeof t)return;let e=t[(0,r.unescapeFragment)(l)];if(void 0===e)return;t=e;// TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?
let o="object"==typeof t&&t[this.opts.schemaId];!f.has(l)&&o&&(n=(0,s.resolveUrl)(this.opts.uriResolver,n,o))}if("boolean"!=typeof t&&t.$ref&&!(0,r.schemaHasRulesButRef)(t,this.RULES)){let e=(0,s.resolveUrl)(this.opts.uriResolver,n,t.$ref);i=h.call(this,l,e)}// even though resolution failed we need to return SchemaEnv to throw exception
// so that compileAsync loads missing schema.
let{schemaId:a}=this.opts;if((i=i||new c({schema:t,schemaId:a,root:l,baseId:n})).schema!==i.root.schema)return i}}),i("cnYC5",function(e,n){e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')}),i("dSAoS",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("2aG9s");t.code='require("ajv/dist/runtime/uri").default',e.exports.default=t}),i("2aG9s",function(e,n){var t=o("604HD"),l=t.normalizeIPv6,i=t.normalizeIPv4,s=t.removeDotSegments,r=t.recomposeAuthority,a=t.normalizeComponentEncoding,c=o("aDDK7");function u(e,n,t,l){let o={};return l||(e=h(m(e,t),t)// normalize base components
,n=h(m(n,t),t)// normalize relative components
),!(t=t||{}).tolerant&&n.scheme?(o.scheme=n.scheme,// target.authority = relative.authority;
o.userinfo=n.userinfo,o.host=n.host,o.port=n.port,o.path=s(n.path||""),o.query=n.query):(void 0!==n.userinfo||void 0!==n.host||void 0!==n.port?(// target.authority = relative.authority;
o.userinfo=n.userinfo,o.host=n.host,o.port=n.port,o.path=s(n.path||""),o.query=n.query):(n.path?("/"===n.path.charAt(0)?o.path=s(n.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+n.path:o.path=n.path:o.path="/"+n.path,o.path=s(o.path)),o.query=n.query):(o.path=e.path,void 0!==n.query?o.query=n.query:o.query=e.query),// target.authority = base.authority;
o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=n.fragment,o}function m(e,n){let t={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},l=Object.assign({},n),o=[],i=c[(l.scheme||t.scheme||"").toLowerCase()];i&&i.serialize&&i.serialize(t,l),void 0!==t.path&&(l.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),void 0!==t.scheme&&(t.path=t.path.split("%3A").join(":")))),"suffix"!==l.reference&&t.scheme&&o.push(t.scheme,":");let a=r(t,l);if(void 0!==a&&("suffix"!==l.reference&&o.push("//"),o.push(a),t.path&&"/"!==t.path.charAt(0)&&o.push("/")),void 0!==t.path){let e=t.path;l.absolutePath||i&&i.absolutePath||(e=s(e)),void 0===a&&(e=e.replace(/^\/\//u,"/%2F")// don't allow the path to start with "//"
),o.push(e)}return void 0!==t.query&&o.push("?",t.query),void 0!==t.fragment&&o.push("#",t.fragment),o.join("")}let d=Array.from({length:127},(e,n)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(n))),p=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function h(e,n){let t=Object.assign({},n),o={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=-1!==e.indexOf("%"),r=!1;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);let a=e.match(p);if(a){if(// store each component
o.scheme=a[1],o.userinfo=a[3],o.host=a[4],o.port=parseInt(a[5],10),o.path=a[6]||"",o.query=a[7],o.fragment=a[8],isNaN(o.port)&&(o.port=a[5]),o.host){let e=i(o.host);if(!1===e.isIPV4){let n=l(e.host,{isIPV4:!1});o.host=n.host.toLowerCase(),r=n.isIPV6}else o.host=e.host,r=!0}void 0!==o.scheme||void 0!==o.userinfo||void 0!==o.host||void 0!==o.port||o.path||void 0!==o.query?void 0===o.scheme?o.reference="relative":void 0===o.fragment?o.reference="absolute":o.reference="uri":o.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==o.reference&&(o.error=o.error||"URI is not a "+t.reference+" reference.");// find scheme handler
let e=c[(t.scheme||o.scheme||"").toLowerCase()];// check if scheme can't handle IRIs
if(!t.unicodeSupport&&(!e||!e.unicodeSupport)&&o.host&&(t.domainHost||e&&e.domainHost)&&!1===r&&function(e){let n=0;for(let t=0,l=e.length;t<l;++t)if((n=e.charCodeAt(t))>126||d[n])return!0;return!1}(o.host))try{o.host=URL.domainToASCII(o.host.toLowerCase())}catch(e){o.error=o.error||"Host's domain name can not be converted to ASCII: "+e}(!e||e&&!e.skipNormalize)&&(s&&void 0!==o.scheme&&(o.scheme=unescape(o.scheme)),s&&void 0!==o.host&&(o.host=unescape(o.host)),void 0!==o.path&&o.path.length&&(o.path=escape(unescape(o.path))),void 0!==o.fragment&&o.fragment.length&&(o.fragment=encodeURI(decodeURIComponent(o.fragment)))),e&&e.parse&&e.parse(o,t)}else o.error=o.error||"URI can not be parsed.";return o}let f={SCHEMES:c,normalize:function(e,n){return"string"==typeof e?e=m(h(e,n),n):"object"==typeof e&&(e=h(m(e,n),n)),e},resolve:function(e,n,t){let l=Object.assign({scheme:"null"},t),o=u(h(e,l),h(n,l),l,!0);return m(o,{...l,skipEscape:!0})},resolveComponents:u,equal:function(e,n,t){return"string"==typeof e?e=m(a(h(e=unescape(e),t),!0),{...t,skipEscape:!0}):"object"==typeof e&&(e=m(a(e,!0),{...t,skipEscape:!0})),"string"==typeof n?n=m(a(h(n=unescape(n),t),!0),{...t,skipEscape:!0}):"object"==typeof n&&(n=m(a(n,!0),{...t,skipEscape:!0})),e.toLowerCase()===n.toLowerCase()},serialize:m,parse:h};e.exports=f,e.exports.default=f,e.exports.fastUri=f}),i("604HD",function(e,n){var t=o("k9b3B").HEX;function l(e){if(3>r(e,"."))return{host:e,isIPV4:!1};let n=e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[t]=n;return t?{host:function(e,n){let t="",l=!0,o=e.length;for(let i=0;i<o;i++){let s=e[i];"0"===s&&l?(i+1<=o&&e[i+1]===n||i+1===o)&&(t+=s,l=!1):(l=s===n,t+=s)}return t}(t,"."),isIPV4:!0}:{host:e,isIPV4:!1}}/**
 * @param {string[]} input
 * @param {boolean} [keepZero=false]
 * @returns {string|undefined}
 */function i(e,n=!1){let l="",o=!0;for(let n of e){if(void 0===t[n])return;"0"!==n&&!0===o&&(o=!1),o||(l+=n)}return n&&0===l.length&&(l="0"),l}function s(e,n={}){if(2>r(e,":"))return{host:e,isIPV6:!1};let t=function(e){let n=0,t={error:!1,address:"",zone:""},l=[],o=[],s=!1,r=!1,a=!1;function c(){if(o.length){if(!1===s){let e=i(o);if(void 0===e)return t.error=!0,!1;l.push(e)}o.length=0}return!0}for(let i=0;i<e.length;i++){let u=e[i];if("["!==u&&"]"!==u){if(":"===u){if(!0===r&&(a=!0),!c())break;if(n++,l.push(":"),n>7){// not valid
t.error=!0;break}i-1>=0&&":"===e[i-1]&&(r=!0);continue}if("%"===u){if(!c())break;// switch to zone detection
s=!0}else{o.push(u);continue}}}return o.length&&(s?t.zone=o.join(""):a?l.push(o.join("")):l.push(i(o))),t.address=l.join(""),t}(e);if(t.error)return{host:e,isIPV6:!1};{let e=t.address,n=t.address;return t.zone&&(e+="%"+t.zone,n+="%25"+t.zone),{host:e,escapedHost:n,isIPV6:!0}}}function r(e,n){let t=0;for(let l=0;l<e.length;l++)e[l]===n&&t++;return t}let a=/^\.\.?\//u,c=/^\/\.(?:\/|$)/u,u=/^\/\.\.(?:\/|$)/u,m=/^\/?(?:.|\n)*?(?=\/|$)/u;e.exports={recomposeAuthority:function(e,n){let t=[];if(void 0!==e.userinfo&&(t.push(e.userinfo),t.push("@")),void 0!==e.host){let n=unescape(e.host),o=l(n);if(o.isIPV4)n=o.host;else{let t=s(o.host,{isIPV4:!1});n=!0===t.isIPV6?`[${t.escapedHost}]`:e.host}t.push(n)}return("number"==typeof e.port||"string"==typeof e.port)&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0},normalizeComponentEncoding:function(e,n){let t=!0!==n?escape:unescape;return void 0!==e.scheme&&(e.scheme=t(e.scheme)),void 0!==e.userinfo&&(e.userinfo=t(e.userinfo)),void 0!==e.host&&(e.host=t(e.host)),void 0!==e.path&&(e.path=t(e.path)),void 0!==e.query&&(e.query=t(e.query)),void 0!==e.fragment&&(e.fragment=t(e.fragment)),e},removeDotSegments:function(e){let n=[];for(;e.length;)if(e.match(a))e=e.replace(a,"");else if(e.match(c))e=e.replace(c,"/");else if(e.match(u))e=e.replace(u,"/"),n.pop();else if("."===e||".."===e)e="";else{let t=e.match(m);if(t){let l=t[0];e=e.slice(l.length),n.push(l)}else throw Error("Unexpected dot segment condition")}return n.join("")},normalizeIPv4:l,normalizeIPv6:s,stringArrayToHexStripped:i}}),i("k9b3B",function(e,n){e.exports={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}}),i("aDDK7",function(e,n){let t=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,l=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function o(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}function i(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function s(e){let n="https"===String(e.scheme).toLowerCase();// NOTE: We do not parse query strings for HTTP URIs
// as WWW Form Url Encoded query strings are part of the HTML4+ spec,
// and not the HTTP spec.
return(e.port===(n?443:80)||""===e.port)&&(e.port=void 0),e.path||(e.path="/"),e}let r={scheme:"http",domainHost:!0,parse:i,serialize:s},a={scheme:"https",domainHost:r.domainHost,parse:i,serialize:s},c={scheme:"ws",domainHost:!0,parse:function(e){return(// indicate if the secure flag is set
e.secure=o(e),// construct resouce name
e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e)},serialize:function(e){// reconstruct path from resource name
if((e.port===(o(e)?443:80)||""===e.port)&&(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[n,t]=e.resourceName.split("?");e.path=n&&"/"!==n?n:void 0,e.query=t,e.resourceName=void 0}return(// forbid fragment component
e.fragment=void 0,e)}},u={scheme:"wss",domainHost:c.domainHost,parse:c.parse,serialize:c.serialize},m={http:r,https:a,ws:c,wss:u,urn:{scheme:"urn",parse:function(e,n){if(!e.path)return e.error="URN can not be parsed",e;let t=e.path.match(l);if(t){let l=n.scheme||e.scheme||"urn";e.nid=t[1].toLowerCase(),e.nss=t[2];let o=`${l}:${n.nid||e.nid}`,i=m[o];e.path=void 0,i&&(e=i.parse(e,n))}else e.error=e.error||"URN can not be parsed.";return e},serialize:function(e,n){let t=n.scheme||e.scheme||"urn",l=e.nid.toLowerCase(),o=`${t}:${n.nid||l}`,i=m[o];i&&(e=i.serialize(e,n));let s=e,r=e.nss;return s.path=`${l||n.nid}:${r}`,n.skipEscape=!0,s},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(e,n){return e.uuid=e.nss,e.nss=void 0,n.tolerant||e.uuid&&t.test(e.uuid)||(e.error=e.error||"UUID is not valid."),e},serialize:function(e){return(// normalize UUID
e.nss=(e.uuid||"").toLowerCase(),e)},skipNormalize:!0}};e.exports=m}),i("cNnVH",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("cYLnv"),l=o("h4Q9v"),i=o("8UhBF"),s=o("5lqde"),r=o("6u04l");let a=[t.default,l.default,(0,i.default)(),s.default,r.metadataVocabulary,r.contentVocabulary];e.exports.default=a}),i("cYLnv",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("4CqzK"),l=o("l2MIp");let i=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,l.default];e.exports.default=i}),i("4CqzK",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}}),i("l2MIp",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.callRef=e.exports.getValidate=void 0;var t=o("4gEf6"),l=o("fqAny"),i=o("fDfDB"),s=o("Vspwx"),r=o("6H4o6"),a=o("4uCyc");function c(e,n){let{gen:t}=e;return n.validate?t.scopeValue("validate",{ref:n.validate}):(0,i._)`${t.scopeValue("wrapper",{ref:n})}.validate`}function u(e,n,t,o){let{gen:r,it:c}=e,{allErrors:u,schemaEnv:m,opts:d}=c,p=d.passContext?s.default.this:i.nil;function h(e){let n=(0,i._)`${e}.errors`;r.assign(s.default.vErrors,(0,i._)`${s.default.vErrors} === null ? ${n} : ${s.default.vErrors}.concat(${n})`),r.assign(s.default.errors,(0,i._)`${s.default.vErrors}.length`)}function f(e){var n;if(!c.opts.unevaluated)return;let l=null===(n=null==t?void 0:t.validate)||void 0===n?void 0:n.evaluated;// TODO refactor
if(!0!==c.props){if(l&&!l.dynamicProps)void 0!==l.props&&(c.props=a.mergeEvaluated.props(r,l.props,c.props));else{let n=r.var("props",(0,i._)`${e}.evaluated.props`);c.props=a.mergeEvaluated.props(r,n,c.props,i.Name)}}if(!0!==c.items){if(l&&!l.dynamicItems)void 0!==l.items&&(c.items=a.mergeEvaluated.items(r,l.items,c.items));else{let n=r.var("items",(0,i._)`${e}.evaluated.items`);c.items=a.mergeEvaluated.items(r,n,c.items,i.Name)}}}o?function(){if(!m.$async)throw Error("async schema referenced by sync schema");let t=r.let("valid");r.try(()=>{r.code((0,i._)`await ${(0,l.callValidateCode)(e,n,p)}`),f(n),u||r.assign(t,!0)},e=>{r.if((0,i._)`!(${e} instanceof ${c.ValidationError})`,()=>r.throw(e)),h(e),u||r.assign(t,!1)}),e.ok(t)}():e.result((0,l.callValidateCode)(e,n,p),()=>f(n),()=>h(n))}e.exports.getValidate=c,e.exports.callRef=u,e.exports.default={keyword:"$ref",schemaType:"string",code(e){let{gen:n,schema:l,it:o}=e,{baseId:s,schemaEnv:a,validateName:m,opts:d,self:p}=o,{root:h}=a;if(("#"===l||"#/"===l)&&s===h.baseId)return function(){if(a===h)return u(e,m,a,a.$async);let t=n.scopeValue("root",{ref:h});return u(e,(0,i._)`${t}.validate`,h,h.$async)}();let f=r.resolveRef.call(p,h,s,l);if(void 0===f)throw new t.default(o.opts.uriResolver,s,l);return f instanceof r.SchemaEnv?function(n){let t=c(e,n);u(e,t,n,n.$async)}(f):function(t){let o=n.scopeValue("schema",!0===d.code.source?{ref:t,code:(0,i.stringify)(t)}:{ref:t}),s=n.name("valid"),r=e.subschema({schema:t,dataTypes:[],schemaPath:i.nil,topSchemaRef:o,errSchemaPath:l},s);e.mergeEvaluated(r),e.ok(s)}(f)}}}),i("h4Q9v",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("liEys"),l=o("fGXSe"),i=o("1STpi"),s=o("d06GO"),r=o("jMTFC"),a=o("gdR3N"),c=o("k0Jl4"),u=o("8pOst"),m=o("5Cv8j"),d=o("dLdiG");let p=[// number
t.default,l.default,// string
i.default,s.default,// object
r.default,a.default,// array
c.default,u.default,// any
{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},m.default,d.default];e.exports.default=p}),i("liEys",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB");let l=t.operators,i={maximum:{okStr:"<=",ok:l.LTE,fail:l.GT},minimum:{okStr:">=",ok:l.GTE,fail:l.LT},exclusiveMaximum:{okStr:"<",ok:l.LT,fail:l.GTE},exclusiveMinimum:{okStr:">",ok:l.GT,fail:l.LTE}},s={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:n})=>(0,t.str)`must be ${i[e].okStr} ${n}`,params:({keyword:e,schemaCode:n})=>(0,t._)`{comparison: ${i[e].okStr}, limit: ${n}}`},code(e){let{keyword:n,data:l,schemaCode:o}=e;e.fail$data((0,t._)`${l} ${i[n].fail} ${o} || isNaN(${l})`)}};e.exports.default=s}),i("fGXSe",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB");e.exports.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,t.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,t._)`{multipleOf: ${e}}`},code(e){let{gen:n,data:l,schemaCode:o,it:i}=e,s=i.opts.multipleOfPrecision,r=n.let("res"),a=s?(0,t._)`Math.abs(Math.round(${r}) - ${r}) > 1e-${s}`:(0,t._)`${r} !== parseInt(${r})`;e.fail$data((0,t._)`(${o} === 0 || (${r} = ${l}/${o}, ${a}))`)}}}),i("1STpi",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB"),l=o("4uCyc"),i=o("17EeY");e.exports.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:n})=>(0,t.str)`must NOT have ${"maxLength"===e?"more":"fewer"} than ${n} characters`,params:({schemaCode:e})=>(0,t._)`{limit: ${e}}`},code(e){let{keyword:n,data:o,schemaCode:s,it:r}=e,a="maxLength"===n?t.operators.GT:t.operators.LT,c=!1===r.opts.unicode?(0,t._)`${o}.length`:(0,t._)`${(0,l.useFunc)(e.gen,i.default)}(${o})`;e.fail$data((0,t._)`${c} ${a} ${s}`)}}}),i("17EeY",function(e,n){// https://mathiasbynens.be/notes/javascript-encoding
// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode
function t(e){let n;let t=e.length,l=0,o=0;for(;o<t;)l++,(n=e.charCodeAt(o++))>=55296&&n<=56319&&o<t&&(64512&// high surrogate, and there is a next character
(n=e.charCodeAt(o)))==56320&&o++;return l}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}),i("d06GO",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fqAny"),l=o("fDfDB");e.exports.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,l.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,l._)`{pattern: ${e}}`},code(e){let{data:n,$data:o,schema:i,schemaCode:s,it:r}=e,a=r.opts.unicodeRegExp?"u":"",c=o?(0,l._)`(new RegExp(${s}, ${a}))`:(0,t.usePattern)(e,i);e.fail$data((0,l._)`!${c}.test(${n})`)}}}),i("jMTFC",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB");e.exports.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:n})=>(0,t.str)`must NOT have ${"maxProperties"===e?"more":"fewer"} than ${n} properties`,params:({schemaCode:e})=>(0,t._)`{limit: ${e}}`},code(e){let{keyword:n,data:l,schemaCode:o}=e,i="maxProperties"===n?t.operators.GT:t.operators.LT;e.fail$data((0,t._)`Object.keys(${l}).length ${i} ${o}`)}}}),i("gdR3N",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fqAny"),l=o("fDfDB"),i=o("4uCyc");e.exports.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,l.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,l._)`{missingProperty: ${e}}`},code(e){let{gen:n,schema:o,schemaCode:s,data:r,$data:a,it:c}=e,{opts:u}=c;if(!a&&0===o.length)return;let m=o.length>=u.loopRequired;if(c.allErrors?function(){if(m||a)e.block$data(l.nil,d);else for(let n of o)(0,t.checkReportMissingProp)(e,n)}():function(){let i=n.let("missing");if(m||a){let o=n.let("valid",!0);e.block$data(o,()=>{e.setParams({missingProperty:i}),n.forOf(i,s,()=>{n.assign(o,(0,t.propertyInData)(n,r,i,u.ownProperties)),n.if((0,l.not)(o),()=>{e.error(),n.break()})},l.nil)}),e.ok(o)}else n.if((0,t.checkMissingProp)(e,o,i)),(0,t.reportMissingProp)(e,i),n.else()}(),u.strictRequired){let n=e.parentSchema.properties,{definedProperties:t}=e.it;for(let e of o)if((null==n?void 0:n[e])===void 0&&!t.has(e)){let n=c.schemaEnv.baseId+c.errSchemaPath,t=`required property "${e}" is not defined at "${n}" (strictRequired)`;(0,i.checkStrictMode)(c,t,c.opts.strictRequired)}}function d(){n.forOf("prop",s,l=>{e.setParams({missingProperty:l}),n.if((0,t.noPropertyInData)(n,r,l,u.ownProperties),()=>e.error())})}}}}),i("k0Jl4",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB");e.exports.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:n})=>(0,t.str)`must NOT have ${"maxItems"===e?"more":"fewer"} than ${n} items`,params:({schemaCode:e})=>(0,t._)`{limit: ${e}}`},code(e){let{keyword:n,data:l,schemaCode:o}=e,i="maxItems"===n?t.operators.GT:t.operators.LT;e.fail$data((0,t._)`${l}.length ${i} ${o}`)}}}),i("8pOst",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fC5iG"),l=o("fDfDB"),i=o("4uCyc"),s=o("c2hDk");e.exports.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:n}})=>(0,l.str)`must NOT have duplicate items (items ## ${n} and ${e} are identical)`,params:({params:{i:e,j:n}})=>(0,l._)`{i: ${e}, j: ${n}}`},code(e){let{gen:n,data:o,$data:r,schema:a,parentSchema:c,schemaCode:u,it:m}=e;if(!r&&!a)return;let d=n.let("valid"),p=c.items?(0,t.getSchemaTypes)(c.items):[];e.block$data(d,function(){let r=n.let("i",(0,l._)`${o}.length`),a=n.let("j");e.setParams({i:r,j:a}),n.assign(d,!0),n.if((0,l._)`${r} > 1`,()=>(p.length>0&&!p.some(e=>"object"===e||"array"===e)?function(i,s){let r=n.name("item"),a=(0,t.checkDataTypes)(p,r,m.opts.strictNumbers,t.DataType.Wrong),c=n.const("indices",(0,l._)`{}`);n.for((0,l._)`;${i}--;`,()=>{n.let(r,(0,l._)`${o}[${i}]`),n.if(a,(0,l._)`continue`),p.length>1&&n.if((0,l._)`typeof ${r} == "string"`,(0,l._)`${r} += "_"`),n.if((0,l._)`typeof ${c}[${r}] == "number"`,()=>{n.assign(s,(0,l._)`${c}[${r}]`),e.error(),n.assign(d,!1).break()}).code((0,l._)`${c}[${r}] = ${i}`)})}:function(t,r){let a=(0,i.useFunc)(n,s.default),c=n.name("outer");n.label(c).for((0,l._)`;${t}--;`,()=>n.for((0,l._)`${r} = ${t}; ${r}--;`,()=>n.if((0,l._)`${a}(${o}[${t}], ${o}[${r}])`,()=>{e.error(),n.assign(d,!1).break(c)})))})(r,a))},(0,l._)`${u} === false`),e.ok(d)}}}),i("c2hDk",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fXoaV");t.code='require("ajv/dist/runtime/equal").default',e.exports.default=t}),i("5Cv8j",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB"),l=o("4uCyc"),i=o("c2hDk");e.exports.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,t._)`{allowedValue: ${e}}`},code(e){let{gen:n,data:o,$data:s,schemaCode:r,schema:a}=e;s||a&&"object"==typeof a?e.fail$data((0,t._)`!${(0,l.useFunc)(n,i.default)}(${o}, ${r})`):e.fail((0,t._)`${a} !== ${o}`)}}}),i("dLdiG",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB"),l=o("4uCyc"),i=o("c2hDk");e.exports.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,t._)`{allowedValues: ${e}}`},code(e){let n,o;let{gen:s,data:r,$data:a,schema:c,schemaCode:u,it:m}=e;if(!a&&0===c.length)throw Error("enum must have non-empty array");let d=c.length>=m.opts.loopEnum,p=()=>null!=n?n:n=(0,l.useFunc)(s,i.default);if(d||a)o=s.let("valid"),e.block$data(o,function(){s.assign(o,!1),s.forOf("v",u,e=>s.if((0,t._)`${p()}(${r}, ${e})`,()=>s.assign(o,!0).break()))});else{/* istanbul ignore if */if(!Array.isArray(c))throw Error("ajv implementation error");let e=s.const("vSchema",u);o=(0,t.or)(...c.map((n,l)=>(function(e,n){let l=c[n];return"object"==typeof l&&null!==l?(0,t._)`${p()}(${r}, ${e}[${n}])`:(0,t._)`${r} === ${l}`})(e,l)))}e.pass(o)}}}),i("8UhBF",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("8YwaE"),l=o("9P7He"),i=o("k3e7R"),s=o("9x6CX"),r=o("8afuy"),a=o("7EmK8"),c=o("ebvIe"),u=o("1cVLd"),m=o("davjQ"),d=o("cX70k"),p=o("lhsMP"),h=o("9q1E2"),f=o("4xASF"),y=o("23qc6"),b=o("gHnIH"),g=o("1mywe");e.exports.default=function(e=!1){let n=[// any
p.default,h.default,f.default,y.default,b.default,g.default,// object
c.default,u.default,a.default,m.default,d.default];return e?n.push(l.default,s.default):n.push(t.default,i.default),n.push(r.default),n}}),i("8YwaE",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.validateAdditionalItems=void 0;var t=o("fDfDB"),l=o("4uCyc");function i(e,n){let{gen:o,schema:i,data:s,keyword:r,it:a}=e;a.items=!0;let c=o.const("len",(0,t._)`${s}.length`);if(!1===i)e.setParams({len:n.length}),e.pass((0,t._)`${c} <= ${n.length}`);else if("object"==typeof i&&!(0,l.alwaysValidSchema)(a,i)){let i=o.var("valid",(0,t._)`${c} <= ${n.length}`);// TODO var
o.if((0,t.not)(i),()=>{o.forRange("i",n.length,c,n=>{e.subschema({keyword:r,dataProp:n,dataPropType:l.Type.Num},i),a.allErrors||o.if((0,t.not)(i),()=>o.break())})}),e.ok(i)}}e.exports.validateAdditionalItems=i,e.exports.default={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,t.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,t._)`{limit: ${e}}`},code(e){let{parentSchema:n,it:t}=e,{items:o}=n;if(!Array.isArray(o)){(0,l.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(e,o)}}}),i("9P7He",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("k3e7R");e.exports.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,t.validateTuple)(e,"items")}}),i("k3e7R",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.validateTuple=void 0;var t=o("fDfDB"),l=o("4uCyc"),i=o("fqAny");function s(e,n,o=e.schema){let{gen:i,parentSchema:s,data:r,keyword:a,it:c}=e;(function(e){let{opts:t,errSchemaPath:i}=c,s=o.length,r=s===e.minItems&&(s===e.maxItems||!1===e[n]);if(t.strictTuples&&!r){let e=`"${a}" is ${s}-tuple, but minItems or maxItems/${n} are not specified or different at path "${i}"`;(0,l.checkStrictMode)(c,e,t.strictTuples)}})(s),c.opts.unevaluated&&o.length&&!0!==c.items&&(c.items=l.mergeEvaluated.items(i,o.length,c.items));let u=i.name("valid"),m=i.const("len",(0,t._)`${r}.length`);o.forEach((n,o)=>{(0,l.alwaysValidSchema)(c,n)||(i.if((0,t._)`${m} > ${o}`,()=>e.subschema({keyword:a,schemaProp:o,dataProp:o},u)),e.ok(u))})}e.exports.validateTuple=s,e.exports.default={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:n,it:t}=e;if(Array.isArray(n))return s(e,"additionalItems",n);t.items=!0,(0,l.alwaysValidSchema)(t,n)||e.ok((0,i.validateArray)(e))}}}),i("9x6CX",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB"),l=o("4uCyc"),i=o("fqAny"),s=o("8YwaE");e.exports.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,t.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,t._)`{limit: ${e}}`},code(e){let{schema:n,parentSchema:t,it:o}=e,{prefixItems:r}=t;o.items=!0,(0,l.alwaysValidSchema)(o,n)||(r?(0,s.validateAdditionalItems)(e,r):e.ok((0,i.validateArray)(e)))}}}),i("8afuy",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB"),l=o("4uCyc");e.exports.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:n}})=>void 0===n?(0,t.str)`must contain at least ${e} valid item(s)`:(0,t.str)`must contain at least ${e} and no more than ${n} valid item(s)`,params:({params:{min:e,max:n}})=>void 0===n?(0,t._)`{minContains: ${e}}`:(0,t._)`{minContains: ${e}, maxContains: ${n}}`},code(e){let n,o;let{gen:i,schema:s,parentSchema:r,data:a,it:c}=e,{minContains:u,maxContains:m}=r;c.opts.next?(n=void 0===u?1:u,o=m):n=1;let d=i.const("len",(0,t._)`${a}.length`);if(e.setParams({min:n,max:o}),void 0===o&&0===n){(0,l.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(void 0!==o&&n>o){(0,l.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,l.alwaysValidSchema)(c,s)){let l=(0,t._)`${d} >= ${n}`;void 0!==o&&(l=(0,t._)`${l} && ${d} <= ${o}`),e.pass(l);return}c.items=!0;let p=i.name("valid");function h(){let e=i.name("_valid"),l=i.let("count",0);f(e,()=>i.if(e,()=>{i.code((0,t._)`${l}++`),void 0===o?i.if((0,t._)`${l} >= ${n}`,()=>i.assign(p,!0).break()):(i.if((0,t._)`${l} > ${o}`,()=>i.assign(p,!1).break()),1===n?i.assign(p,!0):i.if((0,t._)`${l} >= ${n}`,()=>i.assign(p,!0)))}))}function f(n,t){i.forRange("i",0,d,o=>{e.subschema({keyword:"contains",dataProp:o,dataPropType:l.Type.Num,compositeRule:!0},n),t()})}void 0===o&&1===n?f(p,()=>i.if(p,()=>i.break())):0===n?(i.let(p,!0),void 0!==o&&i.if((0,t._)`${a}.length > 0`,h)):(i.let(p,!1),h()),e.result(p,()=>e.reset())}}}),i("7EmK8",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.validateSchemaDeps=e.exports.validatePropertyDeps=e.exports.error=void 0;var t=o("fDfDB"),l=o("4uCyc"),i=o("fqAny");e.exports.error={message:({params:{property:e,depsCount:n,deps:l}})=>(0,t.str)`must have ${1===n?"property":"properties"} ${l} when property ${e} is present`,params:({params:{property:e,depsCount:n,deps:l,missingProperty:o}})=>(0,t._)`{property: ${e},
    missingProperty: ${o},
    depsCount: ${n},
    deps: ${l}}`};let s={keyword:"dependencies",type:"object",schemaType:"object",error:e.exports.error,code(e){let[n,t]=function({schema:e}){let n={},t={};for(let l in e){if("__proto__"===l)continue;let o=Array.isArray(e[l])?n:t;o[l]=e[l]}return[n,t]}(e);r(e,n),a(e,t)}};function r(e,n=e.schema){let{gen:l,data:o,it:s}=e;if(0===Object.keys(n).length)return;let r=l.let("missing");for(let a in n){let c=n[a];if(0===c.length)continue;let u=(0,i.propertyInData)(l,o,a,s.opts.ownProperties);e.setParams({property:a,depsCount:c.length,deps:c.join(", ")}),s.allErrors?l.if(u,()=>{for(let n of c)(0,i.checkReportMissingProp)(e,n)}):(l.if((0,t._)`${u} && (${(0,i.checkMissingProp)(e,c,r)})`),(0,i.reportMissingProp)(e,r),l.else())}}function a(e,n=e.schema){let{gen:t,data:o,keyword:s,it:r}=e,a=t.name("valid");for(let c in n)(0,l.alwaysValidSchema)(r,n[c])||(t.if((0,i.propertyInData)(t,o,c,r.opts.ownProperties),()=>{let n=e.subschema({keyword:s,schemaProp:c},a);e.mergeValidEvaluated(n,a)},()=>t.var(a,!0)// TODO var
),e.ok(a))}e.exports.validatePropertyDeps=r,e.exports.validateSchemaDeps=a,e.exports.default=s}),i("ebvIe",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB"),l=o("4uCyc");e.exports.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,t._)`{propertyName: ${e.propertyName}}`},code(e){let{gen:n,schema:o,data:i,it:s}=e;if((0,l.alwaysValidSchema)(s,o))return;let r=n.name("valid");n.forIn("key",i,l=>{e.setParams({propertyName:l}),e.subschema({keyword:"propertyNames",data:l,dataTypes:["string"],propertyName:l,compositeRule:!0},r),n.if((0,t.not)(r),()=>{e.error(!0),s.allErrors||n.break()})}),e.ok(r)}}}),i("1cVLd",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fqAny"),l=o("fDfDB"),i=o("Vspwx"),s=o("4uCyc");e.exports.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,l._)`{additionalProperty: ${e.additionalProperty}}`},code(e){let{gen:n,schema:o,parentSchema:r,data:a,errsCount:c,it:u}=e;/* istanbul ignore if */if(!c)throw Error("ajv implementation error");let{allErrors:m,opts:d}=u;if(u.props=!0,"all"!==d.removeAdditional&&(0,s.alwaysValidSchema)(u,o))return;let p=(0,t.allSchemaProperties)(r.properties),h=(0,t.allSchemaProperties)(r.patternProperties);function f(e){n.code((0,l._)`delete ${a}[${e}]`)}function y(t){if("all"===d.removeAdditional||d.removeAdditional&&!1===o){f(t);return}if(!1===o){e.setParams({additionalProperty:t}),e.error(),m||n.break();return}if("object"==typeof o&&!(0,s.alwaysValidSchema)(u,o)){let o=n.name("valid");"failing"===d.removeAdditional?(b(t,o,!1),n.if((0,l.not)(o),()=>{e.reset(),f(t)})):(b(t,o),m||n.if((0,l.not)(o),()=>n.break()))}}function b(n,t,l){let o={keyword:"additionalProperties",dataProp:n,dataPropType:s.Type.Str};!1===l&&Object.assign(o,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(o,t)}n.forIn("key",a,o=>{p.length||h.length?n.if(function(o){let i;if(p.length>8){// TODO maybe an option instead of hard-coded 8?
let e=(0,s.schemaRefOrVal)(u,r.properties,"properties");i=(0,t.isOwnProperty)(n,e,o)}else i=p.length?(0,l.or)(...p.map(e=>(0,l._)`${o} === ${e}`)):l.nil;return h.length&&(i=(0,l.or)(i,...h.map(n=>(0,l._)`${(0,t.usePattern)(e,n)}.test(${o})`))),(0,l.not)(i)}(o),()=>y(o)):y(o)}),e.ok((0,l._)`${c} === ${i.default.errors}`)}}}),i("davjQ",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("5emzc"),l=o("fqAny"),i=o("4uCyc"),s=o("1cVLd");e.exports.default={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:n,schema:o,parentSchema:r,data:a,it:c}=e;"all"===c.opts.removeAdditional&&void 0===r.additionalProperties&&s.default.code(new t.KeywordCxt(c,s.default,"additionalProperties"));let u=(0,l.allSchemaProperties)(o);for(let e of u)c.definedProperties.add(e);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=i.mergeEvaluated.props(n,(0,i.toHash)(u),c.props));let m=u.filter(e=>!(0,i.alwaysValidSchema)(c,o[e]));if(0===m.length)return;let d=n.name("valid");for(let t of m)c.opts.useDefaults&&!c.compositeRule&&void 0!==o[t].default?p(t):(n.if((0,l.propertyInData)(n,a,t,c.opts.ownProperties)),p(t),c.allErrors||n.else().var(d,!0),n.endIf()),e.it.definedProperties.add(t),e.ok(d);function p(n){e.subschema({keyword:"properties",schemaProp:n,dataProp:n},d)}}}}),i("cX70k",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fqAny"),l=o("fDfDB"),i=(o("4uCyc"),o("4uCyc"));e.exports.default={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:n,schema:o,data:s,parentSchema:r,it:a}=e,{opts:c}=a,u=(0,t.allSchemaProperties)(o),m=u.filter(e=>(0,i.alwaysValidSchema)(a,o[e]));if(0===u.length||m.length===u.length&&(!a.opts.unevaluated||!0===a.props))return;let d=c.strictSchema&&!c.allowMatchingProperties&&r.properties,p=n.name("valid");!0===a.props||a.props instanceof l.Name||(a.props=(0,i.evaluatedPropsToName)(n,a.props));let{props:h}=a;function f(o){n.forIn("key",s,s=>{n.if((0,l._)`${(0,t.usePattern)(e,o)}.test(${s})`,()=>{let t=m.includes(o);t||e.subschema({keyword:"patternProperties",schemaProp:o,dataProp:s,dataPropType:i.Type.Str},p),a.opts.unevaluated&&!0!==h?n.assign((0,l._)`${h}[${s}]`,!0):t||a.allErrors||// or if all properties were evaluated (props === true)
n.if((0,l.not)(p),()=>n.break())})})}(function(){for(let e of u)d&&function(e){for(let n in d)new RegExp(e).test(n)&&(0,i.checkStrictMode)(a,`property ${n} matches pattern ${e} (use allowMatchingProperties)`)}(e),a.allErrors?f(e):(n.var(p,!0),f(e),n.if(p))})()}}}),i("lhsMP",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("4uCyc");e.exports.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:n,schema:l,it:o}=e;if((0,t.alwaysValidSchema)(o,l)){e.fail();return}let i=n.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}}}),i("9q1E2",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fqAny");let l={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.exports.default=l}),i("4xASF",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB"),l=o("4uCyc");e.exports.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,t._)`{passingSchemas: ${e.passing}}`},code(e){let{gen:n,schema:o,parentSchema:i,it:s}=e;/* istanbul ignore if */if(!Array.isArray(o))throw Error("ajv implementation error");if(s.opts.discriminator&&i.discriminator)return;let r=n.let("valid",!1),a=n.let("passing",null),c=n.name("_valid");e.setParams({passing:a}),// TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas
n.block(function(){o.forEach((o,i)=>{let u;(0,l.alwaysValidSchema)(s,o)?n.var(c,!0):u=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},c),i>0&&n.if((0,t._)`${c} && ${r}`).assign(r,!1).assign(a,(0,t._)`[${a}, ${i}]`).else(),n.if(c,()=>{n.assign(r,!0),n.assign(a,i),u&&e.mergeEvaluated(u,t.Name)})})}),e.result(r,()=>e.reset(),()=>e.error(!0))}}}),i("23qc6",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("4uCyc");e.exports.default={keyword:"allOf",schemaType:"array",code(e){let{gen:n,schema:l,it:o}=e;/* istanbul ignore if */if(!Array.isArray(l))throw Error("ajv implementation error");let i=n.name("valid");l.forEach((n,l)=>{if((0,t.alwaysValidSchema)(o,n))return;let s=e.subschema({keyword:"allOf",schemaProp:l},i);e.ok(i),e.mergeEvaluated(s)})}}}),i("gHnIH",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB"),l=o("4uCyc");function i(e,n){let t=e.schema[n];return void 0!==t&&!(0,l.alwaysValidSchema)(e,t)}e.exports.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,t.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,t._)`{failingKeyword: ${e.ifClause}}`},code(e){let{gen:n,parentSchema:o,it:s}=e;void 0===o.then&&void 0===o.else&&(0,l.checkStrictMode)(s,'"if" without "then" and "else" is ignored');let r=i(s,"then"),a=i(s,"else");if(!r&&!a)return;let c=n.let("valid",!0),u=n.name("_valid");if(function(){let n=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(n)}(),e.reset(),r&&a){let t=n.let("ifClause");e.setParams({ifClause:t}),n.if(u,m("then",t),m("else",t))}else r?n.if(u,m("then")):n.if((0,t.not)(u),m("else"));function m(l,o){return()=>{let i=e.subschema({keyword:l},u);n.assign(c,u),e.mergeValidEvaluated(i,c),o?n.assign(o,(0,t._)`${l}`):e.setParams({ifClause:l})}}e.pass(c,()=>e.error(!0))}}}),i("1mywe",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("4uCyc");e.exports.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:n,it:l}){void 0===n.if&&(0,t.checkStrictMode)(l,`"${e}" without "if" is ignored`)}}}),i("5lqde",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("lwPrt");let l=[t.default];e.exports.default=l}),i("lwPrt",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB");e.exports.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,t.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,t._)`{format: ${e}}`},code(e,n){let{gen:l,data:o,$data:i,schema:s,schemaCode:r,it:a}=e,{opts:c,errSchemaPath:u,schemaEnv:m,self:d}=a;c.validateFormats&&(i?function(){let i=l.scopeValue("formats",{ref:d.formats,code:c.code.formats}),s=l.const("fDef",(0,t._)`${i}[${r}]`),a=l.let("fType"),u=l.let("format");// TODO simplify
l.if((0,t._)`typeof ${s} == "object" && !(${s} instanceof RegExp)`,()=>l.assign(a,(0,t._)`${s}.type || "string"`).assign(u,(0,t._)`${s}.validate`),()=>l.assign(a,(0,t._)`"string"`).assign(u,s)),e.fail$data((0,t.or)(!1===c.strictSchema?t.nil:(0,t._)`${r} && !${u}`,function(){let e=m.$async?(0,t._)`(${s}.async ? await ${u}(${o}) : ${u}(${o}))`:(0,t._)`${u}(${o})`,l=(0,t._)`(typeof ${u} == "function" ? ${e} : ${u}.test(${o}))`;return(0,t._)`${u} && ${u} !== true && ${a} === ${n} && !${l}`}()))}():function(){let i=d.formats[s];if(!i){(function(){if(!1===c.strictSchema){d.logger.warn(e());return}throw Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${u}"`}})();return}if(!0===i)return;let[r,a,p]=function(e){let n=e instanceof RegExp?(0,t.regexpCode)(e):c.code.formats?(0,t._)`${c.code.formats}${(0,t.getProperty)(s)}`:void 0,o=l.scopeValue("formats",{key:s,ref:e,code:n});return"object"!=typeof e||e instanceof RegExp?["string",e,o]:[e.type||"string",e.validate,(0,t._)`${o}.validate`]}(i);r===n&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!m.$async)throw Error("async format in sync schema");return(0,t._)`await ${p}(${o})`}return"function"==typeof a?(0,t._)`${p}(${o})`:(0,t._)`${p}.test(${o})`}())}())}}}),i("6u04l",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.contentVocabulary=e.exports.metadataVocabulary=void 0,e.exports.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.exports.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}),i("5wwJv",function(e,n){Object.defineProperty(e.exports,"__esModule",{value:!0});var t=o("fDfDB"),l=o("dBVTL"),i=o("6H4o6"),s=o("4gEf6"),r=o("4uCyc");e.exports.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:n}})=>e===l.DiscrError.Tag?`tag "${n}" must be string`:`value of tag "${n}" must be in oneOf`,params:({params:{discrError:e,tag:n,tagName:l}})=>(0,t._)`{error: ${e}, tag: ${l}, tagValue: ${n}}`},code(e){let{gen:n,data:o,schema:a,parentSchema:c,it:u}=e,{oneOf:m}=c;if(!u.opts.discriminator)throw Error("discriminator: requires discriminator option");let d=a.propertyName;if("string"!=typeof d)throw Error("discriminator: requires propertyName");if(a.mapping)throw Error("discriminator: mapping is not supported");if(!m)throw Error("discriminator: requires oneOf keyword");let p=n.let("valid",!1),h=n.const("tag",(0,t._)`${o}${(0,t.getProperty)(d)}`);n.if((0,t._)`typeof ${h} == "string"`,()=>(function(){let o=function(){var e;let n={},t=o(c),l=!0;for(let n=0;n<m.length;n++){let c=m[n];if((null==c?void 0:c.$ref)&&!(0,r.schemaHasRulesButRef)(c,u.self.RULES)){let e=c.$ref;if((c=i.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,e))instanceof i.SchemaEnv&&(c=c.schema),void 0===c)throw new s.default(u.opts.uriResolver,u.baseId,e)}let p=null===(e=null==c?void 0:c.properties)||void 0===e?void 0:e[d];if("object"!=typeof p)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${d}"`);l=l&&(t||o(c)),function(e,n){if(e.const)a(e.const,n);else if(e.enum)for(let t of e.enum)a(t,n);else throw Error(`discriminator: "properties/${d}" must have "const" or "enum"`)}(p,n)}if(!l)throw Error(`discriminator: "${d}" must be required`);return n;function o({required:e}){return Array.isArray(e)&&e.includes(d)}function a(e,t){if("string"!=typeof e||e in n)throw Error(`discriminator: "${d}" values must be unique strings`);n[e]=t}}();for(let l in n.if(!1),o)n.elseIf((0,t._)`${h} === ${l}`),n.assign(p,function(l){let o=n.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:l},o);return e.mergeEvaluated(i,t.Name),o}(o[l]));n.else(),e.error(!1,{discrError:l.DiscrError.Mapping,tag:h,tagName:d}),n.endIf()})(),()=>e.error(!1,{discrError:l.DiscrError.Tag,tag:h,tagName:d})),e.ok(p)}}}),i("dBVTL",function(e,n){var t,l;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.DiscrError=void 0,(l=t||(e.exports.DiscrError=t={})).Tag="tag",l.Mapping="mapping"}),i("ftkpO",function(e,n){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}),s();class r{/** Debug log level. */LevelDebug=(s().s[0]++,-4);/** Info log level. */LevelInfo=(s().s[1]++,0);/** Warning log level. */LevelWarn=(s().s[2]++,4);/** Error log level. */LevelError=(s().s[3]++,8);/** Current log severity level. Should only be changed by setLevel. */level=(s().s[4]++,this.LevelInfo);/**
   * Internal function to actually write to the log.
   *
   * @param level string name of level
   * @param msg message to be printed
   * @param pairs structured pairs to be logged
   */log(e,n,t){for(let l of(s().f[0]++,s().s[5]++,console.log(`START ${e}: ${n}`),s().s[6]++,t))s().s[7]++,console.log(l[0]),s().s[8]++,console.log(l[1]);s().s[9]++,console.log(`END ${e}: ${n}`)}/**
   * Set the logging severity level to control what messages will appear in the
   * logs.  Messages at or above this severity will be logged.
   *
   * @param level log severity level to use
   */setLevel(e){s().f[1]++,s().s[10]++,this.level=e}/**
   * Log debug message.
   *
   * @param msg log message
   * @param pairs key/value pairs to be logged
   */debug(e,...n){s().f[2]++,s().s[11]++,this.level<=this.LevelDebug?(s().b[0][0]++,s().s[12]++,this.log("DEBUG",e,n)):s().b[0][1]++}/**
   * Log informational message.
   *
   * @param msg log message
   * @param pairs key/value pairs to be logged
   */info(e,...n){s().f[3]++,s().s[13]++,this.level<=this.LevelInfo?(s().b[1][0]++,s().s[14]++,this.log("INFO",e,n)):s().b[1][1]++}/**
   * Log warning message.
   *
   * @param msg log message
   * @param pairs key/value pairs to be logged
   */warn(e,...n){s().f[4]++,s().s[15]++,this.level<=this.LevelWarn?(s().b[2][0]++,s().s[16]++,this.log("WARNING",e,n)):s().b[2][1]++}/**
   * Log error message.
   *
   * @param msg log message
   * @param pairs key/value pairs to be logged
   */error(e,...n){s().f[5]++,s().s[17]++,this.level<=this.LevelError?(s().b[3][0]++,s().s[18]++,this.log("ERROR",e,n)):s().b[3][1]++}}const a=(s().s[19]++,new r);/**
 * Given a JSON schema defined with the `as const` statement, infers the type of valid instances
 * @param SCHEMA JSON schema
 *//**
 * Given an extended JSON schema defined with the `as const` statement, infers the type of valid instances
 * @param SCHEMA JSON schema
 */var c=o("bmd3s");function u(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/Validation.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"01bbdbd6f8ea97fde6e9da0bf04113b52e80c28c"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/Validation.ts",statementMap:{0:{start:{line:11,column:23},end:{line:24,column:31}},1:{start:{line:29,column:22},end:{line:48,column:31}},2:{start:{line:53,column:19},end:{line:65,column:31}},3:{start:{line:70,column:24},end:{line:76,column:31}},4:{start:{line:81,column:19},end:{line:91,column:31}},5:{start:{line:96,column:18},end:{line:106,column:31}},6:{start:{line:111,column:28},end:{line:123,column:31}},7:{start:{line:146,column:12},end:{line:146,column:21}},8:{start:{line:147,column:28},end:{line:147,column:59}},9:{start:{line:147,column:40},end:{line:147,column:59}},10:{start:{line:148,column:16},end:{line:148,column:49}},11:{start:{line:151,column:26},end:{line:151,column:49}},12:{start:{line:152,column:25},end:{line:152,column:47}},13:{start:{line:153,column:22},end:{line:153,column:41}},14:{start:{line:154,column:27},end:{line:154,column:51}},15:{start:{line:155,column:22},end:{line:155,column:41}},16:{start:{line:156,column:21},end:{line:156,column:39}},17:{start:{line:157,column:31},end:{line:157,column:59}},18:{start:{line:172,column:19},end:{line:172,column:44}},19:{start:{line:174,column:2},end:{line:176,column:3}},20:{start:{line:175,column:4},end:{line:175,column:60}},21:{start:{line:177,column:24},end:{line:177,column:45}},22:{start:{line:178,column:2},end:{line:178,column:44}},23:{start:{line:179,column:2},end:{line:179,column:76}},24:{start:{line:180,column:2},end:{line:184,column:3}},25:{start:{line:181,column:4},end:{line:181,column:16}},26:{start:{line:183,column:4},end:{line:183,column:75}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:147,column:28},end:{line:147,column:29}},loc:{start:{line:147,column:40},end:{line:147,column:59}},line:147},1:{name:"typedFetch",decl:{start:{line:167,column:22},end:{line:167,column:32}},loc:{start:{line:171,column:14},end:{line:185,column:1}},line:171}},branchMap:{0:{loc:{start:{line:174,column:2},end:{line:176,column:3}},type:"if",locations:[{start:{line:174,column:2},end:{line:176,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174},1:{loc:{start:{line:180,column:2},end:{line:184,column:3}},type:"if",locations:[{start:{line:180,column:2},end:{line:184,column:3}},{start:{line:182,column:9},end:{line:184,column:3}}],line:180}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"01bbdbd6f8ea97fde6e9da0bf04113b52e80c28c"});var o=l[e];return(// @ts-ignore
u=function(){return o},o)}u();/**
 * JSON Schema definition for the metadata of a post.
 */const m=(u().s[0]++,{$id:"postMeta.json",$schema:"http://json-schema.org/draft-07/schema",title:"PostMeta",type:"object",required:["createdBy","createdAt","lastModifiedBy","lastModifiedAt"],properties:{createdBy:{type:"string"},createdAt:{type:"number"},lastModifiedBy:{type:"string"},lastModifiedAt:{type:"number"}},additionalProperties:!1}),d=(u().s[1]++,{$id:"postDoc.json",$schema:"http://json-schema.org/draft-07/schema",title:"PostDoc",type:"object",required:[],properties:{msg:{type:"string"},parent:{type:"string"},reactions:{type:"object",additionalProperties:{type:"array",items:{type:"string"}}}},additionalProperties:!0// Allow other arbitrary fields, but ignore them (other exntensions that arent ours)
}),p=(u().s[2]++,{$id:"post.json",$schema:"http://json-schema.org/draft-07/schema",title:"Post",type:"object",required:["path","doc","meta"],properties:{path:{type:"string"},doc:{$ref:"postDoc.json"},meta:{$ref:"postMeta.json"}},additionalProperties:!1}),h=(u().s[3]++,{$id:"postArray.json",$schema:"http://json-schema.org/draft-07/schema",title:"PostArray",type:"array",items:{$ref:"post.json"}}),f=(u().s[4]++,{$id:"auth.json",$schema:"http://json-schema.org/draft-07/schema",title:"Auth",type:"object",required:["token"],properties:{token:{type:"string"}},additionalProperties:!1}),y=(u().s[5]++,{$id:"URI.json",$schema:"http://json-schema.org/draft-07/schema",title:"URI",type:"object",required:["uri"],properties:{uri:{type:"string"}},additionalProperties:!1}),b=(u().s[6]++,{$id:"PATCHResponse.json",$schema:"http://json-schema.org/draft-07/schema",title:"PATCHResponse",type:"object",required:["uri","patchFailed","message"],properties:{uri:{type:"string"},patchFailed:{type:"boolean"},message:{type:"string"}},additionalProperties:!1}),g=(u().s[7]++,new c.Ajv);u().s[8]++;const v=(u().s[10]++,e=e=>(u().f[0]++,u().s[9]++,g.compile(e)),function(n){for(var t=arguments.length,l=Array(t>1?t-1:0),o=1;o<t;o++)l[o-1]=arguments[o];var i=e.apply(void 0,[n].concat(l));return function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),l=1;l<n;l++)t[l-1]=arguments[l];return i.apply(void 0,[e].concat(t))}});u().s[11]++,v(m),u().s[12]++,v(d),u().s[13]++,v(p);const w=(u().s[14]++,v(h)),_=(u().s[15]++,v(f)),x=(u().s[16]++,v(y)),$=(u().s[17]++,v(b));async function k(e,n,t){u().f[1]++;let l=(u().s[18]++,await fetch(e,t));if(u().s[19]++,l.ok)u().b[0][1]++;else throw u().b[0][0]++,u().s[20]++,Error(`Fetch failed: ${l.statusText}`);let o=(u().s[21]++,await l.json());if(u().s[22]++,a.info("Fetched data",["data",o]),u().s[23]++,a.info("Validation result for workspaces:",["valid",n(o)]),u().s[24]++,n(o))return u().b[1][0]++,u().s[25]++,o;throw u().b[1][1]++,u().s[26]++,Error(`Response validation failed: ${JSON.stringify(o)}`)}function C(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/LoginModel.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"37e952d0718618ce3a475680f8aaff8d93cbb913"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/LoginModel.ts",statementMap:{0:{start:{line:15,column:4},end:{line:15,column:29}},1:{start:{line:25,column:4},end:{line:37,column:5}},2:{start:{line:26,column:23},end:{line:33,column:8}},3:{start:{line:34,column:6},end:{line:34,column:28}},4:{start:{line:36,column:6},end:{line:36,column:48}},5:{start:{line:47,column:4},end:{line:60,column:5}},6:{start:{line:48,column:23},end:{line:53,column:8}},7:{start:{line:55,column:6},end:{line:57,column:7}},8:{start:{line:56,column:8},end:{line:56,column:51}},9:{start:{line:59,column:6},end:{line:59,column:49}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:32},end:{line:16,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:24,column:2},end:{line:24,column:3}},loc:{start:{line:24,column:63},end:{line:38,column:3}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:56},end:{line:61,column:3}},line:46}},branchMap:{0:{loc:{start:{line:55,column:6},end:{line:57,column:7}},type:"if",locations:[{start:{line:55,column:6},end:{line:57,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0,2:0},b:{0:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"37e952d0718618ce3a475680f8aaff8d93cbb913"});var o=l[e];return(// @ts-ignore
C=function(){return o},o)}C();class E{authPath;/**
   * Initializes with the API endpoint for authentication.
   * @param authPath - The base API endpoint for authentication.
   */constructor(e){C().f[0]++,C().s[0]++,this.authPath=e}/**
   * Submits the username to owlDB and returns the token.
   * @param username - The username entered by the user.
   * @returns Promise that resolves with the authentication token.
   * @throws An error if the request fails.
   */async authenticate(e){C().f[1]++,C().s[1]++;try{let n=(C().s[2]++,await k(this.authPath,_,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e})}));return C().s[3]++,n.token}catch(e){throw C().s[4]++,Error("Authentication failed.")}}/**
   * Sends a DELETE request to log out the user.
   * @param authToken - The authentication token for authorization.
   * @returns Promise that resolves when the user is logged out.
   * @throws An error if the request fails.
   */async logout(e){C().f[2]++,C().s[5]++;try{let n=(C().s[6]++,await fetch(this.authPath,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}));if(C().s[7]++,n.ok)C().b[0][1]++;else throw C().b[0][0]++,C().s[8]++,Error("Logout failed in model.")}catch(e){throw C().s[9]++,Error("Logout failed in model.")}}}function P(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/WorkspaceModel.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"83518e98e5bef3bf5030fa479d0d8487b21f37f6"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/WorkspaceModel.ts",statementMap:{0:{start:{line:15,column:4},end:{line:15,column:25}},1:{start:{line:26,column:4},end:{line:26,column:27}},2:{start:{line:27,column:4},end:{line:43,column:9}},3:{start:{line:35,column:8},end:{line:38,column:11}},4:{start:{line:36,column:31},end:{line:36,column:51}},5:{start:{line:37,column:10},end:{line:37,column:55}},6:{start:{line:41,column:8},end:{line:41,column:56}},7:{start:{line:42,column:8},end:{line:42,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:30},end:{line:16,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:67},end:{line:44,column:3}},line:25},2:{name:"(anonymous_2)",decl:{start:{line:34,column:12},end:{line:34,column:13}},loc:{start:{line:34,column:37},end:{line:39,column:7}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:35,column:28},end:{line:35,column:29}},loc:{start:{line:35,column:38},end:{line:38,column:9}},line:35},4:{name:"(anonymous_4)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:24},end:{line:43,column:7}},line:40}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"83518e98e5bef3bf5030fa479d0d8487b21f37f6"});var o=l[e];return(// @ts-ignore
P=function(){return o},o)}P();class S{dbPath;/**
   * Initializes with the API endpoint for workspace data.
   * @param dbPath - The base API endpoint for workspace operations.
   */constructor(e){P().f[0]++,P().s[0]++,this.dbPath=e}/**
   *  Performs a GET DB request to retrieve the workspace data
   * @param authToken - The authentication token.
   * @returns Promise that resolves with the workspace data.
   * @throws Error if the request fails.
   * @throws Error if the response is not ok.
   */async getWorkspaces(e){return P().f[1]++,P().s[1]++,a.info(this.dbPath),P().s[2]++,k(this.dbPath,w,{method:"GET",headers:{Authorization:`Bearer ${e}`,accept:"application/json"}}).then(e=>(P().f[2]++,P().s[3]++,e.map(e=>{P().f[3]++;let n=(P().s[4]++,e.path.split("/"));return P().s[5]++,n[n.length-1]}))).catch(e=>{throw P().f[4]++,P().s[6]++,a.error("Error fetching workspaces:",e),P().s[7]++,e})}}function D(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/SidebarModel.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"a6bf0613974b03998b8dfc39f5a069b4fbbb089e"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/SidebarModel.ts",statementMap:{0:{start:{line:15,column:4},end:{line:15,column:35}},1:{start:{line:30,column:33},end:{line:30,column:62}},2:{start:{line:31,column:16},end:{line:31,column:70}},3:{start:{line:33,column:4},end:{line:51,column:9}},4:{start:{line:41,column:8},end:{line:44,column:11}},5:{start:{line:42,column:31},end:{line:42,column:51}},6:{start:{line:43,column:10},end:{line:43,column:55}},7:{start:{line:47,column:8},end:{line:47,column:69}},8:{start:{line:48,column:8},end:{line:50,column:10}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:35},end:{line:16,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:29,column:23},end:{line:52,column:3}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:40,column:12},end:{line:40,column:13}},loc:{start:{line:40,column:37},end:{line:45,column:7}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:41,column:28},end:{line:41,column:29}},loc:{start:{line:41,column:38},end:{line:44,column:9}},line:41},4:{name:"(anonymous_4)",decl:{start:{line:46,column:13},end:{line:46,column:14}},loc:{start:{line:46,column:24},end:{line:51,column:7}},line:46}},branchMap:{0:{loc:{start:{line:49,column:45},end:{line:49,column:67}},type:"binary-expr",locations:[{start:{line:49,column:45},end:{line:49,column:58}},{start:{line:49,column:62},end:{line:49,column:67}}],line:49}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a6bf0613974b03998b8dfc39f5a069b4fbbb089e"});var o=l[e];return(// @ts-ignore
D=function(){return o},o)}D();class M{channelPath;/**
   * Initializes with the API endpoint for channel and collection operations.
   * @param channelPath - The base API endpoint for collection-related requests.
   */constructor(e){D().f[0]++,D().s[0]++,this.channelPath=e}/**
   * Performs a GET DB request to retrieve the collection data for a specific workspace
   * @param authToken - The authentication token.
   * @param workspace - The workspace name.
   * @returns Promise that resolves with the collection data.
   * @throws Error if the request fails.
   * @throws Error if the response is not ok.
   */getCollections(e,n){D().f[1]++;let t=(D().s[1]++,encodeURIComponent(n)),l=(D().s[2]++,`${this.channelPath}${t}/channels/`);return D().s[3]++,k(l,w,{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${e}`}}).then(e=>(D().f[2]++,D().s[4]++,e.map(e=>{D().f[3]++;let n=(D().s[5]++,e.path.split("/"));return D().s[6]++,n[n.length-1]}))).catch(e=>{throw D().f[4]++,D().s[7]++,a.error("Failed to fetch collections:",["error",e]),D().s[8]++,Error(`Unable to retrieve collections: ${(D().b[0][0]++,e.message||(D().b[0][1]++,e))}`)})}}async function j(e,n){let t;let l=e.getReader();for(;!(t=await l.read()).done;)n(t.value)}function N(){return{data:"",event:"",id:"",retry:void 0}}var T=function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>n.indexOf(l)&&(t[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,l=Object.getOwnPropertySymbols(e);o<l.length;o++)0>n.indexOf(l[o])&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(t[l[o]]=e[l[o]]);return t};const I="text/event-stream",R="last-event-id";function L(e){let n=e.headers.get("content-type");if(!(null==n?void 0:n.startsWith(I)))throw Error(`Expected content-type to be ${I}, Actual: ${n}`)}function O(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/MainContentModel.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"c66e45b15743d750f9bd44852e38ea169084a220"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/MainContentModel.ts",statementMap:{0:{start:{line:16,column:41},end:{line:16,column:45}},1:{start:{line:17,column:39},end:{line:17,column:43}},2:{start:{line:18,column:41},end:{line:18,column:45}},3:{start:{line:26,column:4},end:{line:26,column:35}},4:{start:{line:27,column:4},end:{line:27,column:31}},5:{start:{line:37,column:4},end:{line:37,column:31}},6:{start:{line:52,column:4},end:{line:57,column:6}},7:{start:{line:58,column:33},end:{line:58,column:62}},8:{start:{line:59,column:31},end:{line:59,column:58}},9:{start:{line:60,column:4},end:{line:62,column:6}},10:{start:{line:64,column:4},end:{line:82,column:9}},11:{start:{line:76,column:8},end:{line:76,column:69}},12:{start:{line:77,column:8},end:{line:77,column:24}},13:{start:{line:80,column:8},end:{line:80,column:63}},14:{start:{line:81,column:8},end:{line:81,column:20}},15:{start:{line:100,column:4},end:{line:102,column:5}},16:{start:{line:101,column:6},end:{line:101,column:43}},17:{start:{line:104,column:4},end:{line:106,column:5}},18:{start:{line:105,column:6},end:{line:105,column:24}},19:{start:{line:107,column:4},end:{line:107,column:38}},20:{start:{line:109,column:19},end:{line:109,column:132}},21:{start:{line:110,column:4},end:{line:136,column:7}},22:{start:{line:118,column:8},end:{line:121,column:9}},23:{start:{line:120,column:10},end:{line:120,column:17}},24:{start:{line:122,column:8},end:{line:127,column:9}},25:{start:{line:123,column:23},end:{line:123,column:43}},26:{start:{line:124,column:10},end:{line:124,column:26}},27:{start:{line:126,column:10},end:{line:126,column:57}},28:{start:{line:130,column:8},end:{line:130,column:53}},29:{start:{line:131,column:8},end:{line:131,column:27}},30:{start:{line:132,column:8},end:{line:134,column:9}},31:{start:{line:133,column:10},end:{line:133,column:25}},32:{start:{line:143,column:4},end:{line:149,column:5}},33:{start:{line:144,column:6},end:{line:144,column:24}},34:{start:{line:145,column:6},end:{line:145,column:23}},35:{start:{line:146,column:6},end:{line:146,column:43}},36:{start:{line:148,column:6},end:{line:148,column:71}},37:{start:{line:168,column:4},end:{line:170,column:5}},38:{start:{line:169,column:6},end:{line:169,column:61}},39:{start:{line:172,column:4},end:{line:178,column:6}},40:{start:{line:180,column:21},end:{line:180,column:53}},41:{start:{line:181,column:28},end:{line:183,column:5}},42:{start:{line:182,column:6},end:{line:182,column:33}},43:{start:{line:184,column:24},end:{line:184,column:49}},44:{start:{line:185,column:22},end:{line:185,column:55}},45:{start:{line:187,column:4},end:{line:187,column:55}},46:{start:{line:188,column:20},end:{line:212,column:5}},47:{start:{line:214,column:4},end:{line:227,column:9}},48:{start:{line:216,column:8},end:{line:219,column:9}},49:{start:{line:217,column:10},end:{line:217,column:71}},50:{start:{line:218,column:10},end:{line:218,column:71}},51:{start:{line:220,column:8},end:{line:220,column:76}},52:{start:{line:223,column:8},end:{line:223,column:66}},53:{start:{line:224,column:8},end:{line:226,column:10}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:71},end:{line:28,column:3}},line:25},1:{name:"(anonymous_1)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:33},end:{line:38,column:3}},line:36},2:{name:"(anonymous_2)",decl:{start:{line:47,column:2},end:{line:47,column:3}},loc:{start:{line:51,column:24},end:{line:83,column:3}},line:51},3:{name:"(anonymous_3)",decl:{start:{line:75,column:12},end:{line:75,column:13}},loc:{start:{line:75,column:26},end:{line:78,column:7}},line:75},4:{name:"(anonymous_4)",decl:{start:{line:79,column:13},end:{line:79,column:14}},loc:{start:{line:79,column:24},end:{line:82,column:7}},line:79},5:{name:"(anonymous_5)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:99,column:10},end:{line:137,column:3}},line:99},6:{name:"(anonymous_6)",decl:{start:{line:117,column:17},end:{line:117,column:18}},loc:{start:{line:117,column:26},end:{line:128,column:7}},line:117},7:{name:"(anonymous_7)",decl:{start:{line:129,column:15},end:{line:129,column:16}},loc:{start:{line:129,column:26},end:{line:135,column:7}},line:129},8:{name:"(anonymous_8)",decl:{start:{line:142,column:2},end:{line:142,column:3}},loc:{start:{line:142,column:36},end:{line:150,column:3}},line:142},9:{name:"(anonymous_9)",decl:{start:{line:161,column:2},end:{line:161,column:3}},loc:{start:{line:167,column:19},end:{line:228,column:3}},line:167},10:{name:"(anonymous_10)",decl:{start:{line:181,column:41},end:{line:181,column:42}},loc:{start:{line:182,column:6},end:{line:182,column:33}},line:182},11:{name:"(anonymous_11)",decl:{start:{line:215,column:12},end:{line:215,column:13}},loc:{start:{line:215,column:26},end:{line:221,column:7}},line:215},12:{name:"(anonymous_12)",decl:{start:{line:222,column:13},end:{line:222,column:14}},loc:{start:{line:222,column:24},end:{line:227,column:7}},line:222}},branchMap:{0:{loc:{start:{line:100,column:4},end:{line:102,column:5}},type:"if",locations:[{start:{line:100,column:4},end:{line:102,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:100},1:{loc:{start:{line:104,column:4},end:{line:106,column:5}},type:"if",locations:[{start:{line:104,column:4},end:{line:106,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:104},2:{loc:{start:{line:118,column:8},end:{line:121,column:9}},type:"if",locations:[{start:{line:118,column:8},end:{line:121,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:118},3:{loc:{start:{line:132,column:8},end:{line:134,column:9}},type:"if",locations:[{start:{line:132,column:8},end:{line:134,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:132},4:{loc:{start:{line:143,column:4},end:{line:149,column:5}},type:"if",locations:[{start:{line:143,column:4},end:{line:149,column:5}},{start:{line:147,column:11},end:{line:149,column:5}}],line:143},5:{loc:{start:{line:168,column:4},end:{line:170,column:5}},type:"if",locations:[{start:{line:168,column:4},end:{line:170,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:168},6:{loc:{start:{line:168,column:8},end:{line:168,column:48}},type:"binary-expr",locations:[{start:{line:168,column:8},end:{line:168,column:27}},{start:{line:168,column:31},end:{line:168,column:48}}],line:168},7:{loc:{start:{line:207,column:14},end:{line:207,column:49}},type:"cond-expr",locations:[{start:{line:207,column:23},end:{line:207,column:36}},{start:{line:207,column:39},end:{line:207,column:49}}],line:207},8:{loc:{start:{line:216,column:8},end:{line:219,column:9}},type:"if",locations:[{start:{line:216,column:8},end:{line:219,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:216},9:{loc:{start:{line:225,column:41},end:{line:225,column:63}},type:"binary-expr",locations:[{start:{line:225,column:41},end:{line:225,column:54}},{start:{line:225,column:58},end:{line:225,column:63}}],line:225}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c66e45b15743d750f9bd44852e38ea169084a220"});var o=l[e];return(// @ts-ignore
O=function(){return o},o)}O();class A{currWorkspace=(O().s[0]++,null);currChannel=(O().s[1]++,null);ctrl=(O().s[2]++,null);/**
   * Public method that sets the current workspace and channel.
   * @param workspace - The current workspace.
   * @param channel - The current channel.
   */setCurrentWorkspaceChannel(e,n){O().f[0]++,O().s[3]++,this.currWorkspace=e,O().s[4]++,this.currChannel=n}postsPath;/**
   * Initializes with the API endpoint for posts.
   * @param postsPath - The base API endpoint for post-related requests.
   */constructor(e){O().f[1]++,O().s[5]++,this.postsPath=e}/**
   * Get the collections.
   * @param authToken - authentication token
   * @param workspace - workspace name
   * @param channel - channel name
   * @returns Post[] for the posts
   * */async getCollections(e,n,t){O().f[2]++,O().s[6]++,a.info("Fields in getCollection (model)",["authToken",e],["workspace",n],["channel",t]);let l=(O().s[7]++,encodeURIComponent(n)),o=(O().s[8]++,encodeURIComponent(t));return O().s[9]++,a.info(`${this.postsPath}${l}/channels/${o}/posts/`),O().s[10]++,k(`${this.postsPath}${l}/channels/${o}/posts/`,w,{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${e}`}}).then(e=>(O().f[3]++,O().s[11]++,a.info("Fetched posts response:",["response",e]),O().s[12]++,e)).catch(e=>{throw O().f[4]++,O().s[13]++,a.error("Failed to fetch posts:",["error",e]),O().s[14]++,e})}/**
   * Subscribes to posts in the current workspace and channel, streaming them as they arrive.
   * @param authToken - The authentication token for authorization.
   * @param workspace - The name of the workspace to subscribe to.
   * @param channel - The name of the channel to subscribe to.
   * @param onMessage - Callback function to handle incoming posts.
   * @param onError - Optional callback to handle errors.
   */subscribeToPosts(e,n,t,l,o){if(O().f[5]++,O().s[15]++,e)O().b[0][1]++;else throw O().b[0][0]++,O().s[16]++,Error("No token provided");O().s[17]++,this.ctrl?(O().b[1][0]++,O().s[18]++,this.ctrl.abort()):O().b[1][1]++,O().s[19]++,this.ctrl=new AbortController;// Construct SSE URL
let i=(O().s[20]++,`${this.postsPath}${encodeURIComponent(n)}/channels/${encodeURIComponent(t)}/posts/?mode=subscribe`);O().s[21]++,function(e,n){var{signal:t,headers:l,onopen:o,onmessage:i,onclose:s,onerror:r,openWhenHidden:a,fetch:c}=n,u=T(n,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);new Promise((n,m)=>{let d;let p=Object.assign({},l);function h(){d.abort(),document.hidden||w()}p.accept||(p.accept=I),a||document.addEventListener("visibilitychange",h);let f=1e3,y=0;function b(){document.removeEventListener("visibilitychange",h),window.clearTimeout(y),d.abort()}null==t||t.addEventListener("abort",()=>{b(),n()});let g=null!=c?c:window.fetch,v=null!=o?o:L;async function w(){var t,l;d=new AbortController;try{let t,o,r,a;let c=await g(e,Object.assign(Object.assign({},u),{headers:p,signal:d.signal}));await v(c),await j(c.body,(l=function(e,n,t){let l=N(),o=new TextDecoder;return function(i,s){if(0===i.length)null==t||t(l),l=N();else if(s>0){let t=o.decode(i.subarray(0,s)),r=s+(32===i[s+1]?2:1),a=o.decode(i.subarray(r));switch(t){case"data":l.data=l.data?l.data+"\n"+a:a;break;case"event":l.event=a;break;case"id":e(l.id=a);break;case"retry":let c=parseInt(a,10);isNaN(c)||n(l.retry=c)}}}}(e=>{e?p[R]=e:delete p[R]},e=>{f=e},i),a=!1,function(e){void 0===t?(t=e,o=0,r=-1):t=function(e,n){let t=new Uint8Array(e.length+n.length);return t.set(e),t.set(n,e.length),t}(t,e);let n=t.length,i=0;for(;o<n;){a&&(10===t[o]&&(i=++o),a=!1);let e=-1;for(;o<n&&-1===e;++o)switch(t[o]){case 58:-1===r&&(r=o-i);break;case 13:a=!0;case 10:e=o}if(-1===e)break;l(t.subarray(i,e),r),i=o,r=-1}i===n?t=void 0:0!==i&&(t=t.subarray(i),o-=i)})),null==s||s(),b(),n()}catch(e){if(!d.signal.aborted)try{let n=null!==(t=null==r?void 0:r(e))&&void 0!==t?t:f;window.clearTimeout(y),y=window.setTimeout(w,n)}catch(e){b(),m(e)}}}w()})}(i,{method:"GET",headers:{"Content-Type":"text/event-stream",Authorization:`Bearer ${e}`},signal:this.ctrl.signal,onmessage:e=>{if(O().f[6]++,O().s[22]++,e.data)O().b[2][1]++;else{O().b[2][0]++,O().s[23]++;// Do i need to add validation
return}O().s[24]++;try{let n=(O().s[25]++,JSON.parse(e.data));O().s[26]++,l(n)}catch(e){O().s[27]++,a.error("Failed to parse message:"+e)}},onerror:e=>{O().f[7]++,O().s[28]++,a.error("SSE connection error: "+e),O().s[29]++,this.ctrl?.abort(),O().s[30]++,o?(O().b[3][0]++,O().s[31]++,o(e)):O().b[3][1]++}})}/**
   * Unsubscribes from the current post stream.
   */unsubscribeToPosts(){O().f[8]++,O().s[32]++,this.ctrl?(O().b[4][0]++,O().s[33]++,this.ctrl.abort(),O().s[34]++,this.ctrl=null,O().s[35]++,a.info("Unsubscribed from posts")):(O().b[4][1]++,O().s[36]++,a.warn("No active subscription to posts to unsubscribe from"))}/**
   * Sends a reaction to a post, either adding or removing the reaction.
   * @param postPath - The API endpoint for reacting to a post.
   * @param remove - If `true`, removes the reaction; otherwise, adds the reaction.
   * @param reactionType - The type of reaction.
   * @param username - The username of the person reacting to the post.
   * @param token - The authentication token for authorization.
   * @throws Error if the current workspace or channel is not set.
   */async reactPost(e,n,t,l,o){if(O().f[9]++,O().s[37]++,O().b[6][0]++,this.currWorkspace&&(O().b[6][1]++,this.currChannel))O().b[5][1]++;else throw O().b[5][0]++,O().s[38]++,Error("No current workspace or channel set");O().s[39]++,a.info("Fields in reactPost (model)",["postPath",e],["remove",n],["reactionType",t],["username",l]);let i=(O().s[40]++,e.substring(1).split("/")),s=(O().s[41]++,i.map(e=>(O().f[10]++,O().s[42]++,encodeURIComponent(e)))),r=(O().s[43]++,s.join("/")),c=(O().s[44]++,`${this.postsPath}${r}`);O().s[45]++,a.info("React path:",["reactPath",c]);let u=(O().s[46]++,{method:"PATCH",headers:{Authorization:`Bearer ${o}`,accept:"application/json","Content-Type":"application/json"},body:JSON.stringify([{op:"ObjectAdd",path:"/reactions",value:{}},{op:"ObjectAdd",path:`/reactions/${t}`,value:[]},{op:n?(O().b[7][0]++,"ArrayRemove"):(O().b[7][1]++,"ArrayAdd"),path:`/reactions/${t}`,value:l}])});return O().s[47]++,k(c,$,u).then(e=>{if(O().f[11]++,O().s[48]++,e.patchFailed)throw O().b[8][0]++,O().s[49]++,a.error("Patch operation failed",["response",e]),O().s[50]++,Error("Failed to react to the post: PATCH failed");O().b[8][1]++,O().s[51]++,a.info("Reaction updated successfully:",["response",e])}).catch(e=>{throw O().f[12]++,O().s[52]++,a.error("Error updating reactions:",["error",e]),O().s[53]++,Error(`Failed to update reactions: ${(O().b[9][0]++,e.message||(O().b[9][1]++,e))}`)})}}function B(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/CreateWorkspaceModel.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"d2e5aadf7c2f02419eb03b2688163b1139a701f2"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/CreateWorkspaceModel.ts",statementMap:{0:{start:{line:17,column:4},end:{line:17,column:51}},1:{start:{line:31,column:33},end:{line:31,column:66}},2:{start:{line:32,column:23},end:{line:32,column:75}},3:{start:{line:34,column:4},end:{line:34,column:58}},4:{start:{line:36,column:4},end:{line:88,column:5}},5:{start:{line:38,column:37},end:{line:50,column:7}},6:{start:{line:52,column:6},end:{line:55,column:9}},7:{start:{line:58,column:26},end:{line:58,column:51}},8:{start:{line:59,column:6},end:{line:59,column:64}},9:{start:{line:61,column:36},end:{line:73,column:7}},10:{start:{line:75,column:6},end:{line:78,column:9}},11:{start:{line:82,column:6},end:{line:82,column:31}},12:{start:{line:85,column:6},end:{line:85,column:64}},13:{start:{line:87,column:6},end:{line:87,column:18}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:43},end:{line:18,column:3}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:30,column:18},end:{line:89,column:3}},line:30}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d2e5aadf7c2f02419eb03b2688163b1139a701f2"});var o=l[e];return(// @ts-ignore
B=function(){return o},o)}B();class U{createWorkspacePath;/**
   * Initializes the CreateWorkspaceModel with the API endpoint.
   * @param createWorkspacePath - The API endpoint for creating a workspace.
   */constructor(e){B().f[0]++,B().s[0]++,this.createWorkspacePath=e}/**
   * Sends a PUT request to create a new workspace, then initializes channels for the workspace.
   * @param authToken - The authentication token for authorization.
   * @param workspaceName - The name of the workspace to create.
   * @returns A promise that resolves with the workspace URI.
   * @throws CreateWorkspaceError if any of the requests fail.
   */async createWorkspace(e,n){B().f[1]++;let t=(B().s[1]++,encodeURIComponent(n)),l=(B().s[2]++,`${this.createWorkspacePath}${t}`);B().s[3]++,a.info(`Creating workspace at URL: ${l}`),B().s[4]++;try{// First PUT request to create the workspace
let t=(B().s[5]++,await k(l,x,{method:"PUT",headers:{accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({name:n})// Adjust the body as per your API requirements
}));B().s[6]++,a.info("Workspace created successfully:",["workspaceResponse",t]);// Second PUT request to initialize channels for the workspace
let o=(B().s[7]++,`${l}/channels/`);B().s[8]++,a.info(`Initializing channels at URL: ${o}`);let i=(B().s[9]++,await k(o,x,{method:"PUT",headers:{accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({})// Assuming no body is needed; adjust if necessary
}));return B().s[10]++,a.info("Channels initialized successfully:",["channelsResponse",i]),// Optionally, you can return both responses or just the workspace response
// Here, we'll return the workspace response
B().s[11]++,t}catch(e){throw B().s[12]++,a.error("Error in createWorkspace:",["error",e]),// Throw a custom error to be handled by the controller
B().s[13]++,e}}}function z(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/DeleteWorkspaceModel.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"9fe6cc6d37534702e9b76b265d350441259ee03e"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/DeleteWorkspaceModel.ts",statementMap:{0:{start:{line:17,column:4},end:{line:17,column:51}},1:{start:{line:31,column:33},end:{line:31,column:66}},2:{start:{line:32,column:23},end:{line:32,column:75}},3:{start:{line:34,column:4},end:{line:34,column:58}},4:{start:{line:36,column:4},end:{line:50,column:5}},5:{start:{line:37,column:23},end:{line:43,column:8}},6:{start:{line:44,column:6},end:{line:46,column:7}},7:{start:{line:45,column:8},end:{line:45,column:78}},8:{start:{line:48,column:6},end:{line:48,column:53}},9:{start:{line:49,column:6},end:{line:49,column:18}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:43},end:{line:18,column:3}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:30,column:19},end:{line:51,column:3}},line:30}},branchMap:{0:{loc:{start:{line:44,column:6},end:{line:46,column:7}},type:"if",locations:[{start:{line:44,column:6},end:{line:46,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0},b:{0:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9fe6cc6d37534702e9b76b265d350441259ee03e"});var o=l[e];return(// @ts-ignore
z=function(){return o},o)}z();class q{deleteWorkspacePath;/**
   * Initializes the DeleteWorkspaceModel with the API endpoint.
   * @param deleteWorkspacePath - The API endpoint for deleting a workspace.
   */constructor(e){z().f[0]++,z().s[0]++,this.deleteWorkspacePath=e}/**
   * Sends a DELETE request to delete a workspace.
   * @param authToken - The authentication token for authorization.
   * @param workspaceName - The name of the workspace to delete.
   * @returns A promise that resolves with the response data.
   * @throws An error if the request fails.
   */async deleteWorkspace(e,n){z().f[1]++;let t=(z().s[1]++,encodeURIComponent(n)),l=(z().s[2]++,`${this.deleteWorkspacePath}${t}`);z().s[3]++,a.info(`Deleting workspace at URL: ${l}`),z().s[4]++;try{let n=(z().s[5]++,await fetch(l,{method:"DELETE",headers:{accept:"*/*",Authorization:`Bearer ${e}`}}));if(z().s[6]++,n.ok)z().b[0][1]++;else throw z().b[0][0]++,z().s[7]++,Error(`Failed to delete workspace: ${n.statusText}`)}catch(e){throw z().s[8]++,a.error("Error deleting workspace:",e),z().s[9]++,e}}}function V(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/CreateChannelModel.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"0ea5769e48acb68a90c74996cdf776cc337d3d76"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/CreateChannelModel.ts",statementMap:{0:{start:{line:17,column:4},end:{line:17,column:47}},1:{start:{line:33,column:33},end:{line:33,column:66}},2:{start:{line:34,column:31},end:{line:34,column:62}},3:{start:{line:35,column:23},end:{line:35,column:104}},4:{start:{line:37,column:4},end:{line:37,column:56}},5:{start:{line:40,column:4},end:{line:84,column:5}},6:{start:{line:41,column:35},end:{line:53,column:7}},7:{start:{line:56,column:23},end:{line:56,column:45}},8:{start:{line:57,column:6},end:{line:57,column:58}},9:{start:{line:59,column:33},end:{line:71,column:7}},10:{start:{line:73,column:6},end:{line:76,column:9}},11:{start:{line:80,column:6},end:{line:80,column:29}},12:{start:{line:82,column:6},end:{line:82,column:34}},13:{start:{line:83,column:6},end:{line:83,column:18}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:41},end:{line:18,column:3}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:32,column:18},end:{line:85,column:3}},line:32}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0ea5769e48acb68a90c74996cdf776cc337d3d76"});var o=l[e];return(// @ts-ignore
V=function(){return o},o)}V();class F{createChannelPath;/**
   * Initializes the CreateChannelModel with the API endpoint.
   * @param createChannelPath - The API endpoint for creating a channel.
   */constructor(e){V().f[0]++,V().s[0]++,this.createChannelPath=e}/**
   * Sends a PUT request to create a new channel, then initializes posts for the channel.
   * @param authToken - The authentication token for authorization.
   * @param workspaceName - The name of the workspace containing the channel.
   * @param channelName - The name of the channel to create.
   * @returns A promise that resolves with the channel URI.
   * @throws An error if any of the requests fail.
   */async createChannel(e,n,t){V().f[1]++;let l=(V().s[1]++,encodeURIComponent(n)),o=(V().s[2]++,encodeURIComponent(t)),i=(V().s[3]++,`${this.createChannelPath}${l}/channels/${o}`);V().s[4]++,a.info(`Creating channel at URL: ${i}`),// First PUT request to create the channel
V().s[5]++;try{let n=(V().s[6]++,await k(i,x,{method:"PUT",headers:{accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({name:t})// Adjust the body as per your API requirements
})),l=(V().s[7]++,`${i}/posts/`);V().s[8]++,a.info(`Initializing posts at URL: ${l}`);let o=(V().s[9]++,await k(l,x,{method:"PUT",headers:{accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({})// Assuming no body is needed; adjust if necessary
}));return V().s[10]++,a.info("Channel created successfully:",["PostResponse",o]),// Optionally, you can return both responses or just the channel response
// Here, we'll return the channel response
V().s[11]++,n}catch(e){throw V().s[12]++,a.error("Error:",e),V().s[13]++,e;// Rethrow or handle gracefully
}}}function H(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/DeleteChannelModel.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"0f016e6296abd10976bf5e3849acff20deb88f21"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/DeleteChannelModel.ts",statementMap:{0:{start:{line:14,column:4},end:{line:14,column:47}},1:{start:{line:30,column:33},end:{line:30,column:66}},2:{start:{line:31,column:31},end:{line:31,column:62}},3:{start:{line:32,column:23},end:{line:32,column:104}},4:{start:{line:34,column:4},end:{line:34,column:56}},5:{start:{line:36,column:4},end:{line:53,column:5}},6:{start:{line:37,column:23},end:{line:43,column:8}},7:{start:{line:45,column:6},end:{line:47,column:7}},8:{start:{line:46,column:8},end:{line:46,column:76}},9:{start:{line:49,column:6},end:{line:49,column:49}},10:{start:{line:51,column:6},end:{line:51,column:51}},11:{start:{line:52,column:6},end:{line:52,column:18}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:41},end:{line:15,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:29,column:19},end:{line:54,column:3}},line:29}},branchMap:{0:{loc:{start:{line:45,column:6},end:{line:47,column:7}},type:"if",locations:[{start:{line:45,column:6},end:{line:47,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:45}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0},b:{0:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0f016e6296abd10976bf5e3849acff20deb88f21"});var o=l[e];return(// @ts-ignore
H=function(){return o},o)}H();class W{deleteChannelPath;/**
   * Initializes the DeleteChannelModel with the API endpoint.
   * @param deleteChannelPath - The API endpoint for deleting a channel.
   */constructor(e){H().f[0]++,H().s[0]++,this.deleteChannelPath=e}/**
   * Sends a DELETE request to delete an existing channel.
   * @param authToken - The authentication token for authorization.
   * @param workspaceName - The name of the workspace containing the channel.
   * @param channelName - The name of the channel to delete.
   * @returns A promise that resolves when the request is complete.
   * @throws An error if the request fails.
   */async deleteChannel(e,n,t){H().f[1]++;let l=(H().s[1]++,encodeURIComponent(n)),o=(H().s[2]++,encodeURIComponent(t)),i=(H().s[3]++,`${this.deleteChannelPath}${l}/channels/${o}`);H().s[4]++,a.info(`Deleting channel at URL: ${i}`),H().s[5]++;try{let n=(H().s[6]++,await fetch(i,{method:"DELETE",headers:{accept:"*/*",Authorization:`Bearer ${e}`}}));if(H().s[7]++,n.ok)H().b[0][1]++;else throw H().b[0][0]++,H().s[8]++,Error(`Failed to delete channel: ${n.statusText}`);H().s[9]++,a.info("Channel deleted successfully:")}catch(e){throw H().s[10]++,a.error("Error deleting channel:",e),H().s[11]++,e}}}function K(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/ChatInputModel.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"eebf4236f14c456c2f973c6cc3b083dfaead743b"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/model/ChatInputModel.ts",statementMap:{0:{start:{line:18,column:4},end:{line:18,column:37}},1:{start:{line:36,column:33},end:{line:36,column:66}},2:{start:{line:37,column:31},end:{line:37,column:62}},3:{start:{line:38,column:23},end:{line:38,column:106}},4:{start:{line:40,column:4},end:{line:40,column:55}},5:{start:{line:41,column:4},end:{line:41,column:56}},6:{start:{line:42,column:4},end:{line:57,column:9}},7:{start:{line:52,column:8},end:{line:52,column:24}},8:{start:{line:55,column:8},end:{line:55,column:36}},9:{start:{line:56,column:8},end:{line:56,column:51}},10:{start:{line:77,column:33},end:{line:77,column:66}},11:{start:{line:78,column:31},end:{line:78,column:62}},12:{start:{line:79,column:23},end:{line:79,column:106}},13:{start:{line:81,column:4},end:{line:81,column:53}},14:{start:{line:82,column:4},end:{line:82,column:56}},15:{start:{line:83,column:4},end:{line:98,column:9}},16:{start:{line:93,column:8},end:{line:93,column:24}},17:{start:{line:96,column:8},end:{line:96,column:36}},18:{start:{line:97,column:8},end:{line:97,column:49}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:36},end:{line:19,column:3}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:35,column:18},end:{line:58,column:3}},line:35},2:{name:"(anonymous_2)",decl:{start:{line:51,column:12},end:{line:51,column:13}},loc:{start:{line:51,column:26},end:{line:53,column:7}},line:51},3:{name:"(anonymous_3)",decl:{start:{line:54,column:13},end:{line:54,column:14}},loc:{start:{line:54,column:24},end:{line:57,column:7}},line:54},4:{name:"(anonymous_4)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:76,column:18},end:{line:99,column:3}},line:76},5:{name:"(anonymous_5)",decl:{start:{line:92,column:12},end:{line:92,column:13}},loc:{start:{line:92,column:26},end:{line:94,column:7}},line:92},6:{name:"(anonymous_6)",decl:{start:{line:95,column:13},end:{line:95,column:14}},loc:{start:{line:95,column:24},end:{line:98,column:7}},line:95}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"eebf4236f14c456c2f973c6cc3b083dfaead743b"});var o=l[e];return(// @ts-ignore
K=function(){return o},o)}K();class G{postChatPath;/**
   * Initializes the CreateChannelModel with the API endpoint.
   * @param postChatPath - The API endpoint for creating a channel.
   */constructor(e){K().f[0]++,K().s[0]++,this.postChatPath=e}/**
   * Posts a new message to a specified channel within a workspace.
   * @param authToken - The authorization token required for authenticating the request.
   * @param workspaceName - The name of the workspace where the channel exists.
   * @param channelName - The name of the channel to which the message will be posted.
   * @param chatInput - The content of the message to be posted.
   * @returns A promise that resolves to the URI of the created chat post.
   * @throws {Error} If the request fails or the post is unsuccessful.
   * */async postToChat(e,n,t,l){K().f[1]++;let o=(K().s[1]++,encodeURIComponent(n)),i=(K().s[2]++,encodeURIComponent(t)),s=(K().s[3]++,`${this.postChatPath}${o}/channels/${i}/posts/`);return K().s[4]++,a.info(`Posting to chat at URL: ${s}`),K().s[5]++,a.info("Request data",["chatInput",l]),K().s[6]++,k(s,x,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({msg:l})// TODO: what is this
}).then(e=>(K().f[2]++,K().s[7]++,e)).catch(e=>{throw K().f[3]++,K().s[8]++,a.error("Error:",e),K().s[9]++,Error("Failed to post to chat.");// Rethrow or handle gracefully
})}/**
   * Replies to an existing message in a channel, creating a threaded message.
   * @param authToken - The authorization token required for authenticating the request.
   * @param workspaceName - The name of the workspace where the channel exists.
   * @param channelName - The name of the channel to which the reply will be posted.
   * @param chatInput - The content of the reply message.
   * @param parent - The ID of the parent message being replied to.
   * @returns A promise that resolves to the URI of the reply post.
   * @throws {Error} If the request fails or the reply is unsuccessful.
   * */async replyToChat(e,n,t,l,o){K().f[4]++;let i=(K().s[10]++,encodeURIComponent(n)),s=(K().s[11]++,encodeURIComponent(t)),r=(K().s[12]++,`${this.postChatPath}${i}/channels/${s}/posts/`);return K().s[13]++,a.info(`Reply to chat at URL: ${r}`),K().s[14]++,a.info("Request data",["chatInput",l]),K().s[15]++,k(r,x,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({msg:l,parent:o})}).then(e=>(K().f[5]++,K().s[16]++,e)).catch(e=>{throw K().f[6]++,K().s[17]++,a.error("Error:",e),K().s[18]++,Error("Failed to post reply.")})}}function J(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/LoginComponents.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"205b5fc36e85243b346fb9aa07974bac3eda5ebe"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/LoginComponents.ts",statementMap:{0:{start:{line:4,column:25},end:{line:4,column:52}},1:{start:{line:13,column:19},end:{line:13,column:45}},2:{start:{line:14,column:2},end:{line:16,column:3}},3:{start:{line:15,column:4},end:{line:15,column:54}},4:{start:{line:17,column:2},end:{line:17,column:18}},5:{start:{line:25,column:36},end:{line:25,column:40}},6:{start:{line:28,column:4},end:{line:28,column:60}},7:{start:{line:34,column:4},end:{line:34,column:12}},8:{start:{line:35,column:4},end:{line:35,column:54}},9:{start:{line:38,column:4},end:{line:38,column:72}},10:{start:{line:41,column:18},end:{line:41,column:49}},11:{start:{line:42,column:4},end:{line:108,column:6}},12:{start:{line:109,column:4},end:{line:109,column:35}},13:{start:{line:119,column:18},end:{line:119,column:74}},14:{start:{line:120,column:4},end:{line:122,column:7}},15:{start:{line:121,column:6},end:{line:121,column:29}},16:{start:{line:126,column:22},end:{line:128,column:24}},17:{start:{line:129,column:25},end:{line:131,column:26}},18:{start:{line:132,column:4},end:{line:134,column:5}},19:{start:{line:133,column:6},end:{line:133,column:66}},20:{start:{line:133,column:51},end:{line:133,column:64}},21:{start:{line:137,column:4},end:{line:137,column:77}},22:{start:{line:137,column:52},end:{line:137,column:75}},23:{start:{line:144,column:18},end:{line:144,column:74}},24:{start:{line:146,column:4},end:{line:146,column:22}},25:{start:{line:148,column:21},end:{line:148,column:51}},26:{start:{line:150,column:4},end:{line:153,column:5}},27:{start:{line:151,column:6},end:{line:151,column:37}},28:{start:{line:152,column:6},end:{line:152,column:44}},29:{start:{line:160,column:18},end:{line:160,column:74}},30:{start:{line:161,column:4},end:{line:161,column:18}},31:{start:{line:163,column:21},end:{line:163,column:51}},32:{start:{line:164,column:4},end:{line:167,column:5}},33:{start:{line:165,column:6},end:{line:165,column:40}},34:{start:{line:166,column:6},end:{line:166,column:40}},35:{start:{line:175,column:4},end:{line:175,column:27}},36:{start:{line:176,column:26},end:{line:178,column:25}},37:{start:{line:179,column:4},end:{line:179,column:69}},38:{start:{line:180,column:4},end:{line:180,column:47}},39:{start:{line:181,column:4},end:{line:189,column:5}},40:{start:{line:182,column:6},end:{line:188,column:8}},41:{start:{line:191,column:4},end:{line:191,column:21}},42:{start:{line:192,column:4},end:{line:192,column:35}},43:{start:{line:200,column:4},end:{line:200,column:60}},44:{start:{line:202,column:26},end:{line:204,column:25}},45:{start:{line:205,column:4},end:{line:205,column:40}},46:{start:{line:206,column:4},end:{line:206,column:33}},47:{start:{line:213,column:28},end:{line:213,column:71}},48:{start:{line:214,column:25},end:{line:214,column:65}},49:{start:{line:216,column:4},end:{line:219,column:5}},50:{start:{line:217,column:6},end:{line:217,column:61}},51:{start:{line:218,column:6},end:{line:218,column:44}},52:{start:{line:226,column:4},end:{line:226,column:25}},53:{start:{line:229,column:28},end:{line:229,column:71}},54:{start:{line:230,column:25},end:{line:230,column:65}},55:{start:{line:232,column:4},end:{line:234,column:5}},56:{start:{line:233,column:6},end:{line:233,column:39}},57:{start:{line:236,column:4},end:{line:238,column:5}},58:{start:{line:237,column:6},end:{line:237,column:42}},59:{start:{line:240,column:6},end:{line:240,column:62}},60:{start:{line:241,column:4},end:{line:245,column:5}},61:{start:{line:242,column:6},end:{line:242,column:31}},62:{start:{line:244,column:6},end:{line:244,column:52}},63:{start:{line:247,column:4},end:{line:252,column:6}},64:{start:{line:254,column:4},end:{line:254,column:21}},65:{start:{line:263,column:4},end:{line:263,column:73}},66:{start:{line:271,column:2},end:{line:271,column:30}},67:{start:{line:272,column:2},end:{line:272,column:59}}},fnMap:{0:{name:"getTemplate",decl:{start:{line:12,column:9},end:{line:12,column:20}},loc:{start:{line:12,column:54},end:{line:18,column:1}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:28},end:{line:29,column:3}},line:27},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:16},end:{line:110,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:118,column:2},end:{line:118,column:3}},loc:{start:{line:118,column:28},end:{line:138,column:3}},line:118},4:{name:"(anonymous_4)",decl:{start:{line:120,column:37},end:{line:120,column:38}},loc:{start:{line:120,column:48},end:{line:122,column:5}},line:120},5:{name:"(anonymous_5)",decl:{start:{line:133,column:45},end:{line:133,column:46}},loc:{start:{line:133,column:51},end:{line:133,column:64}},line:133},6:{name:"(anonymous_6)",decl:{start:{line:137,column:41},end:{line:137,column:42}},loc:{start:{line:137,column:52},end:{line:137,column:75}},line:137},7:{name:"(anonymous_7)",decl:{start:{line:143,column:2},end:{line:143,column:3}},loc:{start:{line:143,column:27},end:{line:154,column:3}},line:143},8:{name:"(anonymous_8)",decl:{start:{line:159,column:2},end:{line:159,column:3}},loc:{start:{line:159,column:28},end:{line:168,column:3}},line:159},9:{name:"(anonymous_9)",decl:{start:{line:174,column:2},end:{line:174,column:3}},loc:{start:{line:174,column:42},end:{line:193,column:3}},line:174},10:{name:"(anonymous_10)",decl:{start:{line:199,column:2},end:{line:199,column:3}},loc:{start:{line:199,column:45},end:{line:207,column:3}},line:199},11:{name:"(anonymous_11)",decl:{start:{line:212,column:2},end:{line:212,column:3}},loc:{start:{line:212,column:40},end:{line:220,column:3}},line:212},12:{name:"(anonymous_12)",decl:{start:{line:225,column:2},end:{line:225,column:3}},loc:{start:{line:225,column:25},end:{line:255,column:3}},line:225},13:{name:"(anonymous_13)",decl:{start:{line:261,column:2},end:{line:261,column:3}},loc:{start:{line:261,column:49},end:{line:264,column:3}},line:261},14:{name:"initComponents",decl:{start:{line:270,column:16},end:{line:270,column:30}},loc:{start:{line:270,column:39},end:{line:273,column:1}},line:270}},branchMap:{0:{loc:{start:{line:14,column:2},end:{line:16,column:3}},type:"if",locations:[{start:{line:14,column:2},end:{line:16,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:14},1:{loc:{start:{line:132,column:4},end:{line:134,column:5}},type:"if",locations:[{start:{line:132,column:4},end:{line:134,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:132},2:{loc:{start:{line:150,column:4},end:{line:153,column:5}},type:"if",locations:[{start:{line:150,column:4},end:{line:153,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:150},3:{loc:{start:{line:164,column:4},end:{line:167,column:5}},type:"if",locations:[{start:{line:164,column:4},end:{line:167,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:164},4:{loc:{start:{line:181,column:4},end:{line:189,column:5}},type:"if",locations:[{start:{line:181,column:4},end:{line:189,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:181},5:{loc:{start:{line:216,column:4},end:{line:219,column:5}},type:"if",locations:[{start:{line:216,column:4},end:{line:219,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:216},6:{loc:{start:{line:216,column:8},end:{line:216,column:56}},type:"binary-expr",locations:[{start:{line:216,column:8},end:{line:216,column:23}},{start:{line:216,column:27},end:{line:216,column:39}},{start:{line:216,column:43},end:{line:216,column:56}}],line:216},7:{loc:{start:{line:232,column:4},end:{line:234,column:5}},type:"if",locations:[{start:{line:232,column:4},end:{line:234,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:232},8:{loc:{start:{line:236,column:4},end:{line:238,column:5}},type:"if",locations:[{start:{line:236,column:4},end:{line:238,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:236},9:{loc:{start:{line:241,column:4},end:{line:245,column:5}},type:"if",locations:[{start:{line:241,column:4},end:{line:245,column:5}},{start:{line:243,column:11},end:{line:245,column:5}}],line:241}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"205b5fc36e85243b346fb9aa07974bac3eda5ebe"});var o=l[e];return(// @ts-ignore
J=function(){return o},o)}J();//declare const process: { env: { DATABASE_HOST: string; AUTH_PATH: string } };
const Q=(J().s[0]++,"#login-component-template");class Y extends HTMLElement{static template;shadow;username=(J().s[5]++,null);static initialize(){J().f[1]++,J().s[6]++,Y.template=/**
 * Get the template from the DOM
 * @param id - The CSS selector for the template element.
 * @returns the template element from the DOM.
 * @throws an error if the specified ID does not correspond to a template element.
 */function(e){J().f[0]++;let n=(J().s[1]++,document.querySelector(e));if(J().s[2]++,n instanceof HTMLTemplateElement)J().b[0][1]++;else throw J().b[0][0]++,J().s[3]++,Error(`Error: ${e} is not a template`);return J().s[4]++,n}(Q)}/**
   * Constructor defines the shadow root and appends the template content to the shadow root.
   */constructor(){J().f[2]++,J().s[7]++,super(),J().s[8]++,this.shadow=this.attachShadow({mode:"open"}),// Append the template content to the shadow root
J().s[9]++,this.shadow.append(Y.template.content.cloneNode(!0));// Inject styles specific to the component
let e=(J().s[10]++,document.createElement("style"));J().s[11]++,e.textContent=`
      #popup-overlay {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 10;
      }

      #popup {
        font-family: "RubikBurned", sans-serif;
        font-size: 13pt;
        position: fixed;
        justify-content: center;
        align-items: center;
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 1000;
      }
      
      #close-popup {
        background: #bbaab8;
        color: white;
        border: none;
        padding: 5px;
        cursor: pointer;
        border-radius: 4px;
      }

      #login-form {
        font-family: "Jersey20", sans-serif;
        display: flex;
        flex-direction: column;
      }

      #login-form input {
        font-family: "Jersey20", sans-serif;
        font-size: 11.5pt;
        margin: 5px 0;
        padding: 8px;
        border-radius: 4px;
        border: 1px solid #44426e;
      }

      #login-form input:focus {
        outline: none;
        border-color: #44426e;
        box-shadow: 0 0 5px rgba(187, 170, 184, 0.5);
      }

      #login-form button {
        font-family: "Jersey20", sans-serif;
        padding: 10px;
        background: #3c1634;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }

      .blur {
        filter: blur(8px);
        -webkit-filter: blur(8px);}
      }
    `,J().s[12]++,this.shadow.appendChild(e)}/**
   * Lifecycle method called when the component is connected to the DOM.
   * It sets up event listeners for handling popup cancellation, login form submission,
   * and logout button click. Additionally, it manages the behavior of the login dialog
   * and its associated components.
   */connectedCallback(){J().f[3]++;let e=(J().s[13]++,this.shadow.querySelector("#popup"));J().s[14]++,e.addEventListener("cancel",e=>{J().f[4]++,J().s[15]++,e.preventDefault()});// const closeButton = this.shadow.querySelector(
//   "#close-popup",
// ) as HTMLButtonElement;
let n=(J().s[16]++,this.shadow.querySelector("#login-form")),t=(J().s[17]++,document.getElementById("logout-button"));J().s[18]++,t?(J().b[1][0]++,J().s[19]++,t.addEventListener("click",()=>(J().f[5]++,J().s[20]++,this.logout()))):J().b[1][1]++,// Event listeners for closing and submitting
// closeButton.addEventListener("click", () => this.hidePopup());
J().s[21]++,n.addEventListener("submit",e=>(J().f[6]++,J().s[22]++,this.submitLogin(e)))}/**
   * Displays the popup dialog and adds a blur effect to the main content.
   */showPopup(){J().f[7]++;let e=(J().s[23]++,this.shadow.querySelector("#popup"));J().s[24]++,e.showModal();// Add blur effect to the main content
let n=(J().s[25]++,document.getElementById("app"));J().s[26]++,n?(J().b[2][0]++,J().s[27]++,n.classList.add("blur"),J().s[28]++,n.style.pointerEvents="none"):J().b[2][1]++}/**
   * Closes the popup dialog and removes the blur effect from the main content.
   */hidePopup(){J().f[8]++;let e=(J().s[29]++,this.shadow.querySelector("#popup"));J().s[30]++,e.close();// Remove blur effect from the main content
let n=(J().s[31]++,document.getElementById("app"));J().s[32]++,n?(J().b[3][0]++,J().s[33]++,n.classList.remove("blur"),J().s[34]++,n.style.pointerEvents=""):J().b[3][1]++}/**
   * Connect to backend and handle the login submission.
   * @param event - The event triggered by the login form submission.
   */submitLogin(e){J().f[9]++,J().s[35]++,e.preventDefault();let n=(J().s[36]++,this.shadow.querySelector("#username"));J().s[37]++,a.info("Submitting login",["username",n.value]),J().s[38]++,this.username=n.value.trim(),J().s[39]++,this.username?(J().b[4][0]++,J().s[40]++,this.dispatchEvent(new CustomEvent("login-attempt",{detail:{username:this.username},bubbles:!0,composed:!0}))):J().b[4][1]++,J().s[41]++,this.hidePopup(),J().s[42]++,console.log("Login submitted")}/**
   * Updates the view with showing login.
   * @param token - The token received from the backend.
   */displaySuccess(e){J().f[10]++,J().s[43]++,a.info("Displaying success in UI",["token",e]);// Get the username property from input
let n=(J().s[44]++,this.shadow.querySelector("#username"));J().s[45]++,this.username=n.value,J().s[46]++,this.updateUsernameDisplay()}/**
   * Updates the username display next to the login button.
   */updateUsernameDisplay(){J().f[11]++;let e=(J().s[47]++,document.getElementById("username-display")),n=(J().s[48]++,document.getElementById("logout-button"));J().s[49]++,(J().b[6][0]++,e&&(J().b[6][1]++,n)&&(J().b[6][2]++,this.username))?(J().b[5][0]++,J().s[50]++,e.textContent=`User: ${this.username}`,J().s[51]++,n.style.display="inline"):J().b[5][1]++}/**
   * Logs the user out by clearing the username and updating the UI.
   */logout(){J().f[12]++,J().s[52]++,this.username=null;// Clear the username display and hide logout button
let e=(J().s[53]++,document.getElementById("username-display")),n=(J().s[54]++,document.getElementById("logout-button"));J().s[55]++,e?(J().b[7][0]++,J().s[56]++,e.textContent=""):J().b[7][1]++,J().s[57]++,n?(J().b[8][0]++,J().s[58]++,n.style.display="none"):J().b[8][1]++;let t=(J().s[59]++,this.shadow.querySelector("#username"));J().s[60]++,t?(J().b[9][0]++,J().s[61]++,t.value=""):(J().b[9][1]++,J().s[62]++,a.warn("Username input field not cleared")),// Dispatch a "logout" event
J().s[63]++,this.dispatchEvent(new CustomEvent("logout",{bubbles:!0,composed:!0})),// Show login modal again
J().s[64]++,this.showPopup()}/**
   * Updates the view with an error message.
   * @param errorMessage - The error message to display.
   */displayError(e){J().f[13]++,J().s[65]++,a.warn("Displaying error in UI",["error",e.message])}}function X(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/WorkspaceComponents.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"db76d546dd6440e473ccfe7da305b15fc00a12c3"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/WorkspaceComponents.ts",statementMap:{0:{start:{line:22,column:4},end:{line:22,column:12}},1:{start:{line:23,column:4},end:{line:23,column:54}},2:{start:{line:26,column:19},end:{line:26,column:51}},3:{start:{line:27,column:4},end:{line:27,column:37}},4:{start:{line:28,column:4},end:{line:28,column:36}},5:{start:{line:29,column:4},end:{line:29,column:76}},6:{start:{line:29,column:43},end:{line:29,column:74}},7:{start:{line:32,column:4},end:{line:32,column:63}},8:{start:{line:33,column:4},end:{line:33,column:63}},9:{start:{line:36,column:4},end:{line:36,column:60}},10:{start:{line:37,column:4},end:{line:37,column:57}},11:{start:{line:38,column:4},end:{line:38,column:47}},12:{start:{line:41,column:4},end:{line:41,column:67}},13:{start:{line:42,column:4},end:{line:42,column:66}},14:{start:{line:43,column:4},end:{line:43,column:74}},15:{start:{line:44,column:4},end:{line:46,column:6}},16:{start:{line:45,column:6},end:{line:45,column:33}},17:{start:{line:48,column:4},end:{line:48,column:52}},18:{start:{line:50,column:4},end:{line:50,column:76}},19:{start:{line:53,column:18},end:{line:53,column:49}},20:{start:{line:54,column:4},end:{line:139,column:6}},21:{start:{line:140,column:4},end:{line:140,column:35}},22:{start:{line:147,column:4},end:{line:158,column:5}},23:{start:{line:148,column:6},end:{line:148,column:52}},24:{start:{line:151,column:6},end:{line:156,column:8}},25:{start:{line:157,column:6},end:{line:157,column:53}},26:{start:{line:166,column:4},end:{line:166,column:42}},27:{start:{line:168,column:4},end:{line:174,column:7}},28:{start:{line:169,column:19},end:{line:169,column:52}},29:{start:{line:170,column:6},end:{line:170,column:42}},30:{start:{line:171,column:6},end:{line:171,column:35}},31:{start:{line:172,column:6},end:{line:172,column:78}},32:{start:{line:172,column:43},end:{line:172,column:76}},33:{start:{line:173,column:6},end:{line:173,column:47}},34:{start:{line:176,column:4},end:{line:176,column:28}},35:{start:{line:183,column:19},end:{line:183,column:77}},36:{start:{line:184,column:4},end:{line:188,column:5}},37:{start:{line:185,column:19},end:{line:185,column:49}},38:{start:{line:186,column:6},end:{line:186,column:81}},39:{start:{line:187,column:6},end:{line:187,column:76}},40:{start:{line:196,column:4},end:{line:196,column:62}},41:{start:{line:197,column:4},end:{line:197,column:50}},42:{start:{line:200,column:25},end:{line:202,column:27}},43:{start:{line:203,column:4},end:{line:205,column:5}},44:{start:{line:204,column:6},end:{line:204,column:43}},45:{start:{line:208,column:4},end:{line:214,column:6}},46:{start:{line:223,column:4},end:{line:223,column:39}},47:{start:{line:226,column:24},end:{line:226,column:56}},48:{start:{line:227,column:4},end:{line:227,column:56}},49:{start:{line:228,column:4},end:{line:228,column:38}},50:{start:{line:231,column:22},end:{line:231,column:52}},51:{start:{line:232,column:4},end:{line:232,column:42}},52:{start:{line:233,column:4},end:{line:233,column:32}},53:{start:{line:236,column:4},end:{line:236,column:39}},54:{start:{line:239,column:4},end:{line:239,column:64}},55:{start:{line:239,column:46},end:{line:239,column:62}},56:{start:{line:242,column:4},end:{line:242,column:49}},57:{start:{line:245,column:4},end:{line:245,column:48}},58:{start:{line:252,column:4},end:{line:252,column:47}},59:{start:{line:253,column:4},end:{line:253,column:39}},60:{start:{line:260,column:4},end:{line:265,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:16},end:{line:141,column:3}},line:21},1:{name:"(anonymous_1)",decl:{start:{line:29,column:37},end:{line:29,column:38}},loc:{start:{line:29,column:43},end:{line:29,column:74}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:44,column:58},end:{line:44,column:59}},loc:{start:{line:45,column:6},end:{line:45,column:33}},line:45},3:{name:"(anonymous_3)",decl:{start:{line:146,column:2},end:{line:146,column:3}},loc:{start:{line:146,column:43},end:{line:159,column:3}},line:146},4:{name:"(anonymous_4)",decl:{start:{line:165,column:2},end:{line:165,column:3}},loc:{start:{line:165,column:52},end:{line:177,column:3}},line:165},5:{name:"(anonymous_5)",decl:{start:{line:168,column:23},end:{line:168,column:24}},loc:{start:{line:168,column:38},end:{line:174,column:5}},line:168},6:{name:"(anonymous_6)",decl:{start:{line:172,column:37},end:{line:172,column:38}},loc:{start:{line:172,column:43},end:{line:172,column:76}},line:172},7:{name:"(anonymous_7)",decl:{start:{line:182,column:2},end:{line:182,column:3}},loc:{start:{line:182,column:35},end:{line:189,column:3}},line:182},8:{name:"(anonymous_8)",decl:{start:{line:195,column:2},end:{line:195,column:3}},loc:{start:{line:195,column:53},end:{line:215,column:3}},line:195},9:{name:"(anonymous_9)",decl:{start:{line:221,column:2},end:{line:221,column:3}},loc:{start:{line:221,column:42},end:{line:246,column:3}},line:221},10:{name:"(anonymous_10)",decl:{start:{line:239,column:40},end:{line:239,column:41}},loc:{start:{line:239,column:46},end:{line:239,column:62}},line:239},11:{name:"(anonymous_11)",decl:{start:{line:251,column:2},end:{line:251,column:3}},loc:{start:{line:251,column:27},end:{line:254,column:3}},line:251},12:{name:"(anonymous_12)",decl:{start:{line:259,column:2},end:{line:259,column:3}},loc:{start:{line:259,column:39},end:{line:266,column:3}},line:259}},branchMap:{0:{loc:{start:{line:147,column:4},end:{line:158,column:5}},type:"if",locations:[{start:{line:147,column:4},end:{line:158,column:5}},{start:{line:149,column:11},end:{line:158,column:5}}],line:147},1:{loc:{start:{line:184,column:4},end:{line:188,column:5}},type:"if",locations:[{start:{line:184,column:4},end:{line:188,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:184},2:{loc:{start:{line:203,column:4},end:{line:205,column:5}},type:"if",locations:[{start:{line:203,column:4},end:{line:205,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:203}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"db76d546dd6440e473ccfe7da305b15fc00a12c3"});var o=l[e];return(// @ts-ignore
X=function(){return o},o)}X();class Z extends HTMLElement{shadow;dropdownContainer;refreshButtonworkspace;errorContainer;/**
   * Creates and initializes the `WorkspaceComponent`.
   * This constructor sets up the shadow DOM and creates essential elements
   * such as a dropdown button and its event listeners.
   */constructor(){X().f[0]++,X().s[0]++,super(),X().s[1]++,this.shadow=this.attachShadow({mode:"open"});// Create the dropdown button within the shadow DOM
let e=(X().s[2]++,document.createElement("button"));X().s[3]++,e.textContent="Workspace",X().s[4]++,e.classList.add("dropbtn"),X().s[5]++,e.addEventListener("click",()=>(X().f[1]++,X().s[6]++,this.toggleDropdownVisibility())),// Create the dropdown container as a section within the shadow DOM
X().s[7]++,this.dropdownContainer=document.createElement("section"),X().s[8]++,this.dropdownContainer.classList.add("dropdown-container"),// Create the error container
X().s[9]++,this.errorContainer=document.createElement("section"),X().s[10]++,this.errorContainer.classList.add("error-container"),X().s[11]++,this.errorContainer.style.display="none",// Create the refresh button
X().s[12]++,this.refreshButtonworkspace=document.createElement("button"),X().s[13]++,this.refreshButtonworkspace.textContent="Refresh workspace",X().s[14]++,this.refreshButtonworkspace.classList.add("refresh-button-workspace"),X().s[15]++,this.refreshButtonworkspace.addEventListener("click",()=>(X().f[2]++,X().s[16]++,this.onRefreshButtonClick())),X().s[17]++,this.shadow.append(this.refreshButtonworkspace),X().s[18]++,this.shadow.append(e,this.dropdownContainer,this.errorContainer);// Add styles
let n=(X().s[19]++,document.createElement("style"));X().s[20]++,n.textContent=`
      .dropbtn {
        font-family: "Jersey20", sans-serif;
        font-size: 12pt;
        background-color: #420e39;
        color: white;
        border: none;
        padding: 10px;
        border-radius: 5px;
        cursor: pointer;
        position: fixed;
        top: 10px;
        right: 100px;
      }
      
      .dropdown-container {
        display: none;
        position: fixed;
        background-color: white;
        border: 3px solid #ccc;
        border-radius: 3px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        width: 80px;
      }
    
      .dropdown-item {
        font-family: "Jersey20", sans-serif;
        padding: 10px;
        cursor: pointer;
        font-size: 15px;
      }
    
      .dropdown-item:hover {
        background-color: #f0f0f0;
      }
      /* Styles for the error container */
      .error-container {
        position: fixed;
        top: 60px; /* Adjust as needed */
        right: 100px; /* Align with the dropbtn */
        z-index: 1001; /* Above the dropdown */
      }

      .error-button-workspace {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
        border-radius: 5px;
        padding: 10px 15px;
        font-size: 14px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: space-between;
        min-width: 200px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .error-button-workspace .close-icon {
        margin-left: 10px;
        font-weight: bold;
        cursor: pointer;
      }

      .error-button-workspace:hover {
        background-color: #f5c6cb;
      }
      .refresh-button-workspace {
        font-family: "Jersey20", sans-serif;
        font-size: 12pt;
        background-color: #420e39;
        color: white;
        border: none;
        padding: 10px;
        border-radius: 5px;
        cursor: pointer;
        position: fixed;
        top: 10px;
        right: 450px; 
        margin-right: 5px;
      }
      .refresh-button-workspace:hover {
        background-color: #4a6bb5;
      }
    `,X().s[21]++,this.shadow.appendChild(n)}/**
   * Toggles the dropdown visibility by dispatching a "get-workspaces" event.
   */toggleDropdownVisibility(){X().f[3]++,X().s[22]++,"block"===this.dropdownContainer.style.display?(X().b[0][0]++,X().s[23]++,this.dropdownContainer.style.display="none"):(X().b[0][1]++,X().s[24]++,// Dispatch a "get-workspaces" event
this.dispatchEvent(new CustomEvent("get-workspaces",{bubbles:!0,composed:!0})),X().s[25]++,this.dropdownContainer.style.display="block")}/**
   * Populates the dropdown with workspace names.
   * @param workspaces Array of workspace names.
   */updateDropdown(e){X().f[4]++,X().s[26]++,this.dropdownContainer.innerHTML="",X().s[27]++,e.forEach(e=>{X().f[5]++;let n=(X().s[28]++,document.createElement("section"));X().s[29]++,n.classList.add("dropdown-item"),X().s[30]++,n.textContent=e,X().s[31]++,n.addEventListener("click",()=>(X().f[6]++,X().s[32]++,this.onWorkspaceSelect(e))),X().s[33]++,this.dropdownContainer.appendChild(n)}),X().s[34]++,this.positionDropdown()}/**
   * Positions the dropdown under the "Workspace" button.
   */positionDropdown(){X().f[7]++;let e=(X().s[35]++,this.shadow.querySelector(".dropbtn"));if(X().s[36]++,e){X().b[1][0]++;let n=(X().s[37]++,e.getBoundingClientRect());X().s[38]++,this.dropdownContainer.style.top=`${n.bottom+window.scrollY+8}px`,X().s[39]++,this.dropdownContainer.style.left=`${n.left+window.scrollX}px`}else X().b[1][1]++}/**
   * Handles workspace selection by dispatching a "workspace-select" event.
   * @param workspace Selected workspace name.
   */onWorkspaceSelect(e){X().f[8]++,X().s[40]++,a.info("Selected workspace",["workspace",e]),X().s[41]++,this.dropdownContainer.style.display="none";// Update the sidebar's h2 with the selected workspace name
let n=(X().s[42]++,document.querySelector("#sidebar h2"));X().s[43]++,n?(X().b[2][0]++,X().s[44]++,n.textContent=e):X().b[2][1]++,// Dispatch a "workspace-select" event
X().s[45]++,this.dispatchEvent(new CustomEvent("get-collections",{detail:{workspace:e},bubbles:!0,composed:!0}))}/**
   * Displays an error message.
   * @param message - The error message to display.
   */showError(e){X().f[9]++,X().s[46]++,// Clear any existing error messages
this.errorContainer.innerHTML="";// Create the error button
let n=(X().s[47]++,document.createElement("button"));X().s[48]++,n.classList.add("error-button-workspace"),X().s[49]++,n.textContent=e;// Create the close icon
let t=(X().s[50]++,document.createElement("span"));X().s[51]++,t.classList.add("close-icon"),X().s[52]++,t.textContent="",// Append the close icon to the error button
X().s[53]++,n.appendChild(t),// Add event listener to hide the error message when "x" is clicked
X().s[54]++,t.addEventListener("click",()=>(X().f[10]++,X().s[55]++,this.hideError())),// Append the error button to the error container
X().s[56]++,this.errorContainer.appendChild(n),// Make the error container visible
X().s[57]++,this.errorContainer.style.display="block"}/**
   * Hides the error message.
   */hideError(){X().f[11]++,X().s[58]++,this.errorContainer.style.display="none",X().s[59]++,this.errorContainer.innerHTML=""}/**
   * Handles the click event for the refresh button.
   */onRefreshButtonClick(){X().f[12]++,X().s[60]++,document.dispatchEvent(new CustomEvent("get-workspaces",{bubbles:!0,composed:!0}))}}function ee(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/SidebarComponents.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"0a56ea25c332c8b11d109be9f8e6a9b0b1b552f4"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/SidebarComponents.ts",statementMap:{0:{start:{line:16,column:4},end:{line:16,column:12}},1:{start:{line:17,column:4},end:{line:17,column:54}},2:{start:{line:20,column:4},end:{line:20,column:62}},3:{start:{line:21,column:4},end:{line:21,column:61}},4:{start:{line:23,column:4},end:{line:23,column:46}},5:{start:{line:26,column:4},end:{line:26,column:58}},6:{start:{line:27,column:4},end:{line:27,column:56}},7:{start:{line:28,column:4},end:{line:28,column:63}},8:{start:{line:29,column:4},end:{line:31,column:6}},9:{start:{line:30,column:6},end:{line:30,column:33}},10:{start:{line:33,column:4},end:{line:33,column:43}},11:{start:{line:35,column:4},end:{line:35,column:67}},12:{start:{line:36,column:4},end:{line:36,column:64}},13:{start:{line:37,column:4},end:{line:37,column:54}},14:{start:{line:39,column:4},end:{line:39,column:51}},15:{start:{line:42,column:18},end:{line:42,column:49}},16:{start:{line:43,column:4},end:{line:110,column:8}},17:{start:{line:111,column:4},end:{line:111,column:35}},18:{start:{line:120,column:4},end:{line:123,column:6}},19:{start:{line:132,column:4},end:{line:135,column:6}},20:{start:{line:143,column:34},end:{line:153,column:3}},21:{start:{line:144,column:24},end:{line:144,column:44}},22:{start:{line:145,column:22},end:{line:145,column:50}},23:{start:{line:146,column:4},end:{line:152,column:6}},24:{start:{line:164,column:4},end:{line:164,column:41}},25:{start:{line:167,column:18},end:{line:167,column:55}},26:{start:{line:168,column:4},end:{line:177,column:5}},27:{start:{line:169,column:6},end:{line:169,column:63}},28:{start:{line:171,column:23},end:{line:171,column:51}},29:{start:{line:172,column:6},end:{line:172,column:66}},30:{start:{line:173,column:6},end:{line:176,column:8}},31:{start:{line:180,column:4},end:{line:186,column:7}},32:{start:{line:181,column:19},end:{line:181,column:52}},33:{start:{line:182,column:6},end:{line:182,column:41}},34:{start:{line:183,column:6},end:{line:183,column:36}},35:{start:{line:184,column:6},end:{line:184,column:77}},36:{start:{line:184,column:43},end:{line:184,column:75}},37:{start:{line:185,column:6},end:{line:185,column:46}},38:{start:{line:194,column:4},end:{line:197,column:7}},39:{start:{line:198,column:33},end:{line:198,column:70}},40:{start:{line:199,column:26},end:{line:201,column:27}},41:{start:{line:202,column:4},end:{line:202,column:77}},42:{start:{line:203,column:4},end:{line:209,column:6}},43:{start:{line:217,column:33},end:{line:217,column:70}},44:{start:{line:218,column:22},end:{line:220,column:27}},45:{start:{line:222,column:4},end:{line:222,column:40}},46:{start:{line:223,column:4},end:{line:226,column:7}},47:{start:{line:227,column:4},end:{line:233,column:6}},48:{start:{line:242,column:4},end:{line:242,column:46}},49:{start:{line:245,column:24},end:{line:245,column:56}},50:{start:{line:246,column:4},end:{line:246,column:54}},51:{start:{line:247,column:4},end:{line:247,column:38}},52:{start:{line:250,column:22},end:{line:250,column:52}},53:{start:{line:251,column:4},end:{line:251,column:42}},54:{start:{line:252,column:4},end:{line:252,column:32}},55:{start:{line:255,column:4},end:{line:255,column:39}},56:{start:{line:258,column:4},end:{line:258,column:64}},57:{start:{line:258,column:46},end:{line:258,column:62}},58:{start:{line:261,column:4},end:{line:261,column:56}},59:{start:{line:264,column:4},end:{line:264,column:55}},60:{start:{line:271,column:4},end:{line:271,column:54}},61:{start:{line:272,column:4},end:{line:272,column:46}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:16},end:{line:112,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:29,column:49},end:{line:29,column:50}},loc:{start:{line:30,column:6},end:{line:30,column:33}},line:30},2:{name:"(anonymous_2)",decl:{start:{line:118,column:2},end:{line:118,column:3}},loc:{start:{line:118,column:22},end:{line:124,column:3}},line:118},3:{name:"(anonymous_3)",decl:{start:{line:130,column:2},end:{line:130,column:3}},loc:{start:{line:130,column:25},end:{line:136,column:3}},line:130},4:{name:"(anonymous_4)",decl:{start:{line:143,column:34},end:{line:143,column:35}},loc:{start:{line:143,column:52},end:{line:153,column:3}},line:143},5:{name:"(anonymous_5)",decl:{start:{line:160,column:2},end:{line:160,column:3}},loc:{start:{line:163,column:10},end:{line:187,column:3}},line:163},6:{name:"(anonymous_6)",decl:{start:{line:180,column:24},end:{line:180,column:25}},loc:{start:{line:180,column:40},end:{line:186,column:5}},line:180},7:{name:"(anonymous_7)",decl:{start:{line:184,column:37},end:{line:184,column:38}},loc:{start:{line:184,column:43},end:{line:184,column:75}},line:184},8:{name:"(anonymous_8)",decl:{start:{line:193,column:2},end:{line:193,column:3}},loc:{start:{line:193,column:48},end:{line:210,column:3}},line:193},9:{name:"(anonymous_9)",decl:{start:{line:216,column:2},end:{line:216,column:3}},loc:{start:{line:216,column:39},end:{line:234,column:3}},line:216},10:{name:"(anonymous_10)",decl:{start:{line:240,column:2},end:{line:240,column:3}},loc:{start:{line:240,column:42},end:{line:265,column:3}},line:240},11:{name:"(anonymous_11)",decl:{start:{line:258,column:40},end:{line:258,column:41}},loc:{start:{line:258,column:46},end:{line:258,column:62}},line:258},12:{name:"(anonymous_12)",decl:{start:{line:270,column:2},end:{line:270,column:3}},loc:{start:{line:270,column:27},end:{line:273,column:3}},line:270}},branchMap:{0:{loc:{start:{line:168,column:4},end:{line:177,column:5}},type:"if",locations:[{start:{line:168,column:4},end:{line:177,column:5}},{start:{line:170,column:11},end:{line:177,column:5}}],line:168},1:{loc:{start:{line:169,column:26},end:{line:169,column:62}},type:"binary-expr",locations:[{start:{line:169,column:26},end:{line:169,column:39}},{start:{line:169,column:43},end:{line:169,column:62}}],line:169},2:{loc:{start:{line:172,column:29},end:{line:172,column:65}},type:"binary-expr",locations:[{start:{line:172,column:29},end:{line:172,column:42}},{start:{line:172,column:46},end:{line:172,column:65}}],line:172},3:{loc:{start:{line:199,column:26},end:{line:201,column:27}},type:"cond-expr",locations:[{start:{line:200,column:8},end:{line:200,column:48}},{start:{line:201,column:8},end:{line:201,column:27}}],line:199},4:{loc:{start:{line:218,column:22},end:{line:220,column:27}},type:"cond-expr",locations:[{start:{line:219,column:8},end:{line:219,column:48}},{start:{line:220,column:8},end:{line:220,column:27}}],line:218}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0a56ea25c332c8b11d109be9f8e6a9b0b1b552f4"});var o=l[e];return(// @ts-ignore
ee=function(){return o},o)}ee();class en extends HTMLElement{shadow;sidebarContainer;refreshButton;errorContainersidebar;/**
   * Constructor defines the shadow root and appends the sidebar container to the shadow root.
   */constructor(){ee().f[0]++,ee().s[0]++,super(),ee().s[1]++,this.shadow=this.attachShadow({mode:"open"}),// Create the sidebar container within the shadow DOM
ee().s[2]++,this.sidebarContainer=document.createElement("section"),ee().s[3]++,this.sidebarContainer.classList.add("sidebar-container"),ee().s[4]++,this.shadow.append(this.sidebarContainer),// Create the refresh button
ee().s[5]++,this.refreshButton=document.createElement("button"),ee().s[6]++,this.refreshButton.textContent="Refresh channels",ee().s[7]++,this.refreshButton.classList.add("refresh-button-sidebar"),ee().s[8]++,this.refreshButton.addEventListener("click",()=>(ee().f[1]++,ee().s[9]++,this.onRefreshButtonClick())),ee().s[10]++,this.shadow.append(this.refreshButton),// Create the error container
ee().s[11]++,this.errorContainersidebar=document.createElement("section"),ee().s[12]++,this.errorContainersidebar.classList.add("error-container"),ee().s[13]++,this.errorContainersidebar.style.display="none",ee().s[14]++,this.shadow.append(this.errorContainersidebar);// Add styles
let e=(ee().s[15]++,document.createElement("style"));ee().s[16]++,e.textContent=`
        .sidebar-container {
          background-color: #E99E75;
          color: black;
          padding: 10px;
          width: 200px;
          position: fixed;
          overflow-y: auto;
          left: 0; 
        }
        .sidebar-item {
          font-family: "Jersey20", sans-serif;
          font-size: 1.55em;
          margin-bottom: 15px;
          padding: 10px;
          cursor: pointer;
          color: white;
          font-weight: bold;
        }
        .sidebar-item:hover {
          background-color: #f0f0f0;
        }
        .refresh-button-sidebar {
          font-family: "Jersey20", sans-serif;
          font-size: 12pt;
          margin-top: 410px;
          padding: 8px 10px;
          cursor: pointer;
          background-color: #420e39;
          color: white;
          border: none;
          border-radius: 10px;
        }
        .refresh-button-sidebar:hover {
          background-color: #4a6bb5;
        }
        /* Styles for the error container */
      .error-container {
        position: fixed;
        top: 500px; /* Adjust as needed */
        left: 0; /* Align with the sidebar */
        z-index: 1001; /* Above the dropdown */
      }

      .error-button-channel {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
        border-radius: 5px;
        padding: 10px 15px;
        font-size: 12px;
        cursor: pointer;
        display: flex;
        align-items: left;
        justify-content: space-between;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .error-button-channel.close-icon {
        margin-left: 10px;
        font-weight: bold;
        cursor: pointer;
      }

      .error-button-channe :hover {
        background-color: #f5c6cb;
      }
      `,ee().s[17]++,this.shadow.appendChild(e)}/**
   * Lifecycle method called when the element is connected to the DOM.
   * Listens for the "workspace-select" event and attaches the event listener for handling workspace selection.
   */connectedCallback(){ee().f[2]++,ee().s[18]++,// Listen for the workspace-select event when the element is connected to the DOM
document.addEventListener("workspace-select",this.handleWorkspaceSelect)}/**
   * Lifecycle method called when the element is disconnected from the DOM.
   * Removes the event listener for the "workspace-select" event to clean up resources.
   */disconnectedCallback(){ee().f[3]++,ee().s[19]++,// Clean up the event listener when the element is removed from the DOM
document.removeEventListener("workspace-select",this.handleWorkspaceSelect)}/**
   * Handles the "workspace-select" event, retrieves the collections for the selected workspace,
   * and updates the component accordingly.
   * @param event - The event triggered when a workspace is selected.
   */handleWorkspaceSelect=(ee().s[20]++,e=>{ee().f[4]++;let n=(ee().s[21]++,e),t=(ee().s[22]++,n.detail.workspace);ee().s[23]++,document.dispatchEvent(new CustomEvent("get-collections",{detail:{workspace:t},bubbles:!0,composed:!0}))});/**
   * Populates the workspace with the collections retrieved for the selected workspace.
   * @param collections - An array of collection names to be displayed in the workspace.
   * @param workspaceName - The name of the workspace for which the collections are being populated.
   */populateCollections(e,n){ee().f[5]++,ee().s[24]++,this.sidebarContainer.innerHTML="";// Update the workspace title (h2)
let t=(ee().s[25]++,document.querySelector("#sidebar h2"));if(ee().s[26]++,t)ee().b[0][0]++,ee().s[27]++,t.textContent=(ee().b[1][0]++,n||(ee().b[1][1]++,"Unknown Workspace"));else{ee().b[0][1]++;let e=(ee().s[28]++,document.createElement("h2"));ee().s[29]++,e.textContent=(ee().b[2][0]++,n||(ee().b[2][1]++,"Unknown Workspace")),ee().s[30]++,this.sidebarContainer.insertBefore(e,this.sidebarContainer.firstChild)}// Add each collection (channel) as a clickable item
ee().s[31]++,e.forEach(e=>{ee().f[6]++;let n=(ee().s[32]++,document.createElement("section"));ee().s[33]++,n.classList.add("sidebar-item"),ee().s[34]++,n.textContent=e,ee().s[35]++,n.addEventListener("click",()=>(ee().f[7]++,ee().s[36]++,this.onChannelSelect(e))),ee().s[37]++,this.sidebarContainer.appendChild(n)})}/**
   * onChannelSelect function to select the channel
   * @param channel - The name of the channel to be selected.
   */onChannelSelect(e){ee().f[8]++,ee().s[38]++,a.info("Selected channel in sidebar (sidebar onChannelSelect)",["channel",e]);let n=(ee().s[39]++,document.querySelector("#sidebar h2")),t=(ee().s[40]++,n?(ee().b[3][0]++,n.textContent?.trim()):(ee().b[3][1]++,"Unknown Workspace"));ee().s[41]++,a.info("workspacename to be passed into event",["channel",e]),ee().s[42]++,document.dispatchEvent(new CustomEvent("channel-select",{detail:{workspaceName:t,channel:e},bubbles:!0,composed:!0}))}/**
   * Handles the click event for the refresh button.
   * Triggers the refresh logic for the workspace component.
   */onRefreshButtonClick(){ee().f[9]++;let e=(ee().s[43]++,document.querySelector("#sidebar h2")),n=(ee().s[44]++,e?(ee().b[4][0]++,e.textContent?.trim()):(ee().b[4][1]++,"Unknown Workspace"));ee().s[45]++,a.info("Refresh button clicked"),ee().s[46]++,a.info("workspaceName to be passed into event",["workspaceName",n]),ee().s[47]++,document.dispatchEvent(new CustomEvent("get-collections",{detail:{workspace:n},bubbles:!0,composed:!0}))}/**
   * Displays an error message.
   * @param message - The error message to display.
   */showError(e){ee().f[10]++,ee().s[48]++,// Clear any existing error messages
this.errorContainersidebar.innerHTML="";// Create the error button
let n=(ee().s[49]++,document.createElement("button"));ee().s[50]++,n.classList.add("error-button-channel"),ee().s[51]++,n.textContent=e;// Create the close icon
let t=(ee().s[52]++,document.createElement("span"));ee().s[53]++,t.classList.add("close-icon"),ee().s[54]++,t.textContent="",// Append the close icon to the error button
ee().s[55]++,n.appendChild(t),// Add event listener to hide the error message when "x" is clicked
ee().s[56]++,t.addEventListener("click",()=>(ee().f[11]++,ee().s[57]++,this.hideError())),// Append the error button to the error container
ee().s[58]++,this.errorContainersidebar.appendChild(n),// Make the error container visible
ee().s[59]++,this.errorContainersidebar.style.display="block"}/**
   * Hides the error message.
   */hideError(){ee().f[12]++,ee().s[60]++,this.errorContainersidebar.style.display="none",ee().s[61]++,this.errorContainersidebar.innerHTML=""}}function et(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/MainContentComponents.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"95b2d6b374188d2d0880681b2f2ac2997ab9eb1f"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/MainContentComponents.ts",statementMap:{0:{start:{line:7,column:23},end:{line:18,column:31}},1:{start:{line:23,column:22},end:{line:42,column:31}},2:{start:{line:47,column:19},end:{line:59,column:31}},3:{start:{line:88,column:23},end:{line:88,column:56}},4:{start:{line:89,column:31},end:{line:89,column:33}},5:{start:{line:94,column:4},end:{line:94,column:12}},6:{start:{line:97,column:19},end:{line:97,column:54}},7:{start:{line:100,column:4},end:{line:102,column:28}},8:{start:{line:103,column:4},end:{line:105,column:21}},9:{start:{line:106,column:4},end:{line:106,column:38}},10:{start:{line:108,column:4},end:{line:108,column:36}},11:{start:{line:111,column:4},end:{line:111,column:64}},12:{start:{line:112,column:4},end:{line:112,column:61}},13:{start:{line:113,column:4},end:{line:113,column:51}},14:{start:{line:115,column:4},end:{line:115,column:43}},15:{start:{line:117,column:4},end:{line:117,column:47}},16:{start:{line:120,column:18},end:{line:120,column:49}},17:{start:{line:121,column:4},end:{line:206,column:6}},18:{start:{line:207,column:4},end:{line:207,column:30}},19:{start:{line:214,column:25},end:{line:222,column:3}},20:{start:{line:215,column:4},end:{line:215,column:52}},21:{start:{line:216,column:24},end:{line:216,column:44}},22:{start:{line:217,column:20},end:{line:217,column:46}},23:{start:{line:218,column:4},end:{line:218,column:74}},24:{start:{line:220,column:26},end:{line:220,column:47}},25:{start:{line:221,column:4},end:{line:221,column:49}},26:{start:{line:228,column:21},end:{line:232,column:3}},27:{start:{line:229,column:4},end:{line:229,column:49}},28:{start:{line:230,column:4},end:{line:230,column:38}},29:{start:{line:231,column:4},end:{line:231,column:60}},30:{start:{line:245,column:25},end:{line:245,column:58}},31:{start:{line:247,column:14},end:{line:247,column:15}},32:{start:{line:248,column:15},end:{line:248,column:30}},33:{start:{line:249,column:4},end:{line:256,column:5}},34:{start:{line:250,column:18},end:{line:250,column:46}},35:{start:{line:251,column:6},end:{line:255,column:7}},36:{start:{line:252,column:8},end:{line:252,column:19}},37:{start:{line:254,column:8},end:{line:254,column:22}},38:{start:{line:258,column:4},end:{line:258,column:40}},39:{start:{line:259,column:4},end:{line:259,column:52}},40:{start:{line:261,column:4},end:{line:261,column:46}},41:{start:{line:269,column:4},end:{line:269,column:41}},42:{start:{line:270,column:16},end:{line:270,column:46}},43:{start:{line:272,column:4},end:{line:274,column:5}},44:{start:{line:273,column:6},end:{line:273,column:31}},45:{start:{line:281,column:19},end:{line:281,column:23}},46:{start:{line:282,column:4},end:{line:290,column:5}},47:{start:{line:283,column:6},end:{line:283,column:23}},48:{start:{line:284,column:6},end:{line:289,column:9}},49:{start:{line:285,column:8},end:{line:288,column:9}},50:{start:{line:286,column:10},end:{line:286,column:70}},51:{start:{line:286,column:58},end:{line:286,column:68}},52:{start:{line:287,column:10},end:{line:287,column:26}},53:{start:{line:299,column:23},end:{line:299,column:41}},54:{start:{line:300,column:23},end:{line:300,column:57}},55:{start:{line:301,column:37},end:{line:301,column:41}},56:{start:{line:302,column:17},end:{line:302,column:22}},57:{start:{line:303,column:4},end:{line:303,column:69}},58:{start:{line:304,column:4},end:{line:304,column:74}},59:{start:{line:306,column:28},end:{line:306,column:61}},60:{start:{line:308,column:4},end:{line:314,column:5}},61:{start:{line:309,column:6},end:{line:309,column:40}},62:{start:{line:311,column:6},end:{line:311,column:43}},63:{start:{line:313,column:6},end:{line:313,column:18}},64:{start:{line:316,column:4},end:{line:352,column:5}},65:{start:{line:317,column:6},end:{line:317,column:73}},66:{start:{line:318,column:28},end:{line:318,column:59}},67:{start:{line:319,column:6},end:{line:322,column:7}},68:{start:{line:320,column:8},end:{line:320,column:78}},69:{start:{line:320,column:48},end:{line:320,column:78}},70:{start:{line:321,column:8},end:{line:321,column:21}},71:{start:{line:323,column:6},end:{line:326,column:8}},72:{start:{line:327,column:6},end:{line:330,column:7}},73:{start:{line:328,column:8},end:{line:328,column:22}},74:{start:{line:329,column:8},end:{line:329,column:58}},75:{start:{line:332,column:6},end:{line:332,column:52}},76:{start:{line:334,column:6},end:{line:334,column:40}},77:{start:{line:336,column:26},end:{line:336,column:62}},78:{start:{line:339,column:6},end:{line:341,column:9}},79:{start:{line:340,column:8},end:{line:340,column:43}},80:{start:{line:343,column:28},end:{line:345,column:7}},81:{start:{line:344,column:18},end:{line:344,column:69}},82:{start:{line:346,column:6},end:{line:346,column:79}},83:{start:{line:347,column:6},end:{line:350,column:9}},84:{start:{line:351,column:6},end:{line:351,column:52}},85:{start:{line:353,column:27},end:{line:353,column:68}},86:{start:{line:354,column:4},end:{line:357,column:7}},87:{start:{line:358,column:4},end:{line:358,column:65}},88:{start:{line:359,column:4},end:{line:408,column:5}},89:{start:{line:360,column:25},end:{line:362,column:22}},90:{start:{line:363,column:6},end:{line:382,column:7}},91:{start:{line:364,column:33},end:{line:364,column:72}},92:{start:{line:365,column:8},end:{line:379,column:9}},93:{start:{line:366,column:30},end:{line:366,column:69}},94:{start:{line:367,column:32},end:{line:369,column:26}},95:{start:{line:370,column:10},end:{line:373,column:13}},96:{start:{line:374,column:10},end:{line:378,column:11}},97:{start:{line:375,column:12},end:{line:375,column:79}},98:{start:{line:377,column:12},end:{line:377,column:76}},99:{start:{line:381,column:8},end:{line:381,column:69}},100:{start:{line:384,column:6},end:{line:384,column:36}},101:{start:{line:385,column:24},end:{line:385,column:42}},102:{start:{line:386,column:6},end:{line:407,column:7}},103:{start:{line:387,column:8},end:{line:390,column:11}},104:{start:{line:391,column:33},end:{line:391,column:72}},105:{start:{line:392,column:8},end:{line:404,column:9}},106:{start:{line:393,column:30},end:{line:393,column:69}},107:{start:{line:394,column:32},end:{line:396,column:26}},108:{start:{line:397,column:10},end:{line:397,column:71}},109:{start:{line:399,column:10},end:{line:403,column:11}},110:{start:{line:400,column:12},end:{line:400,column:76}},111:{start:{line:402,column:12},end:{line:402,column:73}},112:{start:{line:406,column:8},end:{line:406,column:69}},113:{start:{line:410,column:4},end:{line:413,column:5}},114:{start:{line:411,column:6},end:{line:411,column:44}},115:{start:{line:412,column:6},end:{line:412,column:30}},116:{start:{line:415,column:4},end:{line:415,column:16}},117:{start:{line:424,column:4},end:{line:424,column:74}},118:{start:{line:425,column:24},end:{line:427,column:5}},119:{start:{line:428,column:4},end:{line:431,column:5}},120:{start:{line:429,column:6},end:{line:429,column:72}},121:{start:{line:430,column:6},end:{line:430,column:13}},122:{start:{line:433,column:29},end:{line:433,column:68}},123:{start:{line:434,column:4},end:{line:437,column:5}},124:{start:{line:435,column:6},end:{line:435,column:77}},125:{start:{line:436,column:6},end:{line:436,column:13}},126:{start:{line:439,column:19},end:{line:446,column:5}},127:{start:{line:449,column:4},end:{line:456,column:7}},128:{start:{line:450,column:29},end:{line:452,column:28}},129:{start:{line:454,column:24},end:{line:454,column:67}},130:{start:{line:455,column:6},end:{line:455,column:56}},131:{start:{line:470,column:22},end:{line:470,column:23}},132:{start:{line:471,column:22},end:{line:471,column:37}},133:{start:{line:473,column:4},end:{line:478,column:5}},134:{start:{line:474,column:28},end:{line:474,column:55}},135:{start:{line:475,column:6},end:{line:475,column:32}},136:{start:{line:475,column:26},end:{line:475,column:32}},137:{start:{line:476,column:6},end:{line:476,column:20}},138:{start:{line:477,column:6},end:{line:477,column:53}},139:{start:{line:481,column:27},end:{line:481,column:66}},140:{start:{line:483,column:4},end:{line:483,column:26}},141:{start:{line:492,column:4},end:{line:492,column:74}},142:{start:{line:492,column:45},end:{line:492,column:74}},143:{start:{line:494,column:4},end:{line:496,column:6}},144:{start:{line:506,column:27},end:{line:506,column:60}},145:{start:{line:507,column:4},end:{line:507,column:44}},146:{start:{line:508,column:4},end:{line:508,column:44}},147:{start:{line:511,column:26},end:{line:511,column:55}},148:{start:{line:512,column:26},end:{line:521,column:6}},149:{start:{line:523,column:26},end:{line:523,column:64}},150:{start:{line:526,column:4},end:{line:526,column:126}},151:{start:{line:527,column:4},end:{line:529,column:5}},152:{start:{line:528,column:6},end:{line:528,column:64}},153:{start:{line:532,column:29},end:{line:532,column:62}},154:{start:{line:533,column:4},end:{line:533,column:48}},155:{start:{line:535,column:19},end:{line:542,column:5}},156:{start:{line:545,column:4},end:{line:569,column:7}},157:{start:{line:546,column:29},end:{line:546,column:61}},158:{start:{line:547,column:6},end:{line:547,column:54}},159:{start:{line:548,column:6},end:{line:548,column:46}},160:{start:{line:549,column:24},end:{line:549,column:64}},161:{start:{line:550,column:6},end:{line:550,column:56}},162:{start:{line:551,column:6},end:{line:551,column:35}},163:{start:{line:552,column:6},end:{line:552,column:32}},164:{start:{line:553,column:6},end:{line:553,column:51}},165:{start:{line:556,column:6},end:{line:568,column:9}},166:{start:{line:558,column:8},end:{line:567,column:10}},167:{start:{line:572,column:24},end:{line:572,column:56}},168:{start:{line:573,column:4},end:{line:573,column:36}},169:{start:{line:574,column:4},end:{line:574,column:49}},170:{start:{line:575,column:4},end:{line:575,column:38}},171:{start:{line:576,column:4},end:{line:578,column:6}},172:{start:{line:577,column:6},end:{line:577,column:38}},173:{start:{line:579,column:4},end:{line:579,column:46}},174:{start:{line:582,column:4},end:{line:582,column:49}},175:{start:{line:584,column:4},end:{line:584,column:26}},176:{start:{line:595,column:4},end:{line:598,column:29}},177:{start:{line:601,column:4},end:{line:601,column:39}},178:{start:{line:604,column:4},end:{line:604,column:65}},179:{start:{line:607,column:4},end:{line:607,column:79}},180:{start:{line:610,column:4},end:{line:610,column:70}},181:{start:{line:613,column:50},end:{line:620,column:5}},182:{start:{line:621,column:4},end:{line:623,column:7}},183:{start:{line:622,column:6},end:{line:622,column:40}},184:{start:{line:625,column:4},end:{line:625,column:16}},185:{start:{line:633,column:4},end:{line:633,column:80}},186:{start:{line:636,column:4},end:{line:642,column:6}},187:{start:{line:650,column:4},end:{line:650,column:70}},188:{start:{line:653,column:24},end:{line:655,column:5}},189:{start:{line:654,column:16},end:{line:654,column:51}},190:{start:{line:658,column:20},end:{line:658,column:43}},191:{start:{line:659,column:24},end:{line:659,column:51}},192:{start:{line:660,column:4},end:{line:673,column:7}},193:{start:{line:661,column:6},end:{line:661,column:35}},194:{start:{line:662,column:6},end:{line:672,column:7}},195:{start:{line:663,column:27},end:{line:663,column:42}},196:{start:{line:664,column:8},end:{line:666,column:9}},197:{start:{line:665,column:10},end:{line:665,column:42}},198:{start:{line:667,column:8},end:{line:667,column:53}},199:{start:{line:669,column:8},end:{line:671,column:9}},200:{start:{line:670,column:10},end:{line:670,column:41}},201:{start:{line:675,column:4},end:{line:675,column:38}},202:{start:{line:676,column:4},end:{line:676,column:44}},203:{start:{line:693,column:26},end:{line:697,column:9}},204:{start:{line:696,column:20},end:{line:696,column:50}},205:{start:{line:699,column:4},end:{line:699,column:31}},206:{start:{line:699,column:24},end:{line:699,column:31}},207:{start:{line:701,column:4},end:{line:722,column:5}},208:{start:{line:702,column:19},end:{line:702,column:36}},209:{start:{line:703,column:6},end:{line:721,column:7}},210:{start:{line:713,column:31},end:{line:713,column:65}},211:{start:{line:714,column:8},end:{line:714,column:55}},212:{start:{line:717,column:25},end:{line:717,column:46}},213:{start:{line:718,column:8},end:{line:720,column:9}},214:{start:{line:719,column:10},end:{line:719,column:68}},215:{start:{line:731,column:24},end:{line:731,column:44}},216:{start:{line:732,column:39},end:{line:732,column:57}},217:{start:{line:733,column:4},end:{line:737,column:6}},218:{start:{line:738,column:4},end:{line:744,column:6}},219:{start:{line:753,column:4},end:{line:756,column:6}},220:{start:{line:757,column:4},end:{line:760,column:6}},221:{start:{line:761,column:4},end:{line:764,column:6}},222:{start:{line:772,column:4},end:{line:775,column:6}},223:{start:{line:776,column:4},end:{line:779,column:6}},224:{start:{line:788,column:4},end:{line:788,column:43}},225:{start:{line:791,column:24},end:{line:791,column:56}},226:{start:{line:792,column:4},end:{line:792,column:46}},227:{start:{line:793,column:4},end:{line:793,column:38}},228:{start:{line:796,column:22},end:{line:796,column:52}},229:{start:{line:797,column:4},end:{line:797,column:42}},230:{start:{line:798,column:4},end:{line:798,column:32}},231:{start:{line:801,column:4},end:{line:801,column:39}},232:{start:{line:804,column:4},end:{line:804,column:64}},233:{start:{line:804,column:46},end:{line:804,column:62}},234:{start:{line:807,column:4},end:{line:807,column:53}},235:{start:{line:810,column:4},end:{line:810,column:52}},236:{start:{line:817,column:4},end:{line:817,column:51}},237:{start:{line:818,column:4},end:{line:818,column:43}},238:{start:{line:826,column:21},end:{line:826,column:59}},239:{start:{line:827,column:4},end:{line:827,column:59}},240:{start:{line:828,column:4},end:{line:828,column:49}},241:{start:{line:829,column:4},end:{line:829,column:41}},242:{start:{line:830,column:4},end:{line:830,column:57}},243:{start:{line:833,column:4},end:{line:851,column:5}},244:{start:{line:834,column:6},end:{line:834,column:44}},245:{start:{line:837,column:6},end:{line:839,column:9}},246:{start:{line:838,column:8},end:{line:838,column:39}},247:{start:{line:842,column:6},end:{line:848,column:15}},248:{start:{line:843,column:8},end:{line:843,column:42}},249:{start:{line:845,column:8},end:{line:847,column:16}},250:{start:{line:846,column:10},end:{line:846,column:28}},251:{start:{line:850,column:6},end:{line:850,column:46}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:16},end:{line:208,column:3}},line:93},1:{name:"(anonymous_1)",decl:{start:{line:214,column:25},end:{line:214,column:26}},loc:{start:{line:214,column:43},end:{line:222,column:3}},line:214},2:{name:"(anonymous_2)",decl:{start:{line:228,column:21},end:{line:228,column:22}},loc:{start:{line:228,column:39},end:{line:232,column:3}},line:228},3:{name:"(anonymous_3)",decl:{start:{line:241,column:2},end:{line:241,column:3}},loc:{start:{line:244,column:17},end:{line:262,column:3}},line:244},4:{name:"(anonymous_4)",decl:{start:{line:268,column:2},end:{line:268,column:3}},loc:{start:{line:268,column:38},end:{line:275,column:3}},line:268},5:{name:"(anonymous_5)",decl:{start:{line:280,column:2},end:{line:280,column:3}},loc:{start:{line:280,column:30},end:{line:291,column:3}},line:280},6:{name:"(anonymous_6)",decl:{start:{line:284,column:30},end:{line:284,column:31}},loc:{start:{line:284,column:40},end:{line:289,column:7}},line:284},7:{name:"(anonymous_7)",decl:{start:{line:286,column:51},end:{line:286,column:52}},loc:{start:{line:286,column:58},end:{line:286,column:68}},line:286},8:{name:"(anonymous_8)",decl:{start:{line:298,column:2},end:{line:298,column:3}},loc:{start:{line:298,column:51},end:{line:416,column:3}},line:298},9:{name:"(anonymous_9)",decl:{start:{line:339,column:43},end:{line:339,column:44}},loc:{start:{line:339,column:56},end:{line:341,column:7}},line:339},10:{name:"(anonymous_10)",decl:{start:{line:344,column:8},end:{line:344,column:9}},loc:{start:{line:344,column:18},end:{line:344,column:69}},line:344},11:{name:"(anonymous_11)",decl:{start:{line:422,column:2},end:{line:422,column:3}},loc:{start:{line:422,column:54},end:{line:457,column:3}},line:422},12:{name:"(anonymous_12)",decl:{start:{line:449,column:35},end:{line:449,column:36}},loc:{start:{line:449,column:54},end:{line:456,column:5}},line:449},13:{name:"(anonymous_13)",decl:{start:{line:465,column:2},end:{line:465,column:3}},loc:{start:{line:468,column:17},end:{line:484,column:3}},line:468},14:{name:"(anonymous_14)",decl:{start:{line:491,column:2},end:{line:491,column:3}},loc:{start:{line:491,column:64},end:{line:497,column:3}},line:491},15:{name:"(anonymous_15)",decl:{start:{line:505,column:2},end:{line:505,column:3}},loc:{start:{line:505,column:72},end:{line:585,column:3}},line:505},16:{name:"(anonymous_16)",decl:{start:{line:545,column:35},end:{line:545,column:36}},loc:{start:{line:545,column:54},end:{line:569,column:5}},line:545},17:{name:"(anonymous_17)",decl:{start:{line:556,column:47},end:{line:556,column:48}},loc:{start:{line:556,column:53},end:{line:568,column:7}},line:556},18:{name:"(anonymous_18)",decl:{start:{line:576,column:42},end:{line:576,column:43}},loc:{start:{line:577,column:6},end:{line:577,column:38}},line:577},19:{name:"(anonymous_19)",decl:{start:{line:593,column:2},end:{line:593,column:3}},loc:{start:{line:593,column:46},end:{line:626,column:3}},line:593},20:{name:"(anonymous_20)",decl:{start:{line:621,column:43},end:{line:621,column:44}},loc:{start:{line:621,column:54},end:{line:623,column:5}},line:621},21:{name:"(anonymous_21)",decl:{start:{line:632,column:2},end:{line:632,column:3}},loc:{start:{line:632,column:51},end:{line:643,column:3}},line:632},22:{name:"(anonymous_22)",decl:{start:{line:649,column:2},end:{line:649,column:3}},loc:{start:{line:649,column:43},end:{line:677,column:3}},line:649},23:{name:"(anonymous_23)",decl:{start:{line:654,column:6},end:{line:654,column:7}},loc:{start:{line:654,column:16},end:{line:654,column:51}},line:654},24:{name:"(anonymous_24)",decl:{start:{line:660,column:24},end:{line:660,column:25}},loc:{start:{line:660,column:34},end:{line:673,column:5}},line:660},25:{name:"(anonymous_25)",decl:{start:{line:686,column:2},end:{line:686,column:3}},loc:{start:{line:691,column:10},end:{line:723,column:3}},line:691},26:{name:"(anonymous_26)",decl:{start:{line:696,column:10},end:{line:696,column:11}},loc:{start:{line:696,column:20},end:{line:696,column:50}},line:696},27:{name:"(anonymous_27)",decl:{start:{line:730,column:2},end:{line:730,column:3}},loc:{start:{line:730,column:55},end:{line:745,column:3}},line:730},28:{name:"(anonymous_28)",decl:{start:{line:750,column:2},end:{line:750,column:3}},loc:{start:{line:750,column:22},end:{line:765,column:3}},line:750},29:{name:"(anonymous_29)",decl:{start:{line:770,column:2},end:{line:770,column:3}},loc:{start:{line:770,column:25},end:{line:780,column:3}},line:770},30:{name:"(anonymous_30)",decl:{start:{line:786,column:2},end:{line:786,column:3}},loc:{start:{line:786,column:42},end:{line:811,column:3}},line:786},31:{name:"(anonymous_31)",decl:{start:{line:804,column:40},end:{line:804,column:41}},loc:{start:{line:804,column:46},end:{line:804,column:62}},line:804},32:{name:"(anonymous_32)",decl:{start:{line:816,column:2},end:{line:816,column:3}},loc:{start:{line:816,column:27},end:{line:819,column:3}},line:816},33:{name:"(anonymous_33)",decl:{start:{line:824,column:2},end:{line:824,column:3}},loc:{start:{line:824,column:34},end:{line:852,column:3}},line:824},34:{name:"(anonymous_34)",decl:{start:{line:837,column:28},end:{line:837,column:29}},loc:{start:{line:837,column:34},end:{line:839,column:7}},line:837},35:{name:"(anonymous_35)",decl:{start:{line:842,column:17},end:{line:842,column:18}},loc:{start:{line:842,column:23},end:{line:848,column:7}},line:842},36:{name:"(anonymous_36)",decl:{start:{line:845,column:19},end:{line:845,column:20}},loc:{start:{line:845,column:25},end:{line:847,column:9}},line:845}},branchMap:{0:{loc:{start:{line:251,column:6},end:{line:255,column:7}},type:"if",locations:[{start:{line:251,column:6},end:{line:255,column:7}},{start:{line:253,column:13},end:{line:255,column:7}}],line:251},1:{loc:{start:{line:261,column:11},end:{line:261,column:45}},type:"binary-expr",locations:[{start:{line:261,column:11},end:{line:261,column:37}},{start:{line:261,column:41},end:{line:261,column:45}}],line:261},2:{loc:{start:{line:272,column:4},end:{line:274,column:5}},type:"if",locations:[{start:{line:272,column:4},end:{line:274,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:272},3:{loc:{start:{line:282,column:11},end:{line:282,column:49}},type:"binary-expr",locations:[{start:{line:282,column:11},end:{line:282,column:19}},{start:{line:282,column:23},end:{line:282,column:49}}],line:282},4:{loc:{start:{line:285,column:8},end:{line:288,column:9}},type:"if",locations:[{start:{line:285,column:8},end:{line:288,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:285},5:{loc:{start:{line:308,column:4},end:{line:314,column:5}},type:"if",locations:[{start:{line:308,column:4},end:{line:314,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:308},6:{loc:{start:{line:316,column:4},end:{line:352,column:5}},type:"if",locations:[{start:{line:316,column:4},end:{line:352,column:5}},{start:{line:333,column:11},end:{line:352,column:5}}],line:316},7:{loc:{start:{line:319,column:6},end:{line:322,column:7}},type:"if",locations:[{start:{line:319,column:6},end:{line:322,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:319},8:{loc:{start:{line:320,column:8},end:{line:320,column:78}},type:"if",locations:[{start:{line:320,column:8},end:{line:320,column:78}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:320},9:{loc:{start:{line:327,column:6},end:{line:330,column:7}},type:"if",locations:[{start:{line:327,column:6},end:{line:330,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:327},10:{loc:{start:{line:327,column:10},end:{line:327,column:61}},type:"binary-expr",locations:[{start:{line:327,column:10},end:{line:327,column:24}},{start:{line:327,column:28},end:{line:327,column:61}}],line:327},11:{loc:{start:{line:359,column:4},end:{line:408,column:5}},type:"if",locations:[{start:{line:359,column:4},end:{line:408,column:5}},{start:{line:383,column:11},end:{line:408,column:5}}],line:359},12:{loc:{start:{line:363,column:6},end:{line:382,column:7}},type:"if",locations:[{start:{line:363,column:6},end:{line:382,column:7}},{start:{line:380,column:13},end:{line:382,column:7}}],line:363},13:{loc:{start:{line:365,column:8},end:{line:379,column:9}},type:"if",locations:[{start:{line:365,column:8},end:{line:379,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:365},14:{loc:{start:{line:374,column:10},end:{line:378,column:11}},type:"if",locations:[{start:{line:374,column:10},end:{line:378,column:11}},{start:{line:376,column:17},end:{line:378,column:11}}],line:374},15:{loc:{start:{line:386,column:6},end:{line:407,column:7}},type:"if",locations:[{start:{line:386,column:6},end:{line:407,column:7}},{start:{line:405,column:13},end:{line:407,column:7}}],line:386},16:{loc:{start:{line:392,column:8},end:{line:404,column:9}},type:"if",locations:[{start:{line:392,column:8},end:{line:404,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:392},17:{loc:{start:{line:399,column:10},end:{line:403,column:11}},type:"if",locations:[{start:{line:399,column:10},end:{line:403,column:11}},{start:{line:401,column:17},end:{line:403,column:11}}],line:399},18:{loc:{start:{line:399,column:14},end:{line:399,column:64}},type:"binary-expr",locations:[{start:{line:399,column:14},end:{line:399,column:27}},{start:{line:399,column:31},end:{line:399,column:64}}],line:399},19:{loc:{start:{line:410,column:4},end:{line:413,column:5}},type:"if",locations:[{start:{line:410,column:4},end:{line:413,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:410},20:{loc:{start:{line:410,column:9},end:{line:410,column:30}},type:"binary-expr",locations:[{start:{line:410,column:9},end:{line:410,column:24}},{start:{line:410,column:28},end:{line:410,column:30}}],line:410},21:{loc:{start:{line:428,column:4},end:{line:431,column:5}},type:"if",locations:[{start:{line:428,column:4},end:{line:431,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:428},22:{loc:{start:{line:434,column:4},end:{line:437,column:5}},type:"if",locations:[{start:{line:434,column:4},end:{line:437,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:434},23:{loc:{start:{line:454,column:24},end:{line:454,column:67}},type:"binary-expr",locations:[{start:{line:454,column:24},end:{line:454,column:62}},{start:{line:454,column:66},end:{line:454,column:67}}],line:454},24:{loc:{start:{line:475,column:6},end:{line:475,column:32}},type:"if",locations:[{start:{line:475,column:6},end:{line:475,column:32}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:475},25:{loc:{start:{line:492,column:4},end:{line:492,column:74}},type:"if",locations:[{start:{line:492,column:4},end:{line:492,column:74}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:492},26:{loc:{start:{line:523,column:45},end:{line:523,column:63}},type:"binary-expr",locations:[{start:{line:523,column:45},end:{line:523,column:57}},{start:{line:523,column:61},end:{line:523,column:63}}],line:523},27:{loc:{start:{line:527,column:4},end:{line:529,column:5}},type:"if",locations:[{start:{line:527,column:4},end:{line:529,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:527},28:{loc:{start:{line:549,column:24},end:{line:549,column:64}},type:"binary-expr",locations:[{start:{line:549,column:24},end:{line:549,column:59}},{start:{line:549,column:63},end:{line:549,column:64}}],line:549},29:{loc:{start:{line:622,column:13},end:{line:622,column:39}},type:"binary-expr",locations:[{start:{line:622,column:13},end:{line:622,column:30}},{start:{line:622,column:34},end:{line:622,column:39}}],line:622},30:{loc:{start:{line:662,column:6},end:{line:672,column:7}},type:"if",locations:[{start:{line:662,column:6},end:{line:672,column:7}},{start:{line:668,column:13},end:{line:672,column:7}}],line:662},31:{loc:{start:{line:664,column:8},end:{line:666,column:9}},type:"if",locations:[{start:{line:664,column:8},end:{line:666,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:664},32:{loc:{start:{line:669,column:8},end:{line:671,column:9}},type:"if",locations:[{start:{line:669,column:8},end:{line:671,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:669},33:{loc:{start:{line:689,column:4},end:{line:689,column:34}},type:"default-arg",locations:[{start:{line:689,column:30},end:{line:689,column:34}}],line:689},34:{loc:{start:{line:690,column:4},end:{line:690,column:22}},type:"default-arg",locations:[{start:{line:690,column:21},end:{line:690,column:22}}],line:690},35:{loc:{start:{line:693,column:26},end:{line:697,column:9}},type:"cond-expr",locations:[{start:{line:694,column:8},end:{line:694,column:33}},{start:{line:695,column:8},end:{line:697,column:9}}],line:693},36:{loc:{start:{line:699,column:4},end:{line:699,column:31}},type:"if",locations:[{start:{line:699,column:4},end:{line:699,column:31}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:699},37:{loc:{start:{line:703,column:6},end:{line:721,column:7}},type:"if",locations:[{start:{line:703,column:6},end:{line:721,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:703},38:{loc:{start:{line:718,column:8},end:{line:720,column:9}},type:"if",locations:[{start:{line:718,column:8},end:{line:720,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:718},39:{loc:{start:{line:718,column:12},end:{line:718,column:43}},type:"binary-expr",locations:[{start:{line:718,column:12},end:{line:718,column:20}},{start:{line:718,column:24},end:{line:718,column:43}}],line:718},40:{loc:{start:{line:833,column:4},end:{line:851,column:5}},type:"if",locations:[{start:{line:833,column:4},end:{line:851,column:5}},{start:{line:849,column:11},end:{line:851,column:5}}],line:833}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0],34:[0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"95b2d6b374188d2d0880681b2f2ac2997ab9eb1f"});var o=l[e];return(// @ts-ignore
et=function(){return o},o)}et(),et().s[0]++,et().s[1]++,et().s[2]++;class el extends HTMLElement{header;chatContainer;errorContainerpost;messageMap=(et().s[3]++,new Map);retryQueue=(et().s[4]++,[]);/**
   * Constructor define the shadow root and append the header to the shadow root.
   */constructor(){et().f[0]++,et().s[5]++,super();// Attach a shadow root to this element
let e=(et().s[6]++,this.attachShadow({mode:"open"}));// Select header element and chat container
et().s[7]++,this.header=document.querySelector("#main-content #header"),et().s[8]++,this.chatContainer=document.querySelector("#main-content #chat-container"),et().s[9]++,this.messageMap=this.messageMap,et().s[10]++,e.appendChild(this.header),// Create the error container
et().s[11]++,this.errorContainerpost=document.createElement("section"),et().s[12]++,this.errorContainerpost.classList.add("error-container"),et().s[13]++,this.errorContainerpost.style.display="none",et().s[14]++,e.append(this.errorContainerpost),et().s[15]++,this.loadPosts=this.loadPosts.bind(this);// Add styles
let n=(et().s[16]++,document.createElement("style"));et().s[17]++,n.textContent=`
      #header {
        font-family: "Jersey20", sans-serif;
        background-color: #44426E;
        color: white;
        padding: 15px;
        font-size: 2em;
      }
      #chat-container {
        flex-grow: 1;
        padding: 20px;
        overflow-y: auto;
      }
      .message {
        font-family: "VT323", sans-serif;
        background-color: #ffffff;
        border: 1px solid #44426e;
        padding: 10px;
        margin-bottom: 18px;
        border-radius: 5px;
        max-width: 70%;
        position: relative;
        margin-left: 0px;
      }
      .reactions {
        margin-top: 8px;
        display: flex;
        gap: 8px;
      }
      .reaction-button {
        background-color: #f0f0f0;
        border: 1px solid #ccc;
        border-radius: 12px;
        padding: 4px 8px;
        font-size: 0.9em;
        cursor: pointer;
      }
      .error-container {
        position: fixed;
        top: 500px; /* Adjust as needed */
        left: 0; /* Align with the sidebar */
        z-index: 1001; /* Above the dropdown */
      }

      .error-button {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
        border-radius: 5px;
        padding: 10px 15px;
        font-size: 12px;
        cursor: pointer;
        display: flex;
        align-items: left;
        justify-content: space-between;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .error-button .close-icon {
        margin-left: 10px;
        font-weight: bold;
        cursor: pointer;
      }

      .error-button:hover {
        background-color: #f5c6cb;
      }
      .birthday-cake-icon {
        position: fixed; /* Position relative to the viewport */
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0); /* Start scaled down */
        width: 300px; /* Increased size */
        height: 300px; /* Increased size */
        font-size: 300px; /* Match the container size */
        opacity: 0; /* Start invisible */
        transition: transform 0.5s ease-out, opacity 0.5s ease-out; /* Smooth transition */
        z-index: 1000; /* Ensure it's on top of other elements */
        pointer-events: none; /* Allow interactions with underlying elements */
      }
      
      .birthday-cake-icon.show {
        transform: translate(-50%, -50%) scale(1); /* Scale to full size */
        opacity: 1; /* Fade in */
      }      
    `,et().s[18]++,e.appendChild(n)}/**
   * Updates the header text with the name of the selected channel.
   * @param event - The event object containing channel details.
   */updateHeader=(et().s[19]++,e=>{et().f[1]++,et().s[20]++,a.info("MainContentComponent: updateHeader");let n=(et().s[21]++,e),t=(et().s[22]++,n.detail.channel);et().s[23]++,a.info("MainContentComponent: updateHeader",["channel",t]);// Update header text with the selected channel name
let l=(et().s[24]++," "+t+" ");et().s[25]++,this.header.textContent=`${l}`});/**
   * clearpost function to clear the chat container and set the header to " PLEASE SELECT A CHANNEL "
   * @param event - The event that triggers the clearing of the chat container.
   */clearpost=(et().s[26]++,e=>{et().f[2]++,et().s[27]++,a.info("MainContentComponent: clearpost"),et().s[28]++,this.chatContainer.innerHTML="",et().s[29]++,this.header.textContent=" PLEASE SELECT A CHANNEL "});/**
   * MessageWrapper stuff to take care of nested posts
   * Helper to insert into sorted children array (by createdAt metadata)
   * @param children - The array of existing child message wrappers.
   * @param newWrapper - The new message wrapper to insert.
   * @returns the message of the child directly before the inserted wrapper, or `null` if no such child exists.
   */insertIntoSortedChildren(e,n){et().f[3]++;let t=(et().s[30]++,n.message.meta.createdAt),l=(et().s[31]++,0),o=(et().s[32]++,e.length);for(et().s[33]++;l<o;){let n=(et().s[34]++,Math.floor((l+o)/2));et().s[35]++,e[n].message.meta.createdAt>t?(et().b[0][0]++,et().s[36]++,o=n):(et().b[0][1]++,et().s[37]++,l=n+1)}return(// Insert new wrapper
et().s[38]++,e.splice(l,0,n),et().s[39]++,a.info("Children: ",["children",e]),et().s[40]++,et().b[1][0]++,e[l-1]?.message||(et().b[1][1]++,null))}/**
   * Renders a new message by attempting to insert it and processing any queued retries.
   * @param newPost - The `Post` object representing the new message to be rendered.
   */renderMessage(e){et().f[4]++,et().s[41]++,a.info("ENETERING RENDERMESSAGE");let n=(et().s[42]++,this.tryInsertMessage(e));et().s[43]++,n?(et().b[2][0]++,et().s[44]++,this.processRetryQueue()):et().b[2][1]++}/**
   * Processes the retry queue for message insertion.
   */processRetryQueue(){et().f[5]++;let e=(et().s[45]++,!0);for(et().s[46]++;et().b[3][0]++,e&&(et().b[3][1]++,this.retryQueue.length>0);)et().s[47]++,e=!1,et().s[48]++,this.retryQueue.forEach(n=>{et().f[6]++,et().s[49]++,this.tryInsertMessage(n)?(et().b[4][0]++,et().s[50]++,this.retryQueue=this.retryQueue.filter(e=>(et().f[7]++,et().s[51]++,e!==n)),et().s[52]++,e=!0):et().b[4][1]++})}/**
   * Function to be called in main that will insert post into chat.
   * @param newPost - The `Post` object representing the new message to be rendered.
   * @returns `true` if the message was successfully inserted, otherwise `false.
   */tryInsertMessage(e){et().f[8]++;let n=(et().s[53]++,e.doc.parent),t=(et().s[54]++,{message:e,children:[]}),l=(et().s[55]++,null),o=(et().s[56]++,!1);et().s[57]++,a.info("tryInsertMessage: newPost",["newpost",e.doc]),et().s[58]++,a.info("tryInsertMessage: parentPath",["parentPath",n]);let i=(et().s[59]++,this.messageMap.get(e.path));if(et().s[60]++,i)return et().b[5][0]++,et().s[61]++,i.message=e,et().s[62]++,this.updateMessageReactions(e),// TODO: update reactions for the post this.updateMessageReactions(newPost);
et().s[63]++,!0;if(et().b[5][1]++,et().s[64]++,n){et().b[6][0]++,et().s[65]++,a.info("Its a reply, parentPath: ",["parentPath",n]);let i=(et().s[66]++,this.messageMap.get(n));if(et().s[67]++,!i)return et().b[7][0]++,et().s[68]++,this.retryQueue.includes(e)?et().b[8][1]++:(et().b[8][0]++,et().s[69]++,this.retryQueue.push(e)),et().s[70]++,!1;et().b[7][1]++,et().s[71]++,l=this.insertIntoSortedChildren(i.children,t),et().s[72]++,(et().b[10][0]++,!l&&(et().b[10][1]++,i.children.length>1))?(et().b[9][0]++,et().s[73]++,o=!0,et().s[74]++,l=i.children[1].message):et().b[9][1]++,et().s[75]++,this.messageMap.set(e.path,t)}else{et().b[6][1]++,et().s[76]++,a.info("Its a top level post");// Convert the values of the messageMap to an array
let n=(et().s[77]++,Array.from(this.messageMap.values()));// Filter out nodes that have parents (i.e., only top-level nodes)
et().s[78]++,n=n.filter(e=>(et().f[9]++,et().s[79]++,!e.message.doc.parent));let o=(et().s[80]++,Array.from(n).sort((e,n)=>(et().f[10]++,et().s[81]++,e.message.meta.createdAt-n.message.meta.createdAt)));et().s[82]++,l=this.insertIntoSortedChildren(o,t),et().s[83]++,a.info("After insertion into sorted children: ",["precedingPost",l]),et().s[84]++,this.messageMap.set(e.path,t)}let s=(et().s[85]++,this.addMessage(e,this.messageMap));if(et().s[86]++,a.info("tryInsertMessage: newMessageElem",["newMessageElem",s]),et().s[87]++,a.info("precedingPost",["precedingPost",l]),et().s[88]++,n){et().b[11][0]++;let e=(et().s[89]++,document.querySelector(`[data-path="${n}"]`));if(et().s[90]++,l){et().b[12][0]++;let e=(et().s[91]++,this.messageMap.get(l.path));if(et().s[92]++,e){et().b[13][0]++;let n=(et().s[93]++,this.findDeepestChild(e)),t=(et().s[94]++,document.querySelector(`[data-path="${n.path}"]`));et().s[95]++,a.info("precedingElem for deepest post",["precedingElem",t]),et().s[96]++,o?(et().b[14][0]++,et().s[97]++,t.insertAdjacentElement("beforebegin",s)):(et().b[14][1]++,et().s[98]++,t.insertAdjacentElement("afterend",s))}else et().b[13][1]++}else et().b[12][1]++,et().s[99]++,e.insertAdjacentElement("afterend",s)}else{et().b[11][1]++,et().s[100]++,a.info("no parents, here");let e=(et().s[101]++,this.chatContainer);if(et().s[102]++,l){et().b[15][0]++,et().s[103]++,a.info("precedingPost.path",["precedingPost.path",l.path]);let n=(et().s[104]++,this.messageMap.get(l.path));if(et().s[105]++,n){et().b[16][0]++;let t=(et().s[106]++,this.findDeepestChild(n)),l=(et().s[107]++,document.querySelector(`[data-path="${t.path}"]`));et().s[108]++,a.info("precedingElem",["precedingElem",l]),// Need to check if this is in a completely new channel
et().s[109]++,(et().b[18][0]++,l&&(et().b[18][1]++,e.contains(l)))?(et().b[17][0]++,et().s[110]++,l.insertAdjacentElement("afterend",s)):(et().b[17][1]++,et().s[111]++,e.insertBefore(s,e.firstChild))}else et().b[16][1]++}else et().b[15][1]++,et().s[112]++,e.insertBefore(s,e.firstChild)}return et().s[113]++,(et().b[20][0]++,e.doc.msg||(et().b[20][1]++,"")).toLowerCase().includes("happy birthday")?(et().b[19][0]++,et().s[114]++,a.info("Happy Birthday detected!"),et().s[115]++,this.showBirthdayCake()):et().b[19][1]++,et().s[116]++,!0}/**
   * Updates the reaction section of a message element in the chat UI.
   * @param newPost - The `Post` object containing updated reaction data.
   */updateMessageReactions(e){et().f[11]++,et().s[117]++,a.info("updateMessageReactions: newPost",["newPost",e]);let n=(et().s[118]++,this.chatContainer.querySelector(`[data-path="${e.path}"]`));if(et().s[119]++,n)et().b[21][1]++;else{et().b[21][0]++,et().s[120]++,a.error(`Message element not found for path: ${e.path}`),et().s[121]++;return}let t=(et().s[122]++,n.querySelector(".reactions"));if(et().s[123]++,t)et().b[22][1]++;else{et().b[22][0]++,et().s[124]++,a.error(`Reactions section not found for message: ${e.path}`),et().s[125]++;return}let l=(et().s[126]++,{":smile:":'<iconify-icon icon="twemoji:smiling-face"></iconify-icon>',":frown:":'<iconify-icon icon="twemoji:slightly-frowning-face"></iconify-icon>',":like:":'<iconify-icon icon="twemoji:thumbs-up"></iconify-icon>',":celebrate:":'<iconify-icon icon="twemoji:party-popper"></iconify-icon>'});// Iterate over each reaction type
et().s[127]++,Object.entries(l).forEach(([n,l])=>{et().f[12]++;let o=(et().s[128]++,t.querySelector(`[data-reaction="${n}"]`)),i=(et().s[129]++,et().b[23][0]++,e.doc.reactions?.[n]?.length||(et().b[23][1]++,0));et().s[130]++,o.innerHTML=`${l} ${i}`})}/**
   * Adds a new message element to the chat UI, handling reply indentation.
   * @param post - The `Post` object containing the message data.
   * @param messageMap - A mapping of message paths to `MessageWrapper` objects for easy parent lookup.
   * @returns the constructed message element to be appended to the chat container.
   */addMessage(e,n){et().f[13]++;// Determine the reply indentation level
let t=(et().s[131]++,0),l=(et().s[132]++,e.doc.parent);for(et().s[133]++;l;){let e=(et().s[134]++,n.get(l));if(et().s[135]++,e)et().b[24][1]++;else{et().b[24][0]++,et().s[136]++;break}// Parent not found
et().s[137]++,t++,et().s[138]++,l=e.message.doc.parent}// Use the messageTemplate function to create the message element
let o=(et().s[139]++,this.messageTemplate(e,t));return et().s[140]++,o}/**
   * Finds the deepest child message in a nested reply structure.
   * @param parentWrapper - The `MessageWrapper` wrapper object containing the parent message and its child messages.
   * @returns the deepest `Post` child message in the hierarchy, or the parent message if there are no children.
   */findDeepestChild(e){return(et().f[14]++,et().s[141]++,0===e.children.length)?(et().b[25][0]++,et().s[142]++,e.message):(et().b[25][1]++,// Base Case
// Recursively find lowest child
et().s[143]++,this.findDeepestChild(e.children[e.children.length-1]))}/**
   * Generates an HTML template for a given post with proper styling and metadata.
   * @param post - The `Post` object representing the message to be rendered.
   * @param replyIndent - The indentation level for replies.
   * @returns the structured HTML representation of the `Post` object.
   */messageTemplate(e,n){et().f[15]++;let t=(et().s[144]++,document.createElement("section"));et().s[145]++,t.classList.add("message"),et().s[146]++,t.dataset.path=e.path;// Format createdAt timestamp to a readable date string
let l=(et().s[147]++,new Date(e.meta.createdAt)),o=(et().s[148]++,l.toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"})),i=(et().s[149]++,this.parseMarkdown((et().b[26][0]++,e.doc.msg||(et().b[26][1]++,""))));// Add message content with author and timestamp
et().s[150]++,t.innerHTML=`<span><strong>${e.meta.createdBy} - ${o}:</strong><br>${i}</span>`,et().s[151]++,n>0?(et().b[27][0]++,et().s[152]++,t.style.marginLeft=`${40*n}px`):et().b[27][1]++;// Initialize reactions div
let s=(et().s[153]++,document.createElement("section"));et().s[154]++,s.classList.add("reactions");let r=(et().s[155]++,{":smile:":'<iconify-icon icon="twemoji:smiling-face"></iconify-icon>',":frown:":'<iconify-icon icon="twemoji:slightly-frowning-face"></iconify-icon>',":like:":'<iconify-icon icon="twemoji:thumbs-up"></iconify-icon>',":celebrate:":'<iconify-icon icon="twemoji:party-popper"></iconify-icon>'});// Create a button for each reaction type with initial count 0
et().s[156]++,Object.entries(r).forEach(([n,t])=>{et().f[16]++;let l=(et().s[157]++,document.createElement("button"));et().s[158]++,l.classList.add("reaction-button"),et().s[159]++,l.dataset.reaction=n;let o=(et().s[160]++,et().b[28][0]++,e.doc.reactions?.[n]?.length||(et().b[28][1]++,0));et().s[161]++,l.innerHTML=`${t} ${o}`,et().s[162]++,l.title=n,et().s[163]++,l.id=n,et().s[164]++,s.appendChild(l),// Add event listener for the reaction button
et().s[165]++,l.addEventListener("click",()=>{et().f[17]++,et().s[166]++,// Dispatch a 'reaction' event with postPath and reactionType
this.dispatchEvent(new CustomEvent("reaction",{detail:{postPath:e.path,reactionType:n},bubbles:!0,composed:!0}))})});// Add Reply button
let a=(et().s[167]++,document.createElement("button"));return et().s[168]++,a.id="reply-button",et().s[169]++,a.classList.add("reaction-button"),et().s[170]++,a.textContent="Reply",et().s[171]++,a.addEventListener("click",()=>(et().f[18]++,et().s[172]++,this.handleReplyClick(e.path))),et().s[173]++,s.appendChild(a),// Add reactions row to the message component
et().s[174]++,t.appendChild(s),et().s[175]++,t}/**
   * Parses a given text string into HTML, converting Markdown-style syntax and
   * formatting into appropriate HTML elements for rendering.
   * @param text - The raw string input from the user that may contain Markdown-like syntax for formatting.
   * @returns the HTML string with Markdown formatting converted and input sanitized.
   */parseMarkdown(e){et().f[19]++,et().s[176]++,// Escape HTML tags to prevent XSS
e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),// Replace line breaks with <br>
et().s[177]++,e=e.replace(/\n/g,"<br>"),// Replace **text** with <strong>text</strong>
et().s[178]++,e=e.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),// Replace *text* with <em>text</em>
et().s[179]++,e=e.replace(/(?<!\*)\*(?!\*)(.+?)(?<!\*)\*(?!\*)/g,"<em>$1</em>"),// Replace [text](url) with <a href="url">text</a>
et().s[180]++,e=e.replace(/\[(.+?)\]\((.+?)\)/g,'<a href="$2">$1</a>');// Replace :emoji: with Iconify icons
let n=(et().s[181]++,{":smile:":'<iconify-icon icon="twemoji:smiling-face"></iconify-icon>',":frown:":'<iconify-icon icon="twemoji:slightly-frowning-face"></iconify-icon>',":like:":'<iconify-icon icon="twemoji:thumbs-up"></iconify-icon>',":celebrate:":'<iconify-icon icon="twemoji:party-popper"></iconify-icon>'});return et().s[182]++,e=e.replace(/(:[a-zA-Z]+?:)/g,e=>(et().f[20]++,et().s[183]++,et().b[29][0]++,n[e]||(et().b[29][1]++,e))),et().s[184]++,e}/**
   * Handles the event when the "Reply" button is clicked on a post.
   * @param postPath - The unique identifier (path) of the post to which the user is replying.
   */handleReplyClick(e){et().f[21]++,et().s[185]++,a.info("MainContentComponent: handleReplyClick",["postPath",e]),// Dispatch a custom event with the postPath to notify other parts of the app
et().s[186]++,document.dispatchEvent(new CustomEvent("reply-to-message",{detail:{postPath:e},bubbles:!0,composed:!0}))}/**
   * Displays a list of posts in the chat container by processing and rendering them.
   * @param posts - An array of `Post` objects to be displayed.
   */displayPosts(e){et().f[22]++,et().s[187]++,a.info("MainContentComponent: displayPosts",["posts",e]);// Sort posts by timestamp
let n=(et().s[188]++,e.sort((e,n)=>(et().f[23]++,et().s[189]++,e.meta.createdAt-n.meta.createdAt))),t=(et().s[190]++,new Map),l=(et().s[191]++,new Map);et().s[192]++,n.forEach(e=>{if(et().f[24]++,et().s[193]++,t.set(e.path,e),et().s[194]++,e.doc.parent){et().b[30][0]++;let n=(et().s[195]++,e.doc.parent);et().s[196]++,l.has(n)?et().b[31][1]++:(et().b[31][0]++,et().s[197]++,l.set(n,[])),et().s[198]++,l.get(n).push(e.path)}else et().b[30][1]++,et().s[199]++,l.has(e.path)?et().b[32][1]++:(et().b[32][0]++,et().s[200]++,l.set(e.path,[]))}),et().s[201]++,this.chatContainer.innerHTML="",et().s[202]++,this.populateChat(t,l)}/**
   * Recursive function to populate chat container with posts and replies.
   * @param postMap - A map where the key is the `postPath` and the value is the corresponding `Post` object.
   * @param childrenMap - A map where the key is a `postPath`, and the value is an array of paths to the replies.
   * @param postPath - The path of the post to start from. If `null`, starts from the root.
   * @param indent - The indentation level for nested replies. Defaults to 0.
   */populateChat(e,n,t=(et().b[33][0]++,null),l=(et().b[34][0]++,0)){et().f[25]++;// If no specific postPath is provided, we start at the top-level posts (posts without a parent)
let o=(et().s[203]++,t?(et().b[35][0]++,n.get(t)):(et().b[35][1]++,Array.from(e.keys()).filter(n=>(et().f[26]++,et().s[204]++,!e.get(n).doc.parent))));if(et().s[205]++,o)et().b[36][1]++;else{et().b[36][0]++,et().s[206]++;return}for(let t of(// If there are no posts to render, exit
et().s[207]++,o)){let o=(et().s[208]++,e.get(t));if(et().s[209]++,o){et().b[37][0]++;// Render the post at the current indentation level
// let childrenArray = [];
// for (const child in childrenMap.get(path)) {
//   const childWrapper: MessageWrapper = {message: postMap.get(child), children: postMap.get(child)};
//   childrenArray.push(child);
// }
// const newMessageWrapper: MessageWrapper = {post, childrenArray}
// this.messageMap.set(post.path, newMessageWrapper);
let i=(et().s[210]++,this.messageTemplate(o,l));et().s[211]++,this.chatContainer.appendChild(i);// Recursively render children, increasing the indentation
let s=(et().s[212]++,n.get(t));et().s[213]++,(et().b[39][0]++,s&&(et().b[39][1]++,s.length>0))?(et().b[38][0]++,et().s[214]++,this.populateChat(e,n,t,l+1)):et().b[38][1]++}else et().b[37][1]++}}/**
   * Load posts for a selected workspace and channel by calling the controller.
   * @param event - The event object that triggers the loading of posts.
   * @returns a promise that resolves when the posts are successfully loaded.
   */async loadPosts(e){et().f[27]++;let n=(et().s[215]++,e),{workspaceName:t,channel:l}=(et().s[216]++,n.detail);et().s[217]++,a.info("MainContentComponent: loadPosts",["workspace",t],["channel",l]),et().s[218]++,document.dispatchEvent(new CustomEvent("get-posts",{detail:{workspaceName:t,channel:l},bubbles:!0,composed:!0}))}/**
   * connectedCallback to add event listeners.
   */connectedCallback(){et().f[28]++,et().s[219]++,// Listen for channel initialization event(autoselection for the first channel if no channel is selected)
// Listen for channel selection event
document.addEventListener("channel-select",this.updateHeader),et().s[220]++,document.addEventListener("channel-select",this.loadPosts),et().s[221]++,document.addEventListener("workspace-select",this.clearpost)}/**
   * disconnectedCallback to remove event listeners.
   */disconnectedCallback(){et().f[29]++,et().s[222]++,// Clean up event listener
document.removeEventListener("channel-select",this.updateHeader),et().s[223]++,document.removeEventListener("channel-select",this.loadPosts)}/**
   * Displays an error message.
   * @param message - The error message to display.
   */showError(e){et().f[30]++,et().s[224]++,// Clear any existing error messages
this.errorContainerpost.innerHTML="";// Create the error button
let n=(et().s[225]++,document.createElement("button"));et().s[226]++,n.classList.add("error-button"),et().s[227]++,n.textContent=e;// Create the close icon
let t=(et().s[228]++,document.createElement("span"));et().s[229]++,t.classList.add("close-icon"),et().s[230]++,t.textContent="",// Append the close icon to the error button
et().s[231]++,n.appendChild(t),// Add event listener to hide the error message when "x" is clicked
et().s[232]++,t.addEventListener("click",()=>(et().f[31]++,et().s[233]++,this.hideError())),// Append the error button to the error container
et().s[234]++,this.errorContainerpost.appendChild(n),// Make the error container visible
et().s[235]++,this.errorContainerpost.style.display="block"}/**
   * Hides the error message.
   */hideError(){et().f[32]++,et().s[236]++,this.errorContainerpost.style.display="none",et().s[237]++,this.errorContainerpost.innerHTML=""}/**
   * Creates and displays the birthday cake icon when called.
   */showBirthdayCake(){et().f[33]++;// Create the birthday cake icon element
let e=(et().s[238]++,document.createElement("iconify-icon"));et().s[239]++,e.setAttribute("icon","twemoji:birthday-cake"),et().s[240]++,e.classList.add("birthday-cake-icon"),et().s[241]++,e.setAttribute("role","img"),et().s[242]++,e.setAttribute("aria-label","Birthday Cake"),// Append the icon to the shadow root for encapsulation
et().s[243]++,this.shadowRoot?(et().b[40][0]++,et().s[244]++,this.shadowRoot.appendChild(e),// Trigger the animation on the next animation frame
et().s[245]++,requestAnimationFrame(()=>{et().f[34]++,et().s[246]++,e.classList.add("show")}),// Remove the icon after the animation completes (e.g., 2 seconds)
et().s[247]++,setTimeout(()=>{et().f[35]++,et().s[248]++,e.classList.remove("show"),// Optionally, remove the element from the DOM after fading out
et().s[249]++,setTimeout(()=>{et().f[36]++,et().s[250]++,e.remove()},500)},2e3)):(et().b[40][1]++,et().s[251]++,console.error("Shadow root not found."))}}function eo(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/CreateWorkspaceDialog.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"dbd1db2977a621fbf55a51a038ed9f3c328aa0f3"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/CreateWorkspaceDialog.ts",statementMap:{0:{start:{line:19,column:4},end:{line:19,column:12}},1:{start:{line:20,column:4},end:{line:20,column:54}},2:{start:{line:23,column:4},end:{line:23,column:57}},3:{start:{line:24,column:4},end:{line:24,column:56}},4:{start:{line:25,column:4},end:{line:32,column:6}},5:{start:{line:33,column:4},end:{line:33,column:48}},6:{start:{line:36,column:4},end:{line:36,column:50}},7:{start:{line:39,column:18},end:{line:39,column:49}},8:{start:{line:40,column:4},end:{line:103,column:6}},9:{start:{line:104,column:4},end:{line:104,column:35}},10:{start:{line:107,column:4},end:{line:109,column:64}},11:{start:{line:109,column:40},end:{line:109,column:62}},12:{start:{line:111,column:4},end:{line:113,column:60}},13:{start:{line:113,column:40},end:{line:113,column:58}},14:{start:{line:116,column:4},end:{line:116,column:75}},15:{start:{line:116,column:56},end:{line:116,column:73}},16:{start:{line:123,column:4},end:{line:123,column:49}},17:{start:{line:124,column:21},end:{line:124,column:51}},18:{start:{line:125,column:4},end:{line:128,column:5}},19:{start:{line:126,column:6},end:{line:126,column:37}},20:{start:{line:127,column:6},end:{line:127,column:44}},21:{start:{line:135,column:4},end:{line:135,column:48}},22:{start:{line:136,column:21},end:{line:136,column:51}},23:{start:{line:137,column:4},end:{line:140,column:5}},24:{start:{line:138,column:6},end:{line:138,column:40}},25:{start:{line:139,column:6},end:{line:139,column:40}},26:{start:{line:147,column:18},end:{line:149,column:25}},27:{start:{line:150,column:26},end:{line:150,column:44}},28:{start:{line:151,column:4},end:{line:166,column:5}},29:{start:{line:152,column:6},end:{line:152,column:79}},30:{start:{line:154,column:6},end:{line:160,column:8}},31:{start:{line:162,column:6},end:{line:162,column:23}},32:{start:{line:163,column:6},end:{line:163,column:25}},33:{start:{line:165,column:6},end:{line:165,column:51}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:16},end:{line:117,column:3}},line:18},1:{name:"(anonymous_1)",decl:{start:{line:109,column:34},end:{line:109,column:35}},loc:{start:{line:109,column:40},end:{line:109,column:62}},line:109},2:{name:"(anonymous_2)",decl:{start:{line:113,column:34},end:{line:113,column:35}},loc:{start:{line:113,column:40},end:{line:113,column:58}},line:113},3:{name:"(anonymous_3)",decl:{start:{line:116,column:50},end:{line:116,column:51}},loc:{start:{line:116,column:56},end:{line:116,column:73}},line:116},4:{name:"(anonymous_4)",decl:{start:{line:122,column:2},end:{line:122,column:3}},loc:{start:{line:122,column:28},end:{line:129,column:3}},line:122},5:{name:"(anonymous_5)",decl:{start:{line:134,column:2},end:{line:134,column:3}},loc:{start:{line:134,column:29},end:{line:141,column:3}},line:134},6:{name:"(anonymous_6)",decl:{start:{line:146,column:2},end:{line:146,column:3}},loc:{start:{line:146,column:34},end:{line:167,column:3}},line:146}},branchMap:{0:{loc:{start:{line:125,column:4},end:{line:128,column:5}},type:"if",locations:[{start:{line:125,column:4},end:{line:128,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:125},1:{loc:{start:{line:137,column:4},end:{line:140,column:5}},type:"if",locations:[{start:{line:137,column:4},end:{line:140,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:137},2:{loc:{start:{line:151,column:4},end:{line:166,column:5}},type:"if",locations:[{start:{line:151,column:4},end:{line:166,column:5}},{start:{line:164,column:11},end:{line:166,column:5}}],line:151}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dbd1db2977a621fbf55a51a038ed9f3c328aa0f3"});var o=l[e];return(// @ts-ignore
eo=function(){return o},o)}eo();class ei extends HTMLElement{shadow;dialogContainer;/**
   * Initializes the CreateWorkspaceDialog component.
   * Attaches a shadow DOM and creates the dialog container element.
   */constructor(){eo().f[0]++,eo().s[0]++,super(),eo().s[1]++,this.shadow=this.attachShadow({mode:"open"}),// Create the dialog container
eo().s[2]++,this.dialogContainer=document.createElement("div"),eo().s[3]++,this.dialogContainer.classList.add("create-dialog"),eo().s[4]++,this.dialogContainer.innerHTML=`
      <div class="create-dialog-content">
        <h3>Create Workspace</h3>
        <input type="text" placeholder="Enter workspace name" class="workspace-input-box" />
        <button class="submit-workspace">Submit</button>
        <button class="cancel-create">Cancel</button>
      </div>
    `,eo().s[5]++,this.dialogContainer.style.display="none",// Append the dialog to the shadow DOM
eo().s[6]++,this.shadow.appendChild(this.dialogContainer);// Add styles
let e=(eo().s[7]++,document.createElement("style"));eo().s[8]++,e.textContent=`
      .create-dialog {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 3000;
        width: 300px;
        display: none; /* Hidden by default */
      }

      .create-dialog-content {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .create-dialog-content h3 {
        margin-bottom: 15px;
      }

      .workspace-input-box {
        padding: 10px;
        margin: 10px 0;
        width: 80%;
        border: 1px solid #ccc;
        border-radius: 5px;
      }

      .create-dialog-content button {
        background-color: #e5c3d1;
        color: white;
        border: none;
        padding: 10px 20px;
        margin: 5px 0;
        cursor: pointer;
        border-radius: 5px;
        width: 80%;
        font-size: 14px;
      }

      .create-dialog-content button:hover {
        background-color: #d4a8bb;
      }

      .cancel-create {
        background-color: #ccc;
        color: #333;
      }

      .cancel-create:hover {
        background-color: #bbb;
      }

      .blur {
        filter: blur(8px);
        -webkit-filter: blur(8px);
        
      }
    `,eo().s[9]++,this.shadow.appendChild(e),// Bind event listeners
eo().s[10]++,this.shadow.querySelector(".submit-workspace")?.addEventListener("click",()=>(eo().f[1]++,eo().s[11]++,this.submitWorkspace())),eo().s[12]++,this.shadow.querySelector(".cancel-create")?.addEventListener("click",()=>(eo().f[2]++,eo().s[13]++,this.closeDialog())),// Listen to "create-workspace" event
eo().s[14]++,document.addEventListener("create-workspace",()=>(eo().f[3]++,eo().s[15]++,this.openDialog()))}/**
   * Opens the Create Workspace dialog.
   */openDialog(){eo().f[4]++,eo().s[16]++,this.dialogContainer.style.display="block";let e=(eo().s[17]++,document.getElementById("app"));eo().s[18]++,e?(eo().b[0][0]++,eo().s[19]++,e.classList.add("blur"),eo().s[20]++,e.style.pointerEvents="none"):eo().b[0][1]++}/**
   * Closes the Create Workspace dialog.
   */closeDialog(){eo().f[5]++,eo().s[21]++,this.dialogContainer.style.display="none";let e=(eo().s[22]++,document.getElementById("app"));eo().s[23]++,e?(eo().b[1][0]++,eo().s[24]++,e.classList.remove("blur"),eo().s[25]++,e.style.pointerEvents=""):eo().b[1][1]++}/**
   * Handles the Submit button click.
   */submitWorkspace(){eo().f[6]++;let e=(eo().s[26]++,this.shadow.querySelector(".workspace-input-box")),n=(eo().s[27]++,e.value.trim());eo().s[28]++,n?(eo().b[2][0]++,eo().s[29]++,a.info("Submitting new workspace:",["workspaceName",n]),// Dispatch a custom event with the workspace name
eo().s[30]++,this.dispatchEvent(new CustomEvent("workspace-created",{detail:{workspaceName:n},bubbles:!0,composed:!0})),//clear the input field
eo().s[31]++,e.value="",eo().s[32]++,this.closeDialog()):(eo().b[2][1]++,eo().s[33]++,a.error("Please enter a workspace name."))}}function es(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/EditworkspaceComponents.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"1d1038e8e41ba33b1297976ccd27883f1d9d972a"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/EditworkspaceComponents.ts",statementMap:{0:{start:{line:15,column:4},end:{line:15,column:12}},1:{start:{line:16,column:4},end:{line:16,column:54}},2:{start:{line:19,column:4},end:{line:19,column:56}},3:{start:{line:20,column:4},end:{line:20,column:49}},4:{start:{line:21,column:4},end:{line:28,column:6}},5:{start:{line:29,column:4},end:{line:29,column:43}},6:{start:{line:32,column:4},end:{line:32,column:40}},7:{start:{line:35,column:18},end:{line:35,column:49}},8:{start:{line:36,column:4},end:{line:103,column:6}},9:{start:{line:104,column:4},end:{line:104,column:35}},10:{start:{line:107,column:4},end:{line:109,column:70}},11:{start:{line:109,column:40},end:{line:109,column:68}},12:{start:{line:111,column:4},end:{line:113,column:70}},13:{start:{line:113,column:40},end:{line:113,column:68}},14:{start:{line:115,column:4},end:{line:117,column:64}},15:{start:{line:117,column:40},end:{line:117,column:62}},16:{start:{line:126,column:23},end:{line:128,column:26}},17:{start:{line:129,column:4},end:{line:129,column:46}},18:{start:{line:130,column:4},end:{line:130,column:40}},19:{start:{line:131,column:4},end:{line:131,column:70}},20:{start:{line:131,column:47},end:{line:131,column:68}},21:{start:{line:138,column:4},end:{line:138,column:44}},22:{start:{line:139,column:21},end:{line:139,column:51}},23:{start:{line:140,column:4},end:{line:143,column:5}},24:{start:{line:141,column:6},end:{line:141,column:37}},25:{start:{line:142,column:6},end:{line:142,column:44}},26:{start:{line:150,column:4},end:{line:150,column:43}},27:{start:{line:151,column:21},end:{line:151,column:51}},28:{start:{line:152,column:4},end:{line:155,column:5}},29:{start:{line:153,column:6},end:{line:153,column:40}},30:{start:{line:154,column:6},end:{line:154,column:40}},31:{start:{line:162,column:4},end:{line:162,column:27}},32:{start:{line:165,column:4},end:{line:170,column:6}},33:{start:{line:177,column:4},end:{line:177,column:27}},34:{start:{line:179,column:4},end:{line:184,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:16},end:{line:118,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:109,column:34},end:{line:109,column:35}},loc:{start:{line:109,column:40},end:{line:109,column:68}},line:109},2:{name:"(anonymous_2)",decl:{start:{line:113,column:34},end:{line:113,column:35}},loc:{start:{line:113,column:40},end:{line:113,column:68}},line:113},3:{name:"(anonymous_3)",decl:{start:{line:117,column:34},end:{line:117,column:35}},loc:{start:{line:117,column:40},end:{line:117,column:62}},line:117},4:{name:"(anonymous_4)",decl:{start:{line:125,column:2},end:{line:125,column:3}},loc:{start:{line:125,column:28},end:{line:132,column:3}},line:125},5:{name:"(anonymous_5)",decl:{start:{line:131,column:41},end:{line:131,column:42}},loc:{start:{line:131,column:47},end:{line:131,column:68}},line:131},6:{name:"(anonymous_6)",decl:{start:{line:137,column:2},end:{line:137,column:3}},loc:{start:{line:137,column:33},end:{line:144,column:3}},line:137},7:{name:"(anonymous_7)",decl:{start:{line:149,column:2},end:{line:149,column:3}},loc:{start:{line:149,column:34},end:{line:156,column:3}},line:149},8:{name:"(anonymous_8)",decl:{start:{line:161,column:2},end:{line:161,column:3}},loc:{start:{line:161,column:40},end:{line:171,column:3}},line:161},9:{name:"(anonymous_9)",decl:{start:{line:176,column:2},end:{line:176,column:3}},loc:{start:{line:176,column:40},end:{line:185,column:3}},line:176}},branchMap:{0:{loc:{start:{line:140,column:4},end:{line:143,column:5}},type:"if",locations:[{start:{line:140,column:4},end:{line:143,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:140},1:{loc:{start:{line:152,column:4},end:{line:155,column:5}},type:"if",locations:[{start:{line:152,column:4},end:{line:155,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:152}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1d1038e8e41ba33b1297976ccd27883f1d9d972a"});var o=l[e];return(// @ts-ignore
es=function(){return o},o)}es();class er extends HTMLElement{shadow;editDialog;/**
   * Initializes the `EditWorkspaceButton` component.
   * Sets up the shadow DOM and creates the edit dialog container.
   */constructor(){es().f[0]++,es().s[0]++,super(),es().s[1]++,this.shadow=this.attachShadow({mode:"open"}),// Create the edit dialog container
es().s[2]++,this.editDialog=document.createElement("section"),es().s[3]++,this.editDialog.classList.add("edit-dialog"),es().s[4]++,this.editDialog.innerHTML=`
      <section class="dialog-content">
        <h3>Edit Workspace</h3>
        <button class="create-workspace">Create Workspace</button>
        <button class="delete-workspace">Delete Workspace</button>
        <button class="close-dialog">Close</button>
      </section>
    `,es().s[5]++,this.editDialog.style.display="none",// Append elements to the shadow DOM
es().s[6]++,this.shadow.append(this.editDialog);// Add styles
let e=(es().s[7]++,document.createElement("style"));es().s[8]++,e.textContent=`
      .editbtn {
        background-color: #e5c3d1;
        color: white;
        border: none;
        padding: 10px;
        border-radius: 5px;
        cursor: pointer;
        position: fixed;
        top: 10px;
        right: 200px; /* Adjusted to position next to "Workspace" button */
        margin-right: 5px;
      }

      .edit-dialog {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 2000;
        width: 300px;
        display: none; /* Hidden by default */
      }

      .dialog-content {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .dialog-content h3 {
        margin-bottom: 15px;
      }

      .dialog-content button {
        background-color: #e5c3d1;
        color: white;
        border: none;
        padding: 10px 20px;
        margin: 10px 0;
        cursor: pointer;
        border-radius: 5px;
        width: 80%;
        font-size: 14px;
      }

      .dialog-content button:hover {
        background-color: #d4a8bb;
      }

      .close-dialog {
        background-color: #ccc;
        color: #333;
      }

      .close-dialog:hover {
        background-color: #bbb;
      }
      .blur {
        filter: blur(8px);
        -webkit-filter: blur(8px);
        
      }
    `,es().s[9]++,this.shadow.appendChild(e),// Bind event listeners for dialog buttons
es().s[10]++,this.shadow.querySelector(".create-workspace")?.addEventListener("click",()=>(es().f[1]++,es().s[11]++,this.handleCreateWorkspace())),es().s[12]++,this.shadow.querySelector(".delete-workspace")?.addEventListener("click",()=>(es().f[2]++,es().s[13]++,this.handleDeleteWorkspace())),es().s[14]++,this.shadow.querySelector(".close-dialog")?.addEventListener("click",()=>(es().f[3]++,es().s[15]++,this.closeEditDialog()))}/**
   * Called when the `EditWorkspaceButton` element is added to the DOM.
   * Sets up the edit button by adding text, a CSS class, and an event listener
   * to open the edit dialog when clicked.
   */connectedCallback(){es().f[4]++;let e=(es().s[16]++,document.getElementById("edit-workspace-button"));es().s[17]++,e.textContent="Edit Workspace",es().s[18]++,e.classList.add("editbtn"),es().s[19]++,e.addEventListener("click",()=>(es().f[5]++,es().s[20]++,this.openEditDialog()))}/**
   * Opens the Edit Workspace dialog.
   */openEditDialog(){es().f[6]++,es().s[21]++,this.editDialog.style.display="block";let e=(es().s[22]++,document.getElementById("app"));es().s[23]++,e?(es().b[0][0]++,es().s[24]++,e.classList.add("blur"),es().s[25]++,e.style.pointerEvents="none"):es().b[0][1]++}/**
   * Closes the Edit Workspace dialog.
   */closeEditDialog(){es().f[7]++,es().s[26]++,this.editDialog.style.display="none";let e=(es().s[27]++,document.getElementById("app"));es().s[28]++,e?(es().b[1][0]++,es().s[29]++,e.classList.remove("blur"),es().s[30]++,e.style.pointerEvents=""):es().b[1][1]++}/**
   * Handles the Create Workspace button click.
   */handleCreateWorkspace(){es().f[8]++,es().s[31]++,this.closeEditDialog(),// Dispatch a custom event to notify parent components or other parts of the app
es().s[32]++,this.dispatchEvent(new CustomEvent("create-workspace",{bubbles:!0,composed:!0}))}/**
   * Handles the Delete Workspace button click.
   */handleDeleteWorkspace(){es().f[9]++,es().s[33]++,this.closeEditDialog(),// Dispatch a custom event to notify parent components or other parts of the app
es().s[34]++,this.dispatchEvent(new CustomEvent("delete-workspace",{bubbles:!0,composed:!0}))}}function ea(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/DeleteWorkspaceDialog.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"16d9d01c1b78495d9adab343e590e4440ab3a44b"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/DeleteWorkspaceDialog.ts",statementMap:{0:{start:{line:19,column:4},end:{line:19,column:12}},1:{start:{line:20,column:4},end:{line:20,column:54}},2:{start:{line:23,column:4},end:{line:23,column:57}},3:{start:{line:24,column:4},end:{line:24,column:56}},4:{start:{line:25,column:4},end:{line:32,column:6}},5:{start:{line:33,column:4},end:{line:33,column:48}},6:{start:{line:36,column:4},end:{line:36,column:50}},7:{start:{line:39,column:18},end:{line:39,column:49}},8:{start:{line:40,column:4},end:{line:107,column:6}},9:{start:{line:108,column:4},end:{line:108,column:35}},10:{start:{line:111,column:4},end:{line:113,column:62}},11:{start:{line:113,column:40},end:{line:113,column:60}},12:{start:{line:115,column:4},end:{line:117,column:60}},13:{start:{line:117,column:40},end:{line:117,column:58}},14:{start:{line:120,column:4},end:{line:122,column:6}},15:{start:{line:121,column:6},end:{line:121,column:23}},16:{start:{line:129,column:4},end:{line:129,column:49}},17:{start:{line:130,column:21},end:{line:130,column:51}},18:{start:{line:131,column:4},end:{line:134,column:5}},19:{start:{line:132,column:6},end:{line:132,column:37}},20:{start:{line:133,column:6},end:{line:133,column:44}},21:{start:{line:141,column:4},end:{line:141,column:48}},22:{start:{line:142,column:21},end:{line:142,column:51}},23:{start:{line:143,column:4},end:{line:146,column:5}},24:{start:{line:144,column:6},end:{line:144,column:40}},25:{start:{line:145,column:6},end:{line:145,column:40}},26:{start:{line:153,column:18},end:{line:155,column:25}},27:{start:{line:156,column:26},end:{line:156,column:44}},28:{start:{line:157,column:4},end:{line:174,column:5}},29:{start:{line:158,column:6},end:{line:161,column:9}},30:{start:{line:163,column:6},end:{line:169,column:8}},31:{start:{line:170,column:6},end:{line:170,column:23}},32:{start:{line:171,column:6},end:{line:171,column:25}},33:{start:{line:173,column:6},end:{line:173,column:48}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:16},end:{line:123,column:3}},line:18},1:{name:"(anonymous_1)",decl:{start:{line:113,column:34},end:{line:113,column:35}},loc:{start:{line:113,column:40},end:{line:113,column:60}},line:113},2:{name:"(anonymous_2)",decl:{start:{line:117,column:34},end:{line:117,column:35}},loc:{start:{line:117,column:40},end:{line:117,column:58}},line:117},3:{name:"(anonymous_3)",decl:{start:{line:120,column:50},end:{line:120,column:51}},loc:{start:{line:121,column:6},end:{line:121,column:23}},line:121},4:{name:"(anonymous_4)",decl:{start:{line:128,column:2},end:{line:128,column:3}},loc:{start:{line:128,column:28},end:{line:135,column:3}},line:128},5:{name:"(anonymous_5)",decl:{start:{line:140,column:2},end:{line:140,column:3}},loc:{start:{line:140,column:29},end:{line:147,column:3}},line:140},6:{name:"(anonymous_6)",decl:{start:{line:152,column:2},end:{line:152,column:3}},loc:{start:{line:152,column:32},end:{line:175,column:3}},line:152}},branchMap:{0:{loc:{start:{line:131,column:4},end:{line:134,column:5}},type:"if",locations:[{start:{line:131,column:4},end:{line:134,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:131},1:{loc:{start:{line:143,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:143,column:4},end:{line:146,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:143},2:{loc:{start:{line:157,column:4},end:{line:174,column:5}},type:"if",locations:[{start:{line:157,column:4},end:{line:174,column:5}},{start:{line:172,column:11},end:{line:174,column:5}}],line:157}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"16d9d01c1b78495d9adab343e590e4440ab3a44b"});var o=l[e];return(// @ts-ignore
ea=function(){return o},o)}ea();class ec extends HTMLElement{shadow;dialogContainer;// private workspaceName: string = "";
/**
   * Initializes the DeleteWorkspaceDialog component.
   * Attaches a shadow DOM and creates the dialog container element.
   */constructor(){ea().f[0]++,ea().s[0]++,super(),ea().s[1]++,this.shadow=this.attachShadow({mode:"open"}),// Create the dialog container
ea().s[2]++,this.dialogContainer=document.createElement("div"),ea().s[3]++,this.dialogContainer.classList.add("delete-dialog"),ea().s[4]++,this.dialogContainer.innerHTML=`
      <div class="delete-dialog-content">
        <h3>Delete Workspace</h3>
        <input type="text" placeholder="Enter workspace name" class="workspace-input" />
        <button class="confirm-delete-workspace">Delete</button>
        <button class="cancel-delete-workspace">Cancel</button>
      </div>
    `,ea().s[5]++,this.dialogContainer.style.display="none",// Append the dialog to the shadow DOM
ea().s[6]++,this.shadow.appendChild(this.dialogContainer);// Add styles
let e=(ea().s[7]++,document.createElement("style"));ea().s[8]++,e.textContent=`
      .delete-dialog {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 3000;
        width: 300px;
        display: none; /* Hidden by default */
      }

      .delete-dialog-content {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .delete-dialog-content h3 {
        margin-bottom: 15px;
      }

      .workspace-input {
        padding: 10px;
        margin: 10px 0;
        width: 80%;
        border: 1px solid #ccc;
        border-radius: 5px;
      }

      .delete-dialog-content p {
        margin-bottom: 20px;
        text-align: center;
      }

      .delete-dialog-content button {
        background-color: #e5c3d1;
        color: white;
        border: none;
        padding: 10px 20px;
        margin: 5px 0;
        cursor: pointer;
        border-radius: 5px;
        width: 80%;
        font-size: 14px;
      }

      .delete-dialog-content button:hover {
        background-color: #d4a8bb;
      }

      .cancel-delete {
        background-color: #ccc;
        color: #333;
      }

      .cancel-delete:hover {
        background-color: #bbb;
      }
      .blur {
        filter: blur(8px);
        -webkit-filter: blur(8px);
        
      }
    `,ea().s[9]++,this.shadow.appendChild(e),// Bind event listeners
ea().s[10]++,this.shadow.querySelector(".confirm-delete-workspace")?.addEventListener("click",()=>(ea().f[1]++,ea().s[11]++,this.confirmDelete())),ea().s[12]++,this.shadow.querySelector(".cancel-delete-workspace")?.addEventListener("click",()=>(ea().f[2]++,ea().s[13]++,this.closeDialog())),// Listen to "delete-workspace" event with detail
ea().s[14]++,document.addEventListener("delete-workspace",e=>(ea().f[3]++,ea().s[15]++,this.openDialog()))}/**
   * Opens the Delete Workspace dialog.
   */openDialog(){ea().f[4]++,ea().s[16]++,this.dialogContainer.style.display="block";let e=(ea().s[17]++,document.getElementById("app"));ea().s[18]++,e?(ea().b[0][0]++,ea().s[19]++,e.classList.add("blur"),ea().s[20]++,e.style.pointerEvents="none"):ea().b[0][1]++}/**
   * Closes the Delete Workspace dialog.
   */closeDialog(){ea().f[5]++,ea().s[21]++,this.dialogContainer.style.display="none";let e=(ea().s[22]++,document.getElementById("app"));ea().s[23]++,e?(ea().b[1][0]++,ea().s[24]++,e.classList.remove("blur"),ea().s[25]++,e.style.pointerEvents=""):ea().b[1][1]++}/**
   * Handles the Delete button click.
   */confirmDelete(){ea().f[6]++;let e=(ea().s[26]++,this.shadow.querySelector(".workspace-input")),n=(ea().s[27]++,e.value.trim());ea().s[28]++,n?(ea().b[2][0]++,ea().s[29]++,a.info("Confirming workspace deletion:",["workspaceName",n]),// Dispatch a custom event to notify parent components or other parts of the app
ea().s[30]++,this.dispatchEvent(new CustomEvent("workspace-deleted",{detail:{workspaceName:n},bubbles:!0,composed:!0})),ea().s[31]++,e.value="",ea().s[32]++,this.closeDialog()):(ea().b[2][1]++,ea().s[33]++,a.error("Workspace name is required."))}}function eu(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/EditChannelButton.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"f6089b0afc6dd003d039c7e9e1efd7a2eff8d2eb"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/EditChannelButton.ts",statementMap:{0:{start:{line:17,column:4},end:{line:17,column:12}},1:{start:{line:18,column:4},end:{line:18,column:54}},2:{start:{line:21,column:23},end:{line:23,column:26}},3:{start:{line:24,column:4},end:{line:24,column:47}},4:{start:{line:26,column:4},end:{line:26,column:73}},5:{start:{line:26,column:47},end:{line:26,column:71}},6:{start:{line:29,column:4},end:{line:29,column:59}},7:{start:{line:30,column:4},end:{line:30,column:55}},8:{start:{line:31,column:4},end:{line:38,column:8}},9:{start:{line:39,column:4},end:{line:39,column:46}},10:{start:{line:42,column:4},end:{line:42,column:43}},11:{start:{line:46,column:18},end:{line:46,column:49}},12:{start:{line:47,column:4},end:{line:123,column:8}},13:{start:{line:124,column:4},end:{line:124,column:35}},14:{start:{line:127,column:4},end:{line:129,column:68}},15:{start:{line:129,column:40},end:{line:129,column:66}},16:{start:{line:131,column:4},end:{line:133,column:68}},17:{start:{line:133,column:40},end:{line:133,column:66}},18:{start:{line:135,column:4},end:{line:137,column:67}},19:{start:{line:137,column:40},end:{line:137,column:65}},20:{start:{line:153,column:4},end:{line:153,column:47}},21:{start:{line:154,column:21},end:{line:154,column:51}},22:{start:{line:155,column:4},end:{line:158,column:5}},23:{start:{line:156,column:6},end:{line:156,column:37}},24:{start:{line:157,column:6},end:{line:157,column:44}},25:{start:{line:165,column:4},end:{line:165,column:46}},26:{start:{line:166,column:21},end:{line:166,column:51}},27:{start:{line:167,column:4},end:{line:170,column:5}},28:{start:{line:168,column:6},end:{line:168,column:40}},29:{start:{line:169,column:6},end:{line:169,column:40}},30:{start:{line:177,column:4},end:{line:177,column:30}},31:{start:{line:180,column:4},end:{line:185,column:6}},32:{start:{line:192,column:4},end:{line:192,column:30}},33:{start:{line:195,column:4},end:{line:200,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:16},end:{line:138,column:3}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:26,column:41},end:{line:26,column:42}},loc:{start:{line:26,column:47},end:{line:26,column:71}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:129,column:34},end:{line:129,column:35}},loc:{start:{line:129,column:40},end:{line:129,column:66}},line:129},3:{name:"(anonymous_3)",decl:{start:{line:133,column:34},end:{line:133,column:35}},loc:{start:{line:133,column:40},end:{line:133,column:66}},line:133},4:{name:"(anonymous_4)",decl:{start:{line:137,column:34},end:{line:137,column:35}},loc:{start:{line:137,column:40},end:{line:137,column:65}},line:137},5:{name:"(anonymous_5)",decl:{start:{line:152,column:2},end:{line:152,column:3}},loc:{start:{line:152,column:36},end:{line:159,column:3}},line:152},6:{name:"(anonymous_6)",decl:{start:{line:164,column:2},end:{line:164,column:3}},loc:{start:{line:164,column:37},end:{line:171,column:3}},line:164},7:{name:"(anonymous_7)",decl:{start:{line:176,column:2},end:{line:176,column:3}},loc:{start:{line:176,column:38},end:{line:186,column:3}},line:176},8:{name:"(anonymous_8)",decl:{start:{line:191,column:2},end:{line:191,column:3}},loc:{start:{line:191,column:38},end:{line:201,column:3}},line:191}},branchMap:{0:{loc:{start:{line:155,column:4},end:{line:158,column:5}},type:"if",locations:[{start:{line:155,column:4},end:{line:158,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:155},1:{loc:{start:{line:167,column:4},end:{line:170,column:5}},type:"if",locations:[{start:{line:167,column:4},end:{line:170,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:167}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f6089b0afc6dd003d039c7e9e1efd7a2eff8d2eb"});var o=l[e];return(// @ts-ignore
eu=function(){return o},o)}eu();class em extends HTMLElement{shadow;channelDialog;// private editButton: HTMLElement | null;
/**
   * Initializes the EditChannelButton component.
   * Sets up the shadow DOM for the component and attaches event listeners.
   * Creates an "Edit Channel" button that, when clicked, opens the channel dialog for managing channels.
   */constructor(){eu().f[0]++,eu().s[0]++,super(),eu().s[1]++,this.shadow=this.attachShadow({mode:"open"});// Create edit channel button
let e=(eu().s[2]++,document.getElementById("edit-channel-button"));eu().s[3]++,e.textContent="Manage Channels",// editButton.classList.add("editbtn");
eu().s[4]++,e.addEventListener("click",()=>(eu().f[1]++,eu().s[5]++,this.openChannelDialog())),// Create the channel dialog container
eu().s[6]++,this.channelDialog=document.createElement("section"),eu().s[7]++,this.channelDialog.classList.add("channel-dialog"),eu().s[8]++,this.channelDialog.innerHTML=`
        <section class="dialog-content">
          <h3>Manage Channels</h3>
          <button class="create-channel">Create Channel</button>
          <button class="delete-channel">Delete Channel</button>
          <button class="close-dialog">Close</button>
        </section>
      `,eu().s[9]++,this.channelDialog.style.display="none",// Append elements to the shadow DOM
eu().s[10]++,this.shadow.append(this.channelDialog);// Append elements to the shadow DOM
// Add styles
let n=(eu().s[11]++,document.createElement("style"));eu().s[12]++,n.textContent=`
        .editbtn {
          background-color: #e5c3d1;
          color: white;
          border: none;
          padding: 10px;
          border-radius: 5px;
          cursor: pointer;
          top-margin: 400px;
        }

        .create-channel-btn {
          background-color: #e5c3d1;
          color: white;
          border: none;
          padding: 10px;
          border-radius: 5px;
          cursor: pointer;
          width: 100%;

        }
  
        .channel-dialog {
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background-color: #ffffff;
          padding: 20px;
          border-radius: 10px;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
          z-index: 2000;
          width: 300px;
          display: none; /* Hidden by default */
        }
  
        .dialog-content {
          display: flex;
          flex-direction: column;
          align-items: center;
        }
  
        .dialog-content h3 {
          color: black;
          margin-bottom: 15px;
        }
  
        .dialog-content button {
          background-color: #e5c3d1;
          color: white;
          border: none;
          padding: 10px 20px;
          margin: 10px 0;
          cursor: pointer;
          border-radius: 5px;
          width: 80%;
          font-size: 14px;
        }
  
        .dialog-content button:hover {
          background-color: #d4a8bb;
        }
  
        .close-dialog {
          background-color: #ccc;
          color: #333;
        }
  
        .close-dialog:hover {
          background-color: #bbb;
        }
          
        .blur {
          filter: blur(8px);
          -webkit-filter: blur(8px);
        }
      `,eu().s[13]++,this.shadow.appendChild(n),// Bind event listeners for dialog buttons
eu().s[14]++,this.shadow.querySelector(".create-channel")?.addEventListener("click",()=>(eu().f[2]++,eu().s[15]++,this.handleCreateChannel())),eu().s[16]++,this.shadow.querySelector(".delete-channel")?.addEventListener("click",()=>(eu().f[3]++,eu().s[17]++,this.handleDeleteChannel())),eu().s[18]++,this.shadow.querySelector(".close-dialog")?.addEventListener("click",()=>(eu().f[4]++,eu().s[19]++,this.closeChannelDialog()))}// connectedCallback(): void {
//   const editButton = document.getElementById(
//     "edit-channel-button",
//   ) as HTMLButtonElement;
//   editButton.textContent = "Manage Channels";
//   editButton.classList.add("editbtn");
//   editButton.addEventListener("click", () => this.openChannelDialog());
// }
/**
   * Opens the Channel Management dialog.ff
   */openChannelDialog(){eu().f[5]++,eu().s[20]++,this.channelDialog.style.display="block";let e=(eu().s[21]++,document.getElementById("app"));eu().s[22]++,e?(eu().b[0][0]++,eu().s[23]++,e.classList.add("blur"),eu().s[24]++,e.style.pointerEvents="none"):eu().b[0][1]++}/**
   * Closes the Channel Management dialog.
   */closeChannelDialog(){eu().f[6]++,eu().s[25]++,this.channelDialog.style.display="none";let e=(eu().s[26]++,document.getElementById("app"));eu().s[27]++,e?(eu().b[1][0]++,eu().s[28]++,e.classList.remove("blur"),eu().s[29]++,e.style.pointerEvents=""):eu().b[1][1]++}/**
   * Handles the Create Channel button click.
   */handleCreateChannel(){eu().f[7]++,eu().s[30]++,this.closeChannelDialog(),// Dispatch a custom event to notify other components
eu().s[31]++,this.dispatchEvent(new CustomEvent("create-channel",{bubbles:!0,composed:!0}))}/**
   * Handles the Delete Channel button click.
   */handleDeleteChannel(){eu().f[8]++,eu().s[32]++,this.closeChannelDialog(),// Dispatch a custom event to notify other components
eu().s[33]++,this.dispatchEvent(new CustomEvent("delete-channel",{bubbles:!0,composed:!0}))}}function ed(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/CreateChannelDialog.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"bb8c2e6fb045ce646c709191167f87ac6e647c9f"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/CreateChannelDialog.ts",statementMap:{0:{start:{line:17,column:4},end:{line:17,column:12}},1:{start:{line:18,column:4},end:{line:18,column:54}},2:{start:{line:21,column:4},end:{line:21,column:57}},3:{start:{line:22,column:4},end:{line:22,column:64}},4:{start:{line:23,column:4},end:{line:30,column:6}},5:{start:{line:31,column:4},end:{line:31,column:48}},6:{start:{line:34,column:4},end:{line:34,column:50}},7:{start:{line:37,column:18},end:{line:37,column:49}},8:{start:{line:38,column:4},end:{line:100,column:6}},9:{start:{line:101,column:4},end:{line:101,column:35}},10:{start:{line:104,column:4},end:{line:106,column:62}},11:{start:{line:106,column:40},end:{line:106,column:60}},12:{start:{line:108,column:4},end:{line:110,column:60}},13:{start:{line:110,column:40},end:{line:110,column:58}},14:{start:{line:113,column:4},end:{line:113,column:73}},15:{start:{line:113,column:54},end:{line:113,column:71}},16:{start:{line:120,column:4},end:{line:120,column:49}},17:{start:{line:121,column:21},end:{line:121,column:51}},18:{start:{line:122,column:4},end:{line:125,column:5}},19:{start:{line:123,column:6},end:{line:123,column:37}},20:{start:{line:124,column:6},end:{line:124,column:44}},21:{start:{line:132,column:4},end:{line:132,column:48}},22:{start:{line:133,column:21},end:{line:133,column:51}},23:{start:{line:134,column:4},end:{line:137,column:5}},24:{start:{line:135,column:6},end:{line:135,column:40}},25:{start:{line:136,column:6},end:{line:136,column:40}},26:{start:{line:144,column:18},end:{line:146,column:25}},27:{start:{line:147,column:24},end:{line:147,column:42}},28:{start:{line:148,column:4},end:{line:162,column:5}},29:{start:{line:149,column:6},end:{line:149,column:73}},30:{start:{line:151,column:6},end:{line:157,column:8}},31:{start:{line:158,column:6},end:{line:158,column:23}},32:{start:{line:159,column:6},end:{line:159,column:25}},33:{start:{line:161,column:6},end:{line:161,column:46}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:16},end:{line:114,column:3}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:106,column:34},end:{line:106,column:35}},loc:{start:{line:106,column:40},end:{line:106,column:60}},line:106},2:{name:"(anonymous_2)",decl:{start:{line:110,column:34},end:{line:110,column:35}},loc:{start:{line:110,column:40},end:{line:110,column:58}},line:110},3:{name:"(anonymous_3)",decl:{start:{line:113,column:48},end:{line:113,column:49}},loc:{start:{line:113,column:54},end:{line:113,column:71}},line:113},4:{name:"(anonymous_4)",decl:{start:{line:119,column:2},end:{line:119,column:3}},loc:{start:{line:119,column:29},end:{line:126,column:3}},line:119},5:{name:"(anonymous_5)",decl:{start:{line:131,column:2},end:{line:131,column:3}},loc:{start:{line:131,column:30},end:{line:138,column:3}},line:131},6:{name:"(anonymous_6)",decl:{start:{line:143,column:2},end:{line:143,column:3}},loc:{start:{line:143,column:32},end:{line:163,column:3}},line:143}},branchMap:{0:{loc:{start:{line:122,column:4},end:{line:125,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:125,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:122},1:{loc:{start:{line:134,column:4},end:{line:137,column:5}},type:"if",locations:[{start:{line:134,column:4},end:{line:137,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:134},2:{loc:{start:{line:148,column:4},end:{line:162,column:5}},type:"if",locations:[{start:{line:148,column:4},end:{line:162,column:5}},{start:{line:160,column:11},end:{line:162,column:5}}],line:148}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bb8c2e6fb045ce646c709191167f87ac6e647c9f"});var o=l[e];return(// @ts-ignore
ed=function(){return o},o)}ed();class ep extends HTMLElement{shadow;dialogContainer;/**
   * Initializes the CreateChannelDialog component.
   * Sets up the shadow DOM for the component and creates the dialog container.
   */constructor(){ed().f[0]++,ed().s[0]++,super(),ed().s[1]++,this.shadow=this.attachShadow({mode:"open"}),// Create the dialog container
ed().s[2]++,this.dialogContainer=document.createElement("div"),ed().s[3]++,this.dialogContainer.classList.add("create-channel-dialog"),ed().s[4]++,this.dialogContainer.innerHTML=`
      <div class="create-dialog-content">
        <h3>Create Channel</h3>
        <input type="text" placeholder="Enter channel name" class="channel-input-box" />
        <button class="submit-channel">Submit</button>
        <button class="cancel-create">Cancel</button>
      </div>
    `,ed().s[5]++,this.dialogContainer.style.display="none",// Append the dialog to the shadow DOM
ed().s[6]++,this.shadow.appendChild(this.dialogContainer);// Add styles
let e=(ed().s[7]++,document.createElement("style"));ed().s[8]++,e.textContent=`
      .create-channel-dialog {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 3000;
        width: 300px;
        display: none; /* Hidden by default */
      }

      .create-dialog-content {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .create-dialog-content h3 {
        margin-bottom: 15px;
      }

      .channel-input-box {
        padding: 10px;
        margin: 10px 0;
        width: 80%;
        border: 1px solid #ccc;
        border-radius: 5px;
      }

      .create-dialog-content button {
        background-color: #e5c3d1;
        color: white;
        border: none;
        padding: 10px 20px;
        margin: 5px 0;
        cursor: pointer;
        border-radius: 5px;
        width: 80%;
        font-size: 14px;
      }

      .create-dialog-content button:hover {
        background-color: #d4a8bb;
      }

      .cancel-create {
        background-color: #ccc;
        color: #333;
      }

      .cancel-create:hover {
        background-color: #bbb;
      }

      .blur {
        filter: blur(8px);
        -webkit-filter: blur(8px);
      }
    `,ed().s[9]++,this.shadow.appendChild(e),// Bind event listeners
ed().s[10]++,this.shadow.querySelector(".submit-channel")?.addEventListener("click",()=>(ed().f[1]++,ed().s[11]++,this.submitChannel())),ed().s[12]++,this.shadow.querySelector(".cancel-create")?.addEventListener("click",()=>(ed().f[2]++,ed().s[13]++,this.closeDialog())),// Listen to "create-channel" event
ed().s[14]++,document.addEventListener("create-channel",()=>(ed().f[3]++,ed().s[15]++,this.openDialog()))}/**
   * Opens the Create Channel dialog.
   */openDialog(){ed().f[4]++,ed().s[16]++,this.dialogContainer.style.display="block";let e=(ed().s[17]++,document.getElementById("app"));ed().s[18]++,e?(ed().b[0][0]++,ed().s[19]++,e.classList.add("blur"),ed().s[20]++,e.style.pointerEvents="none"):ed().b[0][1]++}/**
   * Closes the Create Channel dialog.
   */closeDialog(){ed().f[5]++,ed().s[21]++,this.dialogContainer.style.display="none";let e=(ed().s[22]++,document.getElementById("app"));ed().s[23]++,e?(ed().b[1][0]++,ed().s[24]++,e.classList.remove("blur"),ed().s[25]++,e.style.pointerEvents=""):ed().b[1][1]++}/**
   * Handles the Submit button click.
   */submitChannel(){ed().f[6]++;let e=(ed().s[26]++,this.shadow.querySelector(".channel-input-box")),n=(ed().s[27]++,e.value.trim());ed().s[28]++,n?(ed().b[2][0]++,ed().s[29]++,a.info("Submitting new channel:",["channelName",n]),// Dispatch a custom event with the channel name
ed().s[30]++,this.dispatchEvent(new CustomEvent("channel-created",{detail:{channelName:n},bubbles:!0,composed:!0})),ed().s[31]++,e.value="",ed().s[32]++,this.closeDialog()):(ed().b[2][1]++,ed().s[33]++,a.error("Channel name is required."))}}// Register the custom element
function eh(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/DeleteChannelDialog.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"7e3a71b0736d34e2564c0c9a3a7dee40d9ef7b9f"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/DeleteChannelDialog.ts",statementMap:{0:{start:{line:16,column:4},end:{line:16,column:12}},1:{start:{line:17,column:4},end:{line:17,column:54}},2:{start:{line:20,column:4},end:{line:20,column:57}},3:{start:{line:21,column:4},end:{line:21,column:64}},4:{start:{line:22,column:4},end:{line:29,column:6}},5:{start:{line:30,column:4},end:{line:30,column:48}},6:{start:{line:33,column:4},end:{line:33,column:50}},7:{start:{line:36,column:18},end:{line:36,column:49}},8:{start:{line:37,column:4},end:{line:99,column:6}},9:{start:{line:100,column:4},end:{line:100,column:35}},10:{start:{line:103,column:4},end:{line:105,column:62}},11:{start:{line:105,column:40},end:{line:105,column:60}},12:{start:{line:107,column:4},end:{line:109,column:60}},13:{start:{line:109,column:40},end:{line:109,column:58}},14:{start:{line:112,column:4},end:{line:112,column:73}},15:{start:{line:112,column:54},end:{line:112,column:71}},16:{start:{line:119,column:4},end:{line:119,column:49}},17:{start:{line:120,column:21},end:{line:120,column:51}},18:{start:{line:121,column:4},end:{line:124,column:5}},19:{start:{line:122,column:6},end:{line:122,column:37}},20:{start:{line:123,column:6},end:{line:123,column:44}},21:{start:{line:131,column:4},end:{line:131,column:48}},22:{start:{line:132,column:21},end:{line:132,column:51}},23:{start:{line:133,column:4},end:{line:136,column:5}},24:{start:{line:134,column:6},end:{line:134,column:40}},25:{start:{line:135,column:6},end:{line:135,column:40}},26:{start:{line:143,column:18},end:{line:145,column:25}},27:{start:{line:146,column:24},end:{line:146,column:42}},28:{start:{line:147,column:4},end:{line:161,column:5}},29:{start:{line:148,column:6},end:{line:148,column:78}},30:{start:{line:150,column:6},end:{line:156,column:8}},31:{start:{line:157,column:6},end:{line:157,column:23}},32:{start:{line:158,column:6},end:{line:158,column:25}},33:{start:{line:160,column:6},end:{line:160,column:49}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:16},end:{line:113,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:105,column:34},end:{line:105,column:35}},loc:{start:{line:105,column:40},end:{line:105,column:60}},line:105},2:{name:"(anonymous_2)",decl:{start:{line:109,column:34},end:{line:109,column:35}},loc:{start:{line:109,column:40},end:{line:109,column:58}},line:109},3:{name:"(anonymous_3)",decl:{start:{line:112,column:48},end:{line:112,column:49}},loc:{start:{line:112,column:54},end:{line:112,column:71}},line:112},4:{name:"(anonymous_4)",decl:{start:{line:118,column:2},end:{line:118,column:3}},loc:{start:{line:118,column:28},end:{line:125,column:3}},line:118},5:{name:"(anonymous_5)",decl:{start:{line:130,column:2},end:{line:130,column:3}},loc:{start:{line:130,column:29},end:{line:137,column:3}},line:130},6:{name:"(anonymous_6)",decl:{start:{line:142,column:2},end:{line:142,column:3}},loc:{start:{line:142,column:32},end:{line:162,column:3}},line:142}},branchMap:{0:{loc:{start:{line:121,column:4},end:{line:124,column:5}},type:"if",locations:[{start:{line:121,column:4},end:{line:124,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:121},1:{loc:{start:{line:133,column:4},end:{line:136,column:5}},type:"if",locations:[{start:{line:133,column:4},end:{line:136,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:133},2:{loc:{start:{line:147,column:4},end:{line:161,column:5}},type:"if",locations:[{start:{line:147,column:4},end:{line:161,column:5}},{start:{line:159,column:11},end:{line:161,column:5}}],line:147}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7e3a71b0736d34e2564c0c9a3a7dee40d9ef7b9f"});var o=l[e];return(// @ts-ignore
eh=function(){return o},o)}eh();class ef extends HTMLElement{shadow;dialogContainer;/**
   * Initializes the DeleteChannelDialog component.
   * Sets up the shadow DOM and prepares the dialog container for use.
   */constructor(){eh().f[0]++,eh().s[0]++,super(),eh().s[1]++,this.shadow=this.attachShadow({mode:"open"}),// Create the dialog container
eh().s[2]++,this.dialogContainer=document.createElement("div"),eh().s[3]++,this.dialogContainer.classList.add("delete-channel-dialog"),eh().s[4]++,this.dialogContainer.innerHTML=`
      <div class="delete-dialog-content">
        <h3>Delete Channel</h3>
        <input type="text" placeholder="Enter channel name" class="channel-input" />
        <button class="confirm-delete-channel">Delete</button>
        <button class="cancel-delete-channel">Cancel</button>
      </div>
    `,eh().s[5]++,this.dialogContainer.style.display="none",// Append the dialog to the shadow DOM
eh().s[6]++,this.shadow.appendChild(this.dialogContainer);// Add styles
let e=(eh().s[7]++,document.createElement("style"));eh().s[8]++,e.textContent=`
      .delete-channel-dialog {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 3000;
        width: 300px;
        display: none; /* Hidden by default */
      }

      .delete-dialog-content {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .delete-dialog-content h3 {
        margin-bottom: 15px;
      }

      .channel-input {
        padding: 10px;
        margin: 10px 0;
        width: 80%;
        border: 1px solid #ccc;
        border-radius: 5px;
      }

      .delete-dialog-content button {
        background-color: #e5c3d1;
        color: white;
        border: none;
        padding: 10px 20px;
        margin: 5px 0;
        cursor: pointer;
        border-radius: 5px;
        width: 80%;
        font-size: 14px;
      }

      .delete-dialog-content button:hover {
        background-color: #d4a8bb;
      }

      .cancel-delete {
        background-color: #ccc;
        color: #333;
      }

      .cancel-delete:hover {
        background-color: #bbb;
      }

      .blur {
        filter: blur(8px);
        -webkit-filter: blur(8px);
      }
    `,eh().s[9]++,this.shadow.appendChild(e),// Bind event listeners
eh().s[10]++,this.shadow.querySelector(".confirm-delete-channel")?.addEventListener("click",()=>(eh().f[1]++,eh().s[11]++,this.confirmDelete())),eh().s[12]++,this.shadow.querySelector(".cancel-delete-channel")?.addEventListener("click",()=>(eh().f[2]++,eh().s[13]++,this.closeDialog())),// Listen to "delete-channel" event
eh().s[14]++,document.addEventListener("delete-channel",()=>(eh().f[3]++,eh().s[15]++,this.openDialog()))}/**
   * Opens the Delete Channel dialog.
   */openDialog(){eh().f[4]++,eh().s[16]++,this.dialogContainer.style.display="block";let e=(eh().s[17]++,document.getElementById("app"));eh().s[18]++,e?(eh().b[0][0]++,eh().s[19]++,e.classList.add("blur"),eh().s[20]++,e.style.pointerEvents="none"):eh().b[0][1]++}/**
   * Closes the Delete Channel dialog.
   */closeDialog(){eh().f[5]++,eh().s[21]++,this.dialogContainer.style.display="none";let e=(eh().s[22]++,document.getElementById("app"));eh().s[23]++,e?(eh().b[1][0]++,eh().s[24]++,e.classList.remove("blur"),eh().s[25]++,e.style.pointerEvents=""):eh().b[1][1]++}/**
   * Handles the Delete button click.
   */confirmDelete(){eh().f[6]++;let e=(eh().s[26]++,this.shadow.querySelector(".channel-input")),n=(eh().s[27]++,e.value.trim());eh().s[28]++,n?(eh().b[2][0]++,eh().s[29]++,a.info("Confirming channel deletion:",["channelName",n]),// Dispatch a custom event to notify other components
eh().s[30]++,this.dispatchEvent(new CustomEvent("channel-deleted",{detail:{channelName:n},bubbles:!0,composed:!0})),eh().s[31]++,e.value="",eh().s[32]++,this.closeDialog()):(eh().b[2][1]++,eh().s[33]++,a.error("Please enter a channel name."))}}function ey(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/ChatInputComponent.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"0ab7d1a51fb82408949cf466672704dccebbea17"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/view/ChatInputComponent.ts",statementMap:{0:{start:{line:32,column:4},end:{line:32,column:12}},1:{start:{line:33,column:4},end:{line:33,column:54}},2:{start:{line:34,column:4},end:{line:34,column:49}},3:{start:{line:37,column:4},end:{line:37,column:51}},4:{start:{line:38,column:4},end:{line:38,column:51}},5:{start:{line:41,column:4},end:{line:41,column:49}},6:{start:{line:42,column:4},end:{line:42,column:47}},7:{start:{line:45,column:4},end:{line:45,column:55}},8:{start:{line:46,column:4},end:{line:46,column:54}},9:{start:{line:47,column:4},end:{line:48,column:61}},10:{start:{line:49,column:4},end:{line:49,column:35}},11:{start:{line:51,column:4},end:{line:51,column:57}},12:{start:{line:52,column:4},end:{line:52,column:58}},13:{start:{line:53,column:4},end:{line:54,column:63}},14:{start:{line:55,column:4},end:{line:55,column:39}},15:{start:{line:57,column:4},end:{line:57,column:55}},16:{start:{line:58,column:4},end:{line:58,column:54}},17:{start:{line:59,column:4},end:{line:60,column:62}},18:{start:{line:61,column:4},end:{line:61,column:35}},19:{start:{line:64,column:4},end:{line:64,column:56}},20:{start:{line:65,column:4},end:{line:65,column:56}},21:{start:{line:66,column:4},end:{line:67,column:66}},22:{start:{line:68,column:4},end:{line:68,column:39}},23:{start:{line:70,column:4},end:{line:70,column:56}},24:{start:{line:71,column:4},end:{line:71,column:56}},25:{start:{line:72,column:4},end:{line:73,column:67}},26:{start:{line:74,column:4},end:{line:74,column:39}},27:{start:{line:76,column:4},end:{line:76,column:55}},28:{start:{line:77,column:4},end:{line:77,column:54}},29:{start:{line:78,column:4},end:{line:79,column:63}},30:{start:{line:80,column:4},end:{line:80,column:37}},31:{start:{line:82,column:4},end:{line:82,column:60}},32:{start:{line:83,column:4},end:{line:83,column:64}},33:{start:{line:84,column:4},end:{line:85,column:66}},34:{start:{line:86,column:4},end:{line:86,column:47}},35:{start:{line:89,column:4},end:{line:89,column:46}},36:{start:{line:90,column:4},end:{line:90,column:48}},37:{start:{line:91,column:4},end:{line:91,column:46}},38:{start:{line:92,column:4},end:{line:92,column:47}},39:{start:{line:93,column:4},end:{line:93,column:47}},40:{start:{line:94,column:4},end:{line:94,column:46}},41:{start:{line:95,column:4},end:{line:95,column:51}},42:{start:{line:98,column:4},end:{line:98,column:60}},43:{start:{line:99,column:4},end:{line:99,column:67}},44:{start:{line:102,column:4},end:{line:102,column:55}},45:{start:{line:103,column:4},end:{line:103,column:54}},46:{start:{line:104,column:4},end:{line:104,column:41}},47:{start:{line:106,column:4},end:{line:106,column:59}},48:{start:{line:107,column:4},end:{line:107,column:55}},49:{start:{line:108,column:4},end:{line:108,column:79}},50:{start:{line:110,column:4},end:{line:110,column:56}},51:{start:{line:111,column:4},end:{line:111,column:56}},52:{start:{line:112,column:4},end:{line:112,column:43}},53:{start:{line:115,column:4},end:{line:115,column:55}},54:{start:{line:116,column:4},end:{line:116,column:53}},55:{start:{line:117,column:4},end:{line:117,column:54}},56:{start:{line:120,column:4},end:{line:120,column:45}},57:{start:{line:121,column:4},end:{line:121,column:52}},58:{start:{line:124,column:4},end:{line:124,column:44}},59:{start:{line:127,column:18},end:{line:127,column:49}},60:{start:{line:128,column:4},end:{line:203,column:6}},61:{start:{line:204,column:4},end:{line:204,column:35}},62:{start:{line:207,column:4},end:{line:207,column:78}},63:{start:{line:207,column:52},end:{line:207,column:76}},64:{start:{line:208,column:4},end:{line:210,column:6}},65:{start:{line:209,column:6},end:{line:209,column:31}},66:{start:{line:213,column:4},end:{line:213,column:71}},67:{start:{line:213,column:52},end:{line:213,column:69}},68:{start:{line:214,column:4},end:{line:214,column:75}},69:{start:{line:214,column:54},end:{line:214,column:73}},70:{start:{line:215,column:4},end:{line:215,column:71}},71:{start:{line:215,column:52},end:{line:215,column:69}},72:{start:{line:218,column:4},end:{line:220,column:6}},73:{start:{line:219,column:6},end:{line:219,column:36}},74:{start:{line:221,column:4},end:{line:223,column:6}},75:{start:{line:222,column:6},end:{line:222,column:36}},76:{start:{line:224,column:4},end:{line:226,column:6}},77:{start:{line:225,column:6},end:{line:225,column:35}},78:{start:{line:227,column:4},end:{line:229,column:6}},79:{start:{line:228,column:6},end:{line:228,column:40}},80:{start:{line:237,column:4},end:{line:241,column:5}},81:{start:{line:239,column:6},end:{line:239,column:29}},82:{start:{line:240,column:6},end:{line:240,column:31}},83:{start:{line:249,column:20},end:{line:249,column:51}},84:{start:{line:250,column:4},end:{line:250,column:56}},85:{start:{line:253,column:4},end:{line:266,column:5}},86:{start:{line:255,column:6},end:{line:261,column:8}},87:{start:{line:264,column:6},end:{line:264,column:35}},88:{start:{line:274,column:21},end:{line:274,column:38}},89:{start:{line:275,column:18},end:{line:275,column:41}},90:{start:{line:276,column:16},end:{line:276,column:37}},91:{start:{line:278,column:22},end:{line:278,column:58}},92:{start:{line:280,column:20},end:{line:280,column:49}},93:{start:{line:283,column:4},end:{line:283,column:35}},94:{start:{line:291,column:21},end:{line:291,column:38}},95:{start:{line:292,column:18},end:{line:292,column:41}},96:{start:{line:293,column:16},end:{line:293,column:37}},97:{start:{line:296,column:19},end:{line:296,column:53}},98:{start:{line:297,column:18},end:{line:297,column:47}},99:{start:{line:300,column:4},end:{line:300,column:43}},100:{start:{line:303,column:30},end:{line:303,column:49}},101:{start:{line:304,column:4},end:{line:304,column:72}},102:{start:{line:307,column:4},end:{line:307,column:21}},103:{start:{line:315,column:21},end:{line:315,column:38}},104:{start:{line:316,column:18},end:{line:316,column:41}},105:{start:{line:317,column:16},end:{line:317,column:37}},106:{start:{line:320,column:19},end:{line:320,column:53}},107:{start:{line:321,column:18},end:{line:321,column:47}},108:{start:{line:324,column:4},end:{line:324,column:43}},109:{start:{line:327,column:30},end:{line:327,column:49}},110:{start:{line:328,column:4},end:{line:328,column:72}},111:{start:{line:331,column:4},end:{line:331,column:21}},112:{start:{line:338,column:4},end:{line:338,column:29}},113:{start:{line:345,column:4},end:{line:345,column:28}},114:{start:{line:352,column:21},end:{line:352,column:38}},115:{start:{line:353,column:18},end:{line:353,column:41}},116:{start:{line:354,column:16},end:{line:354,column:37}},117:{start:{line:356,column:22},end:{line:356,column:58}},118:{start:{line:358,column:20},end:{line:358,column:48}},119:{start:{line:361,column:4},end:{line:361,column:35}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:16},end:{line:230,column:3}},line:31},1:{name:"(anonymous_1)",decl:{start:{line:207,column:46},end:{line:207,column:47}},loc:{start:{line:207,column:52},end:{line:207,column:76}},line:207},2:{name:"(anonymous_2)",decl:{start:{line:208,column:50},end:{line:208,column:51}},loc:{start:{line:209,column:6},end:{line:209,column:31}},line:209},3:{name:"(anonymous_3)",decl:{start:{line:213,column:46},end:{line:213,column:47}},loc:{start:{line:213,column:52},end:{line:213,column:69}},line:213},4:{name:"(anonymous_4)",decl:{start:{line:214,column:48},end:{line:214,column:49}},loc:{start:{line:214,column:54},end:{line:214,column:73}},line:214},5:{name:"(anonymous_5)",decl:{start:{line:215,column:46},end:{line:215,column:47}},loc:{start:{line:215,column:52},end:{line:215,column:69}},line:215},6:{name:"(anonymous_6)",decl:{start:{line:218,column:47},end:{line:218,column:48}},loc:{start:{line:219,column:6},end:{line:219,column:36}},line:219},7:{name:"(anonymous_7)",decl:{start:{line:221,column:47},end:{line:221,column:48}},loc:{start:{line:222,column:6},end:{line:222,column:36}},line:222},8:{name:"(anonymous_8)",decl:{start:{line:224,column:46},end:{line:224,column:47}},loc:{start:{line:225,column:6},end:{line:225,column:35}},line:225},9:{name:"(anonymous_9)",decl:{start:{line:227,column:51},end:{line:227,column:52}},loc:{start:{line:228,column:6},end:{line:228,column:40}},line:228},10:{name:"(anonymous_10)",decl:{start:{line:236,column:2},end:{line:236,column:3}},loc:{start:{line:236,column:52},end:{line:243,column:3}},line:236},11:{name:"(anonymous_11)",decl:{start:{line:248,column:2},end:{line:248,column:3}},loc:{start:{line:248,column:36},end:{line:267,column:3}},line:248},12:{name:"(anonymous_12)",decl:{start:{line:273,column:2},end:{line:273,column:3}},loc:{start:{line:273,column:47},end:{line:284,column:3}},line:273},13:{name:"(anonymous_13)",decl:{start:{line:290,column:2},end:{line:290,column:3}},loc:{start:{line:290,column:47},end:{line:308,column:3}},line:290},14:{name:"(anonymous_14)",decl:{start:{line:314,column:2},end:{line:314,column:3}},loc:{start:{line:314,column:45},end:{line:332,column:3}},line:314},15:{name:"(anonymous_15)",decl:{start:{line:337,column:2},end:{line:337,column:3}},loc:{start:{line:337,column:29},end:{line:339,column:3}},line:337},16:{name:"(anonymous_16)",decl:{start:{line:344,column:2},end:{line:344,column:3}},loc:{start:{line:344,column:31},end:{line:346,column:3}},line:344},17:{name:"(anonymous_17)",decl:{start:{line:351,column:2},end:{line:351,column:3}},loc:{start:{line:351,column:29},end:{line:362,column:3}},line:351}},branchMap:{0:{loc:{start:{line:237,column:4},end:{line:241,column:5}},type:"if",locations:[{start:{line:237,column:4},end:{line:241,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:237},1:{loc:{start:{line:237,column:8},end:{line:237,column:48}},type:"binary-expr",locations:[{start:{line:237,column:8},end:{line:237,column:29}},{start:{line:237,column:33},end:{line:237,column:48}}],line:237},2:{loc:{start:{line:253,column:4},end:{line:266,column:5}},type:"if",locations:[{start:{line:253,column:4},end:{line:266,column:5}},{start:{line:265,column:11},end:{line:266,column:5}}],line:253}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},b:{0:[0,0],1:[0,0],2:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0ab7d1a51fb82408949cf466672704dccebbea17"});var o=l[e];return(// @ts-ignore
ey=function(){return o},o)}ey();class eb extends HTMLElement{shadow;container;toolbar;inputContainer;sendButton;inputElement;closeButton;// Formatting buttons
boldButton;italicButton;linkButton;// Emoji buttons
smileButton;frownButton;likeButton;celebrateButton;/**
   * Initializes the `ChatInputComponent` by setting up the shadow DOM
   * and preparing the necessary elements for the input area, toolbar, and buttons.
   */constructor(){ey().f[0]++,ey().s[0]++,super(),ey().s[1]++,this.shadow=this.attachShadow({mode:"open"}),ey().s[2]++,a.info("Initializing ChatInputComponent"),// Create the main container
ey().s[3]++,this.container=document.createElement("div"),ey().s[4]++,this.container.setAttribute("id","container"),// Create the toolbar
ey().s[5]++,this.toolbar=document.createElement("div"),ey().s[6]++,this.toolbar.setAttribute("id","toolbar"),// Create formatting buttons
ey().s[7]++,this.boldButton=document.createElement("button"),ey().s[8]++,this.boldButton.setAttribute("id","bold-button"),ey().s[9]++,this.boldButton.innerHTML='<iconify-icon icon="mdi:format-bold"></iconify-icon>',ey().s[10]++,this.boldButton.title="Bold",ey().s[11]++,this.italicButton=document.createElement("button"),ey().s[12]++,this.italicButton.setAttribute("id","italic-button"),ey().s[13]++,this.italicButton.innerHTML='<iconify-icon icon="mdi:format-italic"></iconify-icon>',ey().s[14]++,this.italicButton.title="Italic",ey().s[15]++,this.linkButton=document.createElement("button"),ey().s[16]++,this.linkButton.setAttribute("id","link-button"),ey().s[17]++,this.linkButton.innerHTML='<iconify-icon icon="mdi:link-variant"></iconify-icon>',ey().s[18]++,this.linkButton.title="Link",// Create emoji buttons
ey().s[19]++,this.smileButton=document.createElement("button"),ey().s[20]++,this.smileButton.setAttribute("id","smile-button"),ey().s[21]++,this.smileButton.innerHTML='<iconify-icon icon="twemoji:smiling-face"></iconify-icon>',ey().s[22]++,this.smileButton.title=":smile:",ey().s[23]++,this.frownButton=document.createElement("button"),ey().s[24]++,this.frownButton.setAttribute("id","frown-button"),ey().s[25]++,this.frownButton.innerHTML='<iconify-icon icon="twemoji:frowning-face"></iconify-icon>',ey().s[26]++,this.frownButton.title=":frown:",ey().s[27]++,this.likeButton=document.createElement("button"),ey().s[28]++,this.likeButton.setAttribute("id","like-button"),ey().s[29]++,this.likeButton.innerHTML='<iconify-icon icon="twemoji:thumbs-up"></iconify-icon>',ey().s[30]++,this.likeButton.title=":like:",ey().s[31]++,this.celebrateButton=document.createElement("button"),ey().s[32]++,this.celebrateButton.setAttribute("id","celebrate-button"),ey().s[33]++,this.celebrateButton.innerHTML='<iconify-icon icon="twemoji:party-popper"></iconify-icon>',ey().s[34]++,this.celebrateButton.title=":celebrate:",// Append buttons to toolbar
ey().s[35]++,this.toolbar.appendChild(this.boldButton),ey().s[36]++,this.toolbar.appendChild(this.italicButton),ey().s[37]++,this.toolbar.appendChild(this.linkButton),ey().s[38]++,this.toolbar.appendChild(this.smileButton),ey().s[39]++,this.toolbar.appendChild(this.frownButton),ey().s[40]++,this.toolbar.appendChild(this.likeButton),ey().s[41]++,this.toolbar.appendChild(this.celebrateButton),// Create the input container
ey().s[42]++,this.inputContainer=document.createElement("section"),ey().s[43]++,this.inputContainer.setAttribute("id","chat-input-container"),// Initialize the send button and input element
ey().s[44]++,this.sendButton=document.createElement("button"),ey().s[45]++,this.sendButton.setAttribute("id","send-button"),ey().s[46]++,this.sendButton.textContent="Post",ey().s[47]++,this.inputElement=document.createElement("textarea"),ey().s[48]++,this.inputElement.setAttribute("id","chat-input"),ey().s[49]++,this.inputElement.setAttribute("placeholder","Type your message here..."),ey().s[50]++,this.closeButton=document.createElement("button"),ey().s[51]++,this.closeButton.setAttribute("id","close-button"),ey().s[52]++,this.closeButton.textContent="Close",// Append input and buttons to the input container
ey().s[53]++,this.inputContainer.appendChild(this.inputElement),ey().s[54]++,this.inputContainer.appendChild(this.sendButton),ey().s[55]++,this.inputContainer.appendChild(this.closeButton),// Append toolbar and input container to the main container
ey().s[56]++,this.container.appendChild(this.toolbar),ey().s[57]++,this.container.appendChild(this.inputContainer),// Append the container to the shadow DOM
ey().s[58]++,this.shadow.appendChild(this.container);// Add styles
let e=(ey().s[59]++,document.createElement("style"));ey().s[60]++,e.textContent=`
      #container {
        display: flex;
        flex-direction: column;
      }

      #toolbar {
        display: flex;
        align-items: center;
        background-color: #e0e0e0;
        padding: 5px;
        border-radius: 4px;
        border-bottom: 0.7px solid #ccc;
      }

      #toolbar button {
        background: none;
        border: none;
        cursor: pointer;
        margin-right: 5px;
        font-size: 1.2em;
      }

      #toolbar button:hover {
        background-color: #d0d0d0;
      }

      #toolbar button .iconify {
        font-size: 1.2em;
      }

      #chat-input-container {
        display: flex;
        align-items: center;
        padding: 10px;
        background-color: #e0e0e0;
      }
      
      #chat-input-container textarea {
        flex-grow: 1;
        padding: 10px;
        font-size: 1em;
        resize: vertical; /* Allow vertical resizing */
        height: 60px;
        border-radius: 5px;
        border: 1px solid #ccc;
        font-family: inherit; /* Match the font to the rest of the app */
      }
      #send-button {
        background-color: #420e39;
        color: white;
        border: none;
        padding: 10px 20px;
        margin-left: 10px;
        cursor: pointer;
        border-radius: 5px;
      }
      #send-button:hover {
        background-color: #292643;
      }

      #close-button {
        background-color: #ff4d4d;
        color: white;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
        border-radius: 5px;
        visibility: hidden; /* Hidden by default */
        margin-left: 5px;
      }
      
      #close-button:hover {
        background-color: #e60000;
      }
    `,ey().s[61]++,this.shadow.appendChild(e),// Event listeners
ey().s[62]++,this.sendButton.addEventListener("click",()=>(ey().f[1]++,ey().s[63]++,this.handleSendMessage())),ey().s[64]++,this.inputElement.addEventListener("keydown",e=>(ey().f[2]++,ey().s[65]++,this.handleKeyDown(e))),// Formatting button event listeners
ey().s[66]++,this.boldButton.addEventListener("click",()=>(ey().f[3]++,ey().s[67]++,this.handleBold())),ey().s[68]++,this.italicButton.addEventListener("click",()=>(ey().f[4]++,ey().s[69]++,this.handleItalic())),ey().s[70]++,this.linkButton.addEventListener("click",()=>(ey().f[5]++,ey().s[71]++,this.handleLink())),// Emoji button event listeners
ey().s[72]++,this.smileButton.addEventListener("click",()=>(ey().f[6]++,ey().s[73]++,this.insertAtCursor(":smile:"))),ey().s[74]++,this.frownButton.addEventListener("click",()=>(ey().f[7]++,ey().s[75]++,this.insertAtCursor(":frown:"))),ey().s[76]++,this.likeButton.addEventListener("click",()=>(ey().f[8]++,ey().s[77]++,this.insertAtCursor(":like:"))),ey().s[78]++,this.celebrateButton.addEventListener("click",()=>(ey().f[9]++,ey().s[79]++,this.insertAtCursor(":celebrate:")))}/**
   * Handles the `keydown` event for the chat input field.
   * @param event - The `KeyboardEvent` triggered when a key is pressed.
   */handleKeyDown(e){ey().f[10]++,ey().s[80]++,(ey().b[1][0]++,"Enter"!==e.key||(ey().b[1][1]++,e.shiftKey))?ey().b[0][1]++:(ey().b[0][0]++,ey().s[81]++,// Prevent default behavior of adding a newline
e.preventDefault(),ey().s[82]++,this.handleSendMessage());// If Shift+Enter, allow the newline to be inserted
}/**
   * Handles the sending of a message from the chat input field.
   */handleSendMessage(){ey().f[11]++;let e=(ey().s[83]++,this.inputElement?.value.trim());ey().s[84]++,a.info("Sending message:",["message",e]),// Only send the message if it's not empty, need to think about this.
ey().s[85]++,e?(ey().b[2][0]++,ey().s[86]++,// Dispatch a custom event with the message
this.dispatchEvent(new CustomEvent("post-message",{detail:{message:e},bubbles:!0,composed:!0})),// Clear the input field after sending
ey().s[87]++,this.inputElement.value=""):ey().b[2][1]++}/**
   * Wraps the currently selected text in the input element with the specified wrapper.
   * @param wrapper - The string that will wrap the selected text (e.g., "**" for bold).
   */wrapSelection(e){ey().f[12]++;let n=(ey().s[88]++,this.inputElement),t=(ey().s[89]++,n.selectionStart),l=(ey().s[90]++,n.selectionEnd),o=(ey().s[91]++,n.value.substring(t,l)),i=(ey().s[92]++,e+o+e);// Replace the selected text with the new text
ey().s[93]++,this.replaceSelection(i)}/**
   * Replaces the currently selected text in the input element with the specified text.
   * @param text - The text that will replace the selected text in the input element.
   */replaceSelection(e){ey().f[13]++;let n=(ey().s[94]++,this.inputElement),t=(ey().s[95]++,n.selectionStart),l=(ey().s[96]++,n.selectionEnd),o=(ey().s[97]++,n.value.substring(0,t)),i=(ey().s[98]++,n.value.substring(l));// Set the new value
ey().s[99]++,n.value=o+e+i;// Update the cursor position
let s=(ey().s[100]++,t+e.length);ey().s[101]++,n.selectionStart=n.selectionEnd=s,// Focus the textarea
ey().s[102]++,n.focus()}/**
   * Inserts the specified text at the current cursor position in the input element.
   * @param text - The text to be inserted at the cursor position.
   */insertAtCursor(e){ey().f[14]++;let n=(ey().s[103]++,this.inputElement),t=(ey().s[104]++,n.selectionStart),l=(ey().s[105]++,n.selectionEnd),o=(ey().s[106]++,n.value.substring(0,t)),i=(ey().s[107]++,n.value.substring(l));// Set the new value
ey().s[108]++,n.value=o+e+i;// Set the cursor position
let s=(ey().s[109]++,t+e.length);ey().s[110]++,n.selectionStart=n.selectionEnd=s,// Focus the textarea
ey().s[111]++,n.focus()}/**
   * Wraps the selected text with double asterisks to format it as bold.
   */handleBold(){ey().f[15]++,ey().s[112]++,this.wrapSelection("**")}/**
   * Wraps the selected text with single asterisks to format it as italic.
   */handleItalic(){ey().f[16]++,ey().s[113]++,this.wrapSelection("*")}/**
   * Inserts a Markdown-style link around the selected text or at the cursor.
   */handleLink(){ey().f[17]++;let e=(ey().s[114]++,this.inputElement),n=(ey().s[115]++,e.selectionStart),t=(ey().s[116]++,e.selectionEnd),l=(ey().s[117]++,e.value.substring(n,t)),o=(ey().s[118]++,"["+l+"]()");// Replace the selected text with the new text
ey().s[119]++,this.replaceSelection(o)}}function eg(){var e="/Users/roger/Desktop/m3ssag1n8-p2group64/src/main.ts",n=Function("return this")(),t="__coverage__",l=n[t]||(n[t]={});l[e]&&"0be14c1cc00608fb555fdcdd4640f8132d437f0c"===l[e].hash||(l[e]={path:"/Users/roger/Desktop/m3ssag1n8-p2group64/src/main.ts",statementMap:{0:{start:{line:30,column:29},end:{line:30,column:60}},1:{start:{line:31,column:29},end:{line:31,column:60}},2:{start:{line:32,column:25},end:{line:32,column:52}},3:{start:{line:54,column:30},end:{line:54,column:32}},4:{start:{line:55,column:25},end:{line:55,column:27}},5:{start:{line:56,column:37},end:{line:56,column:39}},6:{start:{line:57,column:35},end:{line:57,column:37}},7:{start:{line:58,column:34},end:{line:58,column:36}},8:{start:{line:65,column:4},end:{line:65,column:26}},9:{start:{line:66,column:27},end:{line:68,column:23}},10:{start:{line:69,column:4},end:{line:71,column:5}},11:{start:{line:70,column:6},end:{line:70,column:33}},12:{start:{line:72,column:4},end:{line:74,column:24}},13:{start:{line:75,column:4},end:{line:75,column:64}},14:{start:{line:76,column:4},end:{line:76,column:69}},15:{start:{line:77,column:4},end:{line:77,column:65}},16:{start:{line:78,column:4},end:{line:78,column:74}},17:{start:{line:79,column:4},end:{line:79,column:76}},18:{start:{line:80,column:4},end:{line:80,column:72}},19:{start:{line:81,column:4},end:{line:81,column:76}},20:{start:{line:82,column:4},end:{line:82,column:68}},21:{start:{line:83,column:4},end:{line:83,column:72}},22:{start:{line:84,column:4},end:{line:84,column:72}},23:{start:{line:85,column:4},end:{line:85,column:70}},24:{start:{line:87,column:4},end:{line:87,column:76}},25:{start:{line:88,column:4},end:{line:88,column:72}},26:{start:{line:89,column:4},end:{line:89,column:80}},27:{start:{line:90,column:4},end:{line:92,column:6}},28:{start:{line:93,column:4},end:{line:95,column:6}},29:{start:{line:96,column:4},end:{line:98,column:6}},30:{start:{line:99,column:4},end:{line:101,column:6}},31:{start:{line:102,column:4},end:{line:102,column:76}},32:{start:{line:105,column:4},end:{line:107,column:28}},33:{start:{line:108,column:4},end:{line:110,column:26}},34:{start:{line:111,column:4},end:{line:113,column:30}},35:{start:{line:114,column:4},end:{line:116,column:28}},36:{start:{line:124,column:4},end:{line:124,column:31}},37:{start:{line:133,column:4},end:{line:135,column:6}},38:{start:{line:134,column:6},end:{line:134,column:36}},39:{start:{line:136,column:4},end:{line:136,column:67}},40:{start:{line:136,column:46},end:{line:136,column:65}},41:{start:{line:139,column:4},end:{line:141,column:6}},42:{start:{line:140,column:6},end:{line:140,column:32}},43:{start:{line:144,column:4},end:{line:146,column:6}},44:{start:{line:145,column:6},end:{line:145,column:38}},45:{start:{line:147,column:4},end:{line:149,column:6}},46:{start:{line:148,column:6},end:{line:148,column:37}},47:{start:{line:152,column:4},end:{line:154,column:6}},48:{start:{line:153,column:6},end:{line:153,column:39}},49:{start:{line:155,column:4},end:{line:157,column:6}},50:{start:{line:156,column:6},end:{line:156,column:39}},51:{start:{line:159,column:4},end:{line:161,column:6}},52:{start:{line:160,column:6},end:{line:160,column:37}},53:{start:{line:162,column:4},end:{line:164,column:6}},54:{start:{line:163,column:6},end:{line:163,column:37}},55:{start:{line:165,column:4},end:{line:167,column:6}},56:{start:{line:166,column:6},end:{line:166,column:34}},57:{start:{line:168,column:4},end:{line:170,column:6}},58:{start:{line:169,column:6},end:{line:169,column:33}},59:{start:{line:172,column:4},end:{line:176,column:7}},60:{start:{line:173,column:26},end:{line:173,column:46}},61:{start:{line:174,column:41},end:{line:174,column:59}},62:{start:{line:175,column:6},end:{line:175,column:50}},63:{start:{line:183,column:54},end:{line:183,column:63}},64:{start:{line:191,column:24},end:{line:191,column:53}},65:{start:{line:192,column:4},end:{line:192,column:52}},66:{start:{line:193,column:4},end:{line:196,column:6}},67:{start:{line:198,column:4},end:{line:233,column:9}},68:{start:{line:205,column:21},end:{line:205,column:59}},69:{start:{line:205,column:39},end:{line:205,column:58}},70:{start:{line:206,column:8},end:{line:206,column:48}},71:{start:{line:207,column:8},end:{line:210,column:9}},72:{start:{line:209,column:10},end:{line:209,column:62}},73:{start:{line:213,column:10},end:{line:213,column:74}},74:{start:{line:214,column:8},end:{line:214,column:61}},75:{start:{line:215,column:23},end:{line:215,column:33}},76:{start:{line:217,column:8},end:{line:225,column:13}},77:{start:{line:221,column:12},end:{line:223,column:14}},78:{start:{line:228,column:8},end:{line:228,column:37}},79:{start:{line:232,column:8},end:{line:232,column:57}},80:{start:{line:241,column:24},end:{line:241,column:44}},81:{start:{line:242,column:29},end:{line:242,column:56}},82:{start:{line:244,column:4},end:{line:247,column:5}},83:{start:{line:245,column:6},end:{line:245,column:75}},84:{start:{line:246,column:6},end:{line:246,column:13}},85:{start:{line:249,column:4},end:{line:249,column:58}},86:{start:{line:250,column:4},end:{line:268,column:9}},87:{start:{line:253,column:8},end:{line:253,column:31}},88:{start:{line:254,column:8},end:{line:254,column:29}},89:{start:{line:255,column:8},end:{line:259,column:10}},90:{start:{line:262,column:8},end:{line:262,column:50}},91:{start:{line:266,column:8},end:{line:266,column:59}},92:{start:{line:267,column:8},end:{line:267,column:48}},93:{start:{line:275,column:4},end:{line:278,column:5}},94:{start:{line:276,column:6},end:{line:276,column:55}},95:{start:{line:277,column:6},end:{line:277,column:13}},96:{start:{line:280,column:4},end:{line:292,column:9}},97:{start:{line:283,column:8},end:{line:283,column:39}},98:{start:{line:284,column:8},end:{line:284,column:28}},99:{start:{line:286,column:8},end:{line:286,column:40}},100:{start:{line:287,column:8},end:{line:287,column:51}},101:{start:{line:290,column:8},end:{line:290,column:62}},102:{start:{line:291,column:8},end:{line:291,column:69}},103:{start:{line:301,column:4},end:{line:301,column:53}},104:{start:{line:303,column:4},end:{line:303,column:49}},105:{start:{line:304,column:4},end:{line:312,column:9}},106:{start:{line:307,column:8},end:{line:307,column:62}},107:{start:{line:310,column:8},end:{line:310,column:73}},108:{start:{line:311,column:8},end:{line:311,column:69}},109:{start:{line:320,column:24},end:{line:320,column:44}},110:{start:{line:321,column:22},end:{line:321,column:50}},111:{start:{line:323,column:4},end:{line:323,column:38}},112:{start:{line:325,column:4},end:{line:325,column:50}},113:{start:{line:326,column:4},end:{line:326,column:53}},114:{start:{line:327,column:4},end:{line:336,column:9}},115:{start:{line:330,column:8},end:{line:330,column:72}},116:{start:{line:331,column:8},end:{line:331,column:74}},117:{start:{line:334,column:8},end:{line:334,column:74}},118:{start:{line:335,column:8},end:{line:335,column:67}},119:{start:{line:344,column:24},end:{line:344,column:44}},120:{start:{line:345,column:20},end:{line:345,column:46}},121:{start:{line:347,column:6},end:{line:347,column:63}},122:{start:{line:349,column:4},end:{line:349,column:56}},123:{start:{line:351,column:4},end:{line:351,column:34}},124:{start:{line:353,column:4},end:{line:353,column:47}},125:{start:{line:355,column:4},end:{line:355,column:44}},126:{start:{line:358,column:4},end:{line:358,column:33}},127:{start:{line:365,column:31},end:{line:365,column:77}},128:{start:{line:366,column:4},end:{line:369,column:5}},129:{start:{line:367,column:6},end:{line:367,column:24}},130:{start:{line:368,column:6},end:{line:368,column:34}},131:{start:{line:372,column:31},end:{line:372,column:55}},132:{start:{line:373,column:4},end:{line:373,column:49}},133:{start:{line:375,column:23},end:{line:375,column:52}},134:{start:{line:377,column:4},end:{line:384,column:5}},135:{start:{line:378,column:25},end:{line:380,column:28}},136:{start:{line:381,column:6},end:{line:383,column:7}},137:{start:{line:382,column:8},end:{line:382,column:40}},138:{start:{line:386,column:24},end:{line:386,column:63}},139:{start:{line:387,column:4},end:{line:391,column:5}},140:{start:{line:388,column:6},end:{line:388,column:50}},141:{start:{line:390,column:6},end:{line:390,column:57}},142:{start:{line:394,column:24},end:{line:394,column:63}},143:{start:{line:395,column:4},end:{line:397,column:5}},144:{start:{line:396,column:6},end:{line:396,column:27}},145:{start:{line:407,column:4},end:{line:407,column:47}},146:{start:{line:409,column:4},end:{line:409,column:80}},147:{start:{line:410,column:4},end:{line:422,column:6}},148:{start:{line:415,column:8},end:{line:415,column:51}},149:{start:{line:416,column:8},end:{line:416,column:54}},150:{start:{line:419,column:8},end:{line:419,column:68}},151:{start:{line:420,column:8},end:{line:420,column:71}},152:{start:{line:444,column:4},end:{line:444,column:80}},153:{start:{line:445,column:4},end:{line:461,column:9}},154:{start:{line:448,column:8},end:{line:448,column:54}},155:{start:{line:452,column:8},end:{line:452,column:54}},156:{start:{line:459,column:8},end:{line:459,column:68}},157:{start:{line:460,column:8},end:{line:460,column:71}},158:{start:{line:469,column:24},end:{line:469,column:44}},159:{start:{line:470,column:24},end:{line:470,column:42}},160:{start:{line:471,column:4},end:{line:471,column:67}},161:{start:{line:474,column:23},end:{line:474,column:57}},162:{start:{line:475,column:4},end:{line:478,column:5}},163:{start:{line:476,column:6},end:{line:476,column:65}},164:{start:{line:477,column:6},end:{line:477,column:13}},165:{start:{line:480,column:19},end:{line:482,column:26}},166:{start:{line:483,column:4},end:{line:486,column:5}},167:{start:{line:484,column:6},end:{line:484,column:65}},168:{start:{line:485,column:6},end:{line:485,column:13}},169:{start:{line:487,column:4},end:{line:487,column:56}},170:{start:{line:488,column:4},end:{line:507,column:5}},171:{start:{line:490,column:6},end:{line:506,column:11}},172:{start:{line:498,column:10},end:{line:498,column:59}},173:{start:{line:505,column:10},end:{line:505,column:73}},174:{start:{line:508,column:4},end:{line:525,column:5}},175:{start:{line:510,column:6},end:{line:524,column:11}},176:{start:{line:519,column:10},end:{line:519,column:59}},177:{start:{line:523,column:10},end:{line:523,column:73}},178:{start:{line:526,column:4},end:{line:526,column:33}},179:{start:{line:536,column:24},end:{line:536,column:44}},180:{start:{line:537,column:25},end:{line:537,column:43}},181:{start:{line:539,column:27},end:{line:541,column:5}},182:{start:{line:543,column:4},end:{line:543,column:34}},183:{start:{line:544,column:4},end:{line:544,column:71}},184:{start:{line:546,column:4},end:{line:548,column:28}},185:{start:{line:549,column:31},end:{line:549,column:54}},186:{start:{line:550,column:23},end:{line:550,column:57}},187:{start:{line:551,column:4},end:{line:554,column:5}},188:{start:{line:552,column:6},end:{line:552,column:65}},189:{start:{line:553,column:6},end:{line:553,column:13}},190:{start:{line:564,column:4},end:{line:584,column:5}},191:{start:{line:566,column:6},end:{line:566,column:80}},192:{start:{line:568,column:6},end:{line:571,column:9}},193:{start:{line:574,column:27},end:{line:576,column:27}},194:{start:{line:578,column:6},end:{line:582,column:7}},195:{start:{line:579,column:8},end:{line:579,column:44}},196:{start:{line:581,column:8},end:{line:581,column:73}},197:{start:{line:583,column:6},end:{line:583,column:68}},198:{start:{line:587,column:23},end:{line:589,column:26}},199:{start:{line:591,column:4},end:{line:595,column:5}},200:{start:{line:592,column:6},end:{line:592,column:39}},201:{start:{line:594,column:6},end:{line:594,column:69}},202:{start:{line:597,column:24},end:{line:599,column:26}},203:{start:{line:600,column:4},end:{line:603,column:5}},204:{start:{line:601,column:6},end:{line:601,column:42}},205:{start:{line:602,column:6},end:{line:602,column:47}},206:{start:{line:605,column:4},end:{line:607,column:7}},207:{start:{line:606,column:6},end:{line:606,column:35}},208:{start:{line:615,column:24},end:{line:615,column:44}},209:{start:{line:616,column:30},end:{line:616,column:62}},210:{start:{line:618,column:4},end:{line:622,column:5}},211:{start:{line:619,column:6},end:{line:619,column:70}},212:{start:{line:620,column:6},end:{line:620,column:75}},213:{start:{line:621,column:6},end:{line:621,column:13}},214:{start:{line:624,column:4},end:{line:624,column:66}},215:{start:{line:626,column:4},end:{line:646,column:9}},216:{start:{line:629,column:8},end:{line:629,column:44}},217:{start:{line:630,column:8},end:{line:630,column:42}},218:{start:{line:631,column:8},end:{line:631,column:42}},219:{start:{line:634,column:8},end:{line:640,column:10}},220:{start:{line:641,column:8},end:{line:641,column:51}},221:{start:{line:644,column:8},end:{line:644,column:34}},222:{start:{line:645,column:8},end:{line:645,column:62}},223:{start:{line:654,column:24},end:{line:654,column:44}},224:{start:{line:655,column:34},end:{line:655,column:66}},225:{start:{line:657,column:4},end:{line:661,column:5}},226:{start:{line:658,column:6},end:{line:658,column:70}},227:{start:{line:659,column:6},end:{line:659,column:75}},228:{start:{line:660,column:6},end:{line:660,column:13}},229:{start:{line:663,column:4},end:{line:663,column:70}},230:{start:{line:665,column:4},end:{line:676,column:9}},231:{start:{line:668,column:8},end:{line:668,column:44}},232:{start:{line:669,column:8},end:{line:669,column:72}},233:{start:{line:670,column:8},end:{line:670,column:35}},234:{start:{line:674,column:8},end:{line:674,column:56}},235:{start:{line:675,column:8},end:{line:675,column:62}},236:{start:{line:684,column:24},end:{line:684,column:44}},237:{start:{line:685,column:32},end:{line:685,column:62}},238:{start:{line:687,column:4},end:{line:691,column:5}},239:{start:{line:688,column:6},end:{line:688,column:66}},240:{start:{line:689,column:6},end:{line:689,column:71}},241:{start:{line:690,column:6},end:{line:690,column:13}},242:{start:{line:693,column:4},end:{line:697,column:5}},243:{start:{line:694,column:6},end:{line:694,column:66}},244:{start:{line:695,column:6},end:{line:695,column:74}},245:{start:{line:696,column:6},end:{line:696,column:13}},246:{start:{line:699,column:4},end:{line:703,column:6}},247:{start:{line:705,column:22},end:{line:705,column:43}},248:{start:{line:707,column:4},end:{line:723,column:9}},249:{start:{line:710,column:8},end:{line:710,column:42}},250:{start:{line:711,column:8},end:{line:717,column:10}},251:{start:{line:718,column:8},end:{line:718,column:59}},252:{start:{line:721,column:8},end:{line:721,column:34}},253:{start:{line:722,column:8},end:{line:722,column:60}},254:{start:{line:731,column:24},end:{line:731,column:44}},255:{start:{line:732,column:32},end:{line:732,column:62}},256:{start:{line:734,column:4},end:{line:738,column:5}},257:{start:{line:735,column:6},end:{line:735,column:66}},258:{start:{line:736,column:6},end:{line:736,column:71}},259:{start:{line:737,column:6},end:{line:737,column:13}},260:{start:{line:740,column:4},end:{line:744,column:5}},261:{start:{line:741,column:6},end:{line:741,column:66}},262:{start:{line:742,column:6},end:{line:742,column:74}},263:{start:{line:743,column:6},end:{line:743,column:13}},264:{start:{line:746,column:4},end:{line:750,column:6}},265:{start:{line:752,column:4},end:{line:779,column:9}},266:{start:{line:755,column:8},end:{line:755,column:42}},267:{start:{line:756,column:8},end:{line:758,column:10}},268:{start:{line:760,column:8},end:{line:766,column:9}},269:{start:{line:761,column:10},end:{line:763,column:12}},270:{start:{line:764,column:10},end:{line:764,column:53}},271:{start:{line:765,column:10},end:{line:765,column:53}},272:{start:{line:768,column:8},end:{line:774,column:10}},273:{start:{line:777,column:8},end:{line:777,column:54}},274:{start:{line:778,column:8},end:{line:778,column:60}},275:{start:{line:787,column:4},end:{line:791,column:5}},276:{start:{line:788,column:6},end:{line:788,column:49}},277:{start:{line:790,column:6},end:{line:790,column:61}},278:{start:{line:799,column:25},end:{line:799,column:45}},279:{start:{line:800,column:2},end:{line:800,column:30}},280:{start:{line:806,column:0},end:{line:808,column:3}},281:{start:{line:807,column:2},end:{line:807,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:63,column:2},end:{line:63,column:3}},loc:{start:{line:63,column:16},end:{line:118,column:3}},line:63},1:{name:"(anonymous_1)",decl:{start:{line:123,column:2},end:{line:123,column:3}},loc:{start:{line:123,column:28},end:{line:126,column:3}},line:123},2:{name:"(anonymous_2)",decl:{start:{line:131,column:2},end:{line:131,column:3}},loc:{start:{line:131,column:38},end:{line:177,column:3}},line:131},3:{name:"(anonymous_3)",decl:{start:{line:133,column:47},end:{line:133,column:48}},loc:{start:{line:134,column:6},end:{line:134,column:36}},line:134},4:{name:"(anonymous_4)",decl:{start:{line:136,column:40},end:{line:136,column:41}},loc:{start:{line:136,column:46},end:{line:136,column:65}},line:136},5:{name:"(anonymous_5)",decl:{start:{line:139,column:48},end:{line:139,column:49}},loc:{start:{line:140,column:6},end:{line:140,column:32}},line:140},6:{name:"(anonymous_6)",decl:{start:{line:144,column:49},end:{line:144,column:50}},loc:{start:{line:145,column:6},end:{line:145,column:38}},line:145},7:{name:"(anonymous_7)",decl:{start:{line:147,column:43},end:{line:147,column:44}},loc:{start:{line:148,column:6},end:{line:148,column:37}},line:148},8:{name:"(anonymous_8)",decl:{start:{line:152,column:51},end:{line:152,column:52}},loc:{start:{line:153,column:6},end:{line:153,column:39}},line:153},9:{name:"(anonymous_9)",decl:{start:{line:155,column:51},end:{line:155,column:52}},loc:{start:{line:156,column:6},end:{line:156,column:39}},line:156},10:{name:"(anonymous_10)",decl:{start:{line:159,column:49},end:{line:159,column:50}},loc:{start:{line:160,column:6},end:{line:160,column:37}},line:160},11:{name:"(anonymous_11)",decl:{start:{line:162,column:49},end:{line:162,column:50}},loc:{start:{line:163,column:6},end:{line:163,column:37}},line:163},12:{name:"(anonymous_12)",decl:{start:{line:165,column:50},end:{line:165,column:51}},loc:{start:{line:166,column:6},end:{line:166,column:34}},line:166},13:{name:"(anonymous_13)",decl:{start:{line:168,column:46},end:{line:168,column:47}},loc:{start:{line:169,column:6},end:{line:169,column:33}},line:169},14:{name:"(anonymous_14)",decl:{start:{line:172,column:42},end:{line:172,column:43}},loc:{start:{line:172,column:60},end:{line:176,column:5}},line:172},15:{name:"(anonymous_15)",decl:{start:{line:190,column:2},end:{line:190,column:3}},loc:{start:{line:190,column:71},end:{line:234,column:3}},line:190},16:{name:"(anonymous_16)",decl:{start:{line:204,column:12},end:{line:204,column:13}},loc:{start:{line:204,column:23},end:{line:226,column:7}},line:204},17:{name:"(anonymous_17)",decl:{start:{line:205,column:32},end:{line:205,column:33}},loc:{start:{line:205,column:39},end:{line:205,column:58}},line:205},18:{name:"(anonymous_18)",decl:{start:{line:219,column:16},end:{line:219,column:17}},loc:{start:{line:219,column:22},end:{line:225,column:11}},line:219},19:{name:"(anonymous_19)",decl:{start:{line:227,column:13},end:{line:227,column:14}},loc:{start:{line:227,column:24},end:{line:229,column:7}},line:227},20:{name:"(anonymous_20)",decl:{start:{line:230,column:15},end:{line:230,column:16}},loc:{start:{line:230,column:21},end:{line:233,column:7}},line:230},21:{name:"(anonymous_21)",decl:{start:{line:240,column:2},end:{line:240,column:3}},loc:{start:{line:240,column:49},end:{line:269,column:3}},line:240},22:{name:"(anonymous_22)",decl:{start:{line:252,column:12},end:{line:252,column:13}},loc:{start:{line:252,column:23},end:{line:264,column:7}},line:252},23:{name:"(anonymous_23)",decl:{start:{line:265,column:13},end:{line:265,column:14}},loc:{start:{line:265,column:24},end:{line:268,column:7}},line:265},24:{name:"(anonymous_24)",decl:{start:{line:274,column:2},end:{line:274,column:3}},loc:{start:{line:274,column:31},end:{line:294,column:3}},line:274},25:{name:"(anonymous_25)",decl:{start:{line:282,column:12},end:{line:282,column:13}},loc:{start:{line:282,column:18},end:{line:288,column:7}},line:282},26:{name:"(anonymous_26)",decl:{start:{line:289,column:13},end:{line:289,column:14}},loc:{start:{line:289,column:24},end:{line:292,column:7}},line:289},27:{name:"(anonymous_27)",decl:{start:{line:300,column:2},end:{line:300,column:3}},loc:{start:{line:300,column:38},end:{line:313,column:3}},line:300},28:{name:"(anonymous_28)",decl:{start:{line:306,column:12},end:{line:306,column:13}},loc:{start:{line:306,column:31},end:{line:308,column:7}},line:306},29:{name:"(anonymous_29)",decl:{start:{line:309,column:13},end:{line:309,column:14}},loc:{start:{line:309,column:24},end:{line:312,column:7}},line:309},30:{name:"(anonymous_30)",decl:{start:{line:319,column:2},end:{line:319,column:3}},loc:{start:{line:319,column:51},end:{line:337,column:3}},line:319},31:{name:"(anonymous_31)",decl:{start:{line:329,column:12},end:{line:329,column:13}},loc:{start:{line:329,column:29},end:{line:332,column:7}},line:329},32:{name:"(anonymous_32)",decl:{start:{line:333,column:13},end:{line:333,column:14}},loc:{start:{line:333,column:24},end:{line:336,column:7}},line:333},33:{name:"(anonymous_33)",decl:{start:{line:343,column:2},end:{line:343,column:3}},loc:{start:{line:343,column:50},end:{line:359,column:3}},line:343},34:{name:"(anonymous_34)",decl:{start:{line:364,column:2},end:{line:364,column:3}},loc:{start:{line:364,column:40},end:{line:398,column:3}},line:364},35:{name:"(anonymous_35)",decl:{start:{line:405,column:2},end:{line:405,column:3}},loc:{start:{line:405,column:66},end:{line:436,column:3}},line:405},36:{name:"(anonymous_36)",decl:{start:{line:414,column:6},end:{line:414,column:7}},loc:{start:{line:414,column:16},end:{line:417,column:7}},line:414},37:{name:"(anonymous_37)",decl:{start:{line:418,column:6},end:{line:418,column:7}},loc:{start:{line:418,column:17},end:{line:421,column:7}},line:418},38:{name:"(anonymous_38)",decl:{start:{line:443,column:2},end:{line:443,column:3}},loc:{start:{line:443,column:63},end:{line:462,column:3}},line:443},39:{name:"(anonymous_39)",decl:{start:{line:447,column:12},end:{line:447,column:13}},loc:{start:{line:447,column:23},end:{line:457,column:7}},line:447},40:{name:"(anonymous_40)",decl:{start:{line:458,column:13},end:{line:458,column:14}},loc:{start:{line:458,column:24},end:{line:461,column:7}},line:458},41:{name:"(anonymous_41)",decl:{start:{line:468,column:2},end:{line:468,column:3}},loc:{start:{line:468,column:46},end:{line:529,column:3}},line:468},42:{name:"(anonymous_42)",decl:{start:{line:497,column:14},end:{line:497,column:15}},loc:{start:{line:497,column:24},end:{line:503,column:9}},line:497},43:{name:"(anonymous_43)",decl:{start:{line:504,column:15},end:{line:504,column:16}},loc:{start:{line:504,column:26},end:{line:506,column:9}},line:504},44:{name:"(anonymous_44)",decl:{start:{line:518,column:14},end:{line:518,column:15}},loc:{start:{line:518,column:24},end:{line:521,column:9}},line:518},45:{name:"(anonymous_45)",decl:{start:{line:522,column:15},end:{line:522,column:16}},loc:{start:{line:522,column:26},end:{line:524,column:9}},line:522},46:{name:"(anonymous_46)",decl:{start:{line:535,column:2},end:{line:535,column:3}},loc:{start:{line:535,column:47},end:{line:608,column:3}},line:535},47:{name:"(anonymous_47)",decl:{start:{line:605,column:42},end:{line:605,column:43}},loc:{start:{line:605,column:48},end:{line:607,column:5}},line:605},48:{name:"(anonymous_48)",decl:{start:{line:614,column:2},end:{line:614,column:3}},loc:{start:{line:614,column:52},end:{line:647,column:3}},line:614},49:{name:"(anonymous_49)",decl:{start:{line:628,column:12},end:{line:628,column:13}},loc:{start:{line:628,column:22},end:{line:632,column:7}},line:628},50:{name:"(anonymous_50)",decl:{start:{line:633,column:12},end:{line:633,column:13}},loc:{start:{line:633,column:18},end:{line:642,column:7}},line:633},51:{name:"(anonymous_51)",decl:{start:{line:643,column:13},end:{line:643,column:14}},loc:{start:{line:643,column:24},end:{line:646,column:7}},line:643},52:{name:"(anonymous_52)",decl:{start:{line:653,column:2},end:{line:653,column:3}},loc:{start:{line:653,column:52},end:{line:677,column:3}},line:653},53:{name:"(anonymous_53)",decl:{start:{line:667,column:12},end:{line:667,column:13}},loc:{start:{line:667,column:22},end:{line:672,column:7}},line:667},54:{name:"(anonymous_54)",decl:{start:{line:673,column:13},end:{line:673,column:14}},loc:{start:{line:673,column:24},end:{line:676,column:7}},line:673},55:{name:"(anonymous_55)",decl:{start:{line:683,column:2},end:{line:683,column:3}},loc:{start:{line:683,column:50},end:{line:724,column:3}},line:683},56:{name:"(anonymous_56)",decl:{start:{line:709,column:12},end:{line:709,column:13}},loc:{start:{line:709,column:22},end:{line:719,column:7}},line:709},57:{name:"(anonymous_57)",decl:{start:{line:720,column:13},end:{line:720,column:14}},loc:{start:{line:720,column:24},end:{line:723,column:7}},line:720},58:{name:"(anonymous_58)",decl:{start:{line:730,column:2},end:{line:730,column:3}},loc:{start:{line:730,column:50},end:{line:780,column:3}},line:730},59:{name:"(anonymous_59)",decl:{start:{line:754,column:12},end:{line:754,column:13}},loc:{start:{line:754,column:18},end:{line:775,column:7}},line:754},60:{name:"(anonymous_60)",decl:{start:{line:776,column:13},end:{line:776,column:14}},loc:{start:{line:776,column:24},end:{line:779,column:7}},line:776},61:{name:"(anonymous_61)",decl:{start:{line:786,column:2},end:{line:786,column:3}},loc:{start:{line:786,column:54},end:{line:792,column:3}},line:786},62:{name:"main",decl:{start:{line:798,column:9},end:{line:798,column:13}},loc:{start:{line:798,column:22},end:{line:803,column:1}},line:798},63:{name:"(anonymous_63)",decl:{start:{line:806,column:46},end:{line:806,column:47}},loc:{start:{line:806,column:52},end:{line:808,column:1}},line:806}},branchMap:{0:{loc:{start:{line:30,column:29},end:{line:30,column:60}},type:"binary-expr",locations:[{start:{line:30,column:29},end:{line:30,column:54}},{start:{line:30,column:58},end:{line:30,column:60}}],line:30},1:{loc:{start:{line:31,column:29},end:{line:31,column:60}},type:"binary-expr",locations:[{start:{line:31,column:29},end:{line:31,column:54}},{start:{line:31,column:58},end:{line:31,column:60}}],line:31},2:{loc:{start:{line:32,column:25},end:{line:32,column:52}},type:"binary-expr",locations:[{start:{line:32,column:25},end:{line:32,column:46}},{start:{line:32,column:50},end:{line:32,column:52}}],line:32},3:{loc:{start:{line:69,column:4},end:{line:71,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:71,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:69},4:{loc:{start:{line:207,column:8},end:{line:210,column:9}},type:"if",locations:[{start:{line:207,column:8},end:{line:210,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:207},5:{loc:{start:{line:213,column:10},end:{line:213,column:74}},type:"binary-expr",locations:[{start:{line:213,column:10},end:{line:213,column:65}},{start:{line:213,column:69},end:{line:213,column:74}}],line:213},6:{loc:{start:{line:222,column:26},end:{line:222,column:54}},type:"cond-expr",locations:[{start:{line:222,column:35},end:{line:222,column:44}},{start:{line:222,column:47},end:{line:222,column:54}}],line:222},7:{loc:{start:{line:244,column:4},end:{line:247,column:5}},type:"if",locations:[{start:{line:244,column:4},end:{line:247,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:244},8:{loc:{start:{line:275,column:4},end:{line:278,column:5}},type:"if",locations:[{start:{line:275,column:4},end:{line:278,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:275},9:{loc:{start:{line:347,column:6},end:{line:347,column:63}},type:"binary-expr",locations:[{start:{line:347,column:6},end:{line:347,column:38}},{start:{line:347,column:42},end:{line:347,column:63}}],line:347},10:{loc:{start:{line:366,column:4},end:{line:369,column:5}},type:"if",locations:[{start:{line:366,column:4},end:{line:369,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:366},11:{loc:{start:{line:377,column:4},end:{line:384,column:5}},type:"if",locations:[{start:{line:377,column:4},end:{line:384,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:377},12:{loc:{start:{line:381,column:6},end:{line:383,column:7}},type:"if",locations:[{start:{line:381,column:6},end:{line:383,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:381},13:{loc:{start:{line:387,column:4},end:{line:391,column:5}},type:"if",locations:[{start:{line:387,column:4},end:{line:391,column:5}},{start:{line:389,column:11},end:{line:391,column:5}}],line:387},14:{loc:{start:{line:395,column:4},end:{line:397,column:5}},type:"if",locations:[{start:{line:395,column:4},end:{line:397,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:395},15:{loc:{start:{line:475,column:4},end:{line:478,column:5}},type:"if",locations:[{start:{line:475,column:4},end:{line:478,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:475},16:{loc:{start:{line:483,column:4},end:{line:486,column:5}},type:"if",locations:[{start:{line:483,column:4},end:{line:486,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:483},17:{loc:{start:{line:488,column:4},end:{line:507,column:5}},type:"if",locations:[{start:{line:488,column:4},end:{line:507,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:488},18:{loc:{start:{line:508,column:4},end:{line:525,column:5}},type:"if",locations:[{start:{line:508,column:4},end:{line:525,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:508},19:{loc:{start:{line:551,column:4},end:{line:554,column:5}},type:"if",locations:[{start:{line:551,column:4},end:{line:554,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:551},20:{loc:{start:{line:564,column:4},end:{line:584,column:5}},type:"if",locations:[{start:{line:564,column:4},end:{line:584,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:564},21:{loc:{start:{line:564,column:8},end:{line:564,column:49}},type:"binary-expr",locations:[{start:{line:564,column:8},end:{line:564,column:22}},{start:{line:564,column:26},end:{line:564,column:49}}],line:564},22:{loc:{start:{line:578,column:6},end:{line:582,column:7}},type:"if",locations:[{start:{line:578,column:6},end:{line:582,column:7}},{start:{line:580,column:13},end:{line:582,column:7}}],line:578},23:{loc:{start:{line:591,column:4},end:{line:595,column:5}},type:"if",locations:[{start:{line:591,column:4},end:{line:595,column:5}},{start:{line:593,column:11},end:{line:595,column:5}}],line:591},24:{loc:{start:{line:600,column:4},end:{line:603,column:5}},type:"if",locations:[{start:{line:600,column:4},end:{line:603,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:600},25:{loc:{start:{line:618,column:4},end:{line:622,column:5}},type:"if",locations:[{start:{line:618,column:4},end:{line:622,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:618},26:{loc:{start:{line:657,column:4},end:{line:661,column:5}},type:"if",locations:[{start:{line:657,column:4},end:{line:661,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:657},27:{loc:{start:{line:687,column:4},end:{line:691,column:5}},type:"if",locations:[{start:{line:687,column:4},end:{line:691,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:687},28:{loc:{start:{line:693,column:4},end:{line:697,column:5}},type:"if",locations:[{start:{line:693,column:4},end:{line:697,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:693},29:{loc:{start:{line:734,column:4},end:{line:738,column:5}},type:"if",locations:[{start:{line:734,column:4},end:{line:738,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:734},30:{loc:{start:{line:740,column:4},end:{line:744,column:5}},type:"if",locations:[{start:{line:740,column:4},end:{line:744,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:740},31:{loc:{start:{line:760,column:8},end:{line:766,column:9}},type:"if",locations:[{start:{line:760,column:8},end:{line:766,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:760},32:{loc:{start:{line:787,column:4},end:{line:791,column:5}},type:"if",locations:[{start:{line:787,column:4},end:{line:791,column:5}},{start:{line:789,column:11},end:{line:791,column:5}}],line:787}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0be14c1cc00608fb555fdcdd4640f8132d437f0c"});var o=l[e];return(// @ts-ignore
eg=function(){return o},o)}eg();const ev=(eg().s[0]++,eg().b[0][0]++,"http://localhost:4318"),ew=(eg().s[1]++,eg().b[1][0]++,"/v1/gp66/"),e_=(eg().s[2]++,eg().b[2][0]++,"/auth");class ex{loginModel;workspaceModel;sidebarModel;mainContentModel;createWorkspaceModel;deleteworkspaceModel;createChannelModel;deleteChannelModel;chatInputModel;loginComponent;workspaceComponent;sidebarComponent;mainContentComponent;// private createWorkspaceDialog: CreateWorkspaceDialog;
chatInputComponent;authToken=(eg().s[3]++,"");user=(eg().s[4]++,"");currentWorkspace=(eg().s[5]++,"");currentChannel=(eg().s[6]++,"");currentParent=(eg().s[7]++,"");/**
   * Constructor initializes models and components.
   */constructor(){eg().f[0]++,eg().s[8]++,J().f[14]++,J().s[66]++,Y.initialize(),J().s[67]++,customElements.define("login-component",Y);let e=(eg().s[9]++,document.querySelector("login-component"));eg().s[10]++,e?(eg().b[3][0]++,eg().s[11]++,e.showPopup()):eg().b[3][1]++,eg().s[12]++,this.loginComponent=document.querySelector("login-component"),eg().s[13]++,this.loginModel=new E(ev+e_),eg().s[14]++,customElements.define("workspace-component",Z),eg().s[15]++,customElements.define("sidebar-component",en),eg().s[16]++,customElements.define("main-content-component",el),eg().s[17]++,customElements.define("create-workspace-dialog",ei),eg().s[18]++,customElements.define("edit-workspace-dialog",er),eg().s[19]++,customElements.define("delete-workspace-dialog",ec),eg().s[20]++,customElements.define("edit-channel-button",em),eg().s[21]++,customElements.define("create-channel-dialog",ep),eg().s[22]++,customElements.define("delete-channel-dialog",ef),eg().s[23]++,customElements.define("chat-input-component",eb),eg().s[24]++,this.workspaceModel=new S(ev+ew),eg().s[25]++,this.sidebarModel=new M(ev+ew),eg().s[26]++,this.mainContentModel=new A(ev+ew),eg().s[27]++,this.deleteworkspaceModel=new q(ev+ew),eg().s[28]++,this.createWorkspaceModel=new U(ev+ew),eg().s[29]++,this.createChannelModel=new F(ev+ew),eg().s[30]++,this.deleteChannelModel=new W(ev+ew),eg().s[31]++,this.chatInputModel=new G(ev+ew),// Initialize view components
eg().s[32]++,this.workspaceComponent=document.querySelector("workspace-component"),eg().s[33]++,this.sidebarComponent=document.querySelector("sidebar-component"),eg().s[34]++,this.mainContentComponent=document.querySelector("main-content-component"),eg().s[35]++,this.chatInputComponent=document.querySelector("chat-input-component");// this.deleteworkspaceDialog = document.querySelector("delete-workspace-dialog") as DeleteWorkspaceDialog;
}/**
   * Initializes the controller by setting up event listeners.
   */initialize(){eg().f[1]++,eg().s[36]++,this.setupEventListeners();// Show login popup on initialization
}/**
   * Sets up event listeners for various components.
   */setupEventListeners(){eg().f[2]++,eg().s[37]++,// LoginComponent events
document.addEventListener("login-attempt",e=>(eg().f[3]++,eg().s[38]++,this.handleLoginAttempt(e))),eg().s[39]++,document.addEventListener("logout",()=>(eg().f[4]++,eg().s[40]++,this.handleLogout())),// WorkspaceComponent events
eg().s[41]++,document.addEventListener("get-workspaces",()=>(eg().f[5]++,eg().s[42]++,this.handleGetWorkspaces())),// SidebarComponent events
eg().s[43]++,document.addEventListener("get-collections",e=>(eg().f[6]++,eg().s[44]++,this.handleGetCollections(e))),eg().s[45]++,document.addEventListener("get-posts",e=>(eg().f[7]++,eg().s[46]++,this.handleChannelSelect(e))),// CreateWorkspaceDialog events
eg().s[47]++,document.addEventListener("workspace-created",e=>(eg().f[8]++,eg().s[48]++,this.handleCreateWorkspace(e))),eg().s[49]++,document.addEventListener("workspace-deleted",e=>(eg().f[9]++,eg().s[50]++,this.handleDeleteWorkspace(e))),eg().s[51]++,document.addEventListener("channel-created",e=>(eg().f[10]++,eg().s[52]++,this.handleCreateChannel(e))),eg().s[53]++,document.addEventListener("channel-deleted",e=>(eg().f[11]++,eg().s[54]++,this.handleDeleteChannel(e))),eg().s[55]++,document.addEventListener("reply-to-message",e=>(eg().f[12]++,eg().s[56]++,this.handleClickReply(e))),eg().s[57]++,document.addEventListener("post-message",e=>(eg().f[13]++,eg().s[58]++,this.handleClickPost(e))),eg().s[59]++,document.addEventListener("reaction",e=>{eg().f[14]++;let n=(eg().s[60]++,e),{postPath:t,reactionType:l}=(eg().s[61]++,n.detail);eg().s[62]++,this.handleReaction(t,l)})}// Inside the MainController class
/**
   * A map that tracks whether a reaction for a specific post has been debounced.
   */reactionDebounceMap=(eg().s[63]++,new Map);/**
   * Handles reactions.
   * @param postPath - The path of the post that the reaction is associated with.
   * @param reactionType - The type of reaction (e.g., "like", "dislike", etc.) to be applied to the post.
   */handleReaction(e,n){eg().f[15]++;let t=(eg().s[64]++,`${e}-${n}`);eg().s[65]++,this.reactionDebounceMap.set(t,!0),eg().s[66]++,this.mainContentModel.setCurrentWorkspaceChannel(this.currentWorkspace,this.currentChannel),eg().s[67]++,this.mainContentModel.getCollections(this.authToken,this.currentWorkspace,this.currentChannel).then(t=>{eg().f[16]++;let l=(eg().s[68]++,t.find(n=>(eg().f[17]++,eg().s[69]++,n.path===e)));if(eg().s[70]++,a.info("Post found",["post",l]),eg().s[71]++,!l)// Reject the promise to skip to the catch block
return eg().b[4][0]++,eg().s[72]++,Promise.reject(Error("Post not found."));eg().b[4][1]++;let o=(eg().s[73]++,eg().b[5][0]++,l.doc.reactions?.[n]?.includes(this.user)||(eg().b[5][1]++,!1));eg().s[74]++,a.info("Has reacted",["hasReacted",o]);let i=(eg().s[75]++,o);return eg().s[76]++,this.mainContentModel.reactPost(e,i,n,this.user,this.authToken).then(()=>{eg().f[18]++,eg().s[77]++,a.info(`Reaction ${i?(eg().b[6][0]++,"removed"):(eg().b[6][1]++,"added")} for ${n} on post ${e}`);// Optionally, update local state or UI here if needed
})}).catch(e=>{eg().f[19]++,eg().s[78]++,console.error(e.message)}).finally(()=>{eg().f[20]++,eg().s[79]++,// Reset the debounce
this.reactionDebounceMap.set(t,!1)})}/**
   * Handles login attempts.
   * @param event - The event object associated with the login attempt.
   */handleLoginAttempt(e){eg().f[21]++;let n=(eg().s[80]++,e),t=(eg().s[81]++,n.detail.username);if(eg().s[82]++,t)eg().b[7][1]++;else{eg().b[7][0]++,eg().s[83]++,this.loginComponent.displayError(Error("Username is required.")),eg().s[84]++;return}eg().s[85]++,a.info("Submitting login",["username",t]),eg().s[86]++,this.loginModel.authenticate(t).then(e=>{eg().f[22]++,eg().s[87]++,this.authToken=e,eg().s[88]++,this.user=t,eg().s[89]++,a.info("Login successful",["username",t],["token",this.authToken]),// Update UI
eg().s[90]++,this.loginComponent.displaySuccess(e);// Optionally, fetch initial data here
}).catch(e=>{eg().f[23]++,eg().s[91]++,a.error("Login failed",["username",t]),eg().s[92]++,this.loginComponent.displayError(e)})}/**
   * Handles user logout.
   */handleLogout(){if(eg().f[24]++,eg().s[93]++,this.authToken)eg().b[8][1]++;else{eg().b[8][0]++,eg().s[94]++,a.error("No auth token found during logout."),eg().s[95]++;return}eg().s[96]++,this.loginModel.logout(this.authToken).then(()=>{eg().f[25]++,eg().s[97]++,a.info("Logout successful"),eg().s[98]++,this.authToken="",// Reset UI
eg().s[99]++,this.loginComponent.showPopup(),eg().s[100]++,this.mainContentModel.unsubscribeToPosts()}).catch(e=>{eg().f[26]++,eg().s[101]++,a.error("Logout failed",["error",e.message]),eg().s[102]++,this.loginComponent.displayError(Error("Logout failed"))});// this.loginComponent.logout();
}//don't know whether need to hide the error message or not
/**
   * Handles fetching workspaces.
   */handleGetWorkspaces(){eg().f[27]++,eg().s[103]++,a.info("authToken",["auth",this.authToken]),eg().s[104]++,a.info("Getting workspaces (controller)"),eg().s[105]++,this.workspaceModel.getWorkspaces(this.authToken).then(e=>{eg().f[28]++,eg().s[106]++,this.workspaceComponent.updateDropdown(e)}).catch(e=>{eg().f[29]++,eg().s[107]++,a.error("Failed to get workspaces",["error",e.message]),eg().s[108]++,this.workspaceComponent.showError(`Error: ${e.message}`)})}/**
   * Handles fetching collections (channels) for a workspace.
   * @param event - The event object containing details about the workspace.
   */handleGetCollections(e){eg().f[30]++;let n=(eg().s[109]++,e),t=(eg().s[110]++,n.detail.workspace);eg().s[111]++,this.currentWorkspace=t,eg().s[112]++,a.info("Getting collections (controller)"),eg().s[113]++,a.info("workspace",["workspace",t]),eg().s[114]++,this.sidebarModel.getCollections(this.authToken,t).then(e=>{eg().f[31]++,eg().s[115]++,a.info("Collections received",["collections",e]),eg().s[116]++,this.sidebarComponent.populateCollections(e,t)}).catch(e=>{eg().f[32]++,eg().s[117]++,a.error("Failed to get collections",["error",e.message]),eg().s[118]++,this.sidebarComponent.showError(`Error: ${e.message}`)})}/**
   * Handles channel selection.
   * @param event - The event object containing details about the selected channel and workspace.
   */handleChannelSelect(e){eg().f[33]++;let n=(eg().s[119]++,e),t=(eg().s[120]++,n.detail.channel),l=(eg().s[121]++,eg().b[9][0]++,n.detail.workspaceName||(eg().b[9][1]++,this.currentWorkspace));eg().s[122]++,a.info("Channel selected",["channel",t]),eg().s[123]++,this.currentChannel=t,// Fetch posts for the selected channel
eg().s[124]++,this.fetchPostsSSE(l,t),eg().s[125]++,this.fetchPosts(l,t),// Re initialize chatInputComponent
eg().s[126]++,this.reinitializeChatInput()}/**
   * Re-initializes chatInputComponent.
   */reinitializeChatInput(){eg().f[34]++;let e=(eg().s[127]++,document.querySelector("chat-input-component"));eg().s[128]++,e?(eg().b[10][0]++,eg().s[129]++,a.info("HERE"),eg().s[130]++,e.remove()):eg().b[10][1]++;// Create a new ChatInputComponent instance
let n=(eg().s[131]++,new eb);eg().s[132]++,this.chatInputComponent=n;// Update Reply/Post button text
let t=(eg().s[133]++,n.shadowRoot);if(eg().s[134]++,t){eg().b[11][0]++;let e=(eg().s[135]++,t.querySelector("#send-button"));eg().s[136]++,e?(eg().b[12][0]++,eg().s[137]++,e.textContent="Post"):eg().b[12][1]++}else eg().b[11][1]++;// Append it to the main content or a specific container
let l=(eg().s[138]++,document.querySelector("#main-content"));// Ensure this ID exists in your layout
eg().s[139]++,l?(eg().b[13][0]++,eg().s[140]++,l.appendChild(n)):(eg().b[13][1]++,eg().s[141]++,a.error("Chat container not found in the DOM."));// Remove the close button
let o=(eg().s[142]++,document.querySelector("#close-button"));eg().s[143]++,o?(eg().b[14][0]++,eg().s[144]++,o.remove()):eg().b[14][1]++}/**
   * Fetches posts for a given workspace and channel.
   * @param workspace - The name of the workspace from which posts will be fetched.
   * @param channel - The name of the channel within the workspace for which posts will be fetched.
   */fetchPostsSSE(e,n){eg().f[35]++,eg().s[145]++,// TODO: use subscribeToPosts and
this.mainContentModel.unsubscribeToPosts(),eg().s[146]++,a.info("Fetching posts",["workspace",e],["channel",n]),eg().s[147]++,this.mainContentModel.subscribeToPosts(this.authToken,e,n,e=>{eg().f[36]++,eg().s[148]++,a.info("Post received",["post",e]),eg().s[149]++,this.mainContentComponent.renderMessage(e)},e=>{eg().f[37]++,eg().s[150]++,a.error("Failed to get posts",["error",e.message]),eg().s[151]++,this.mainContentComponent.showError(`Error: ${e.message}`)});// this.mainContentModel
//   .getCollections(this.authToken, workspace, channel)
//   .then((posts) => {
//     slog.info("Posts received", ["posts", posts]);
//     // this.mainContentComponent.displayPosts(posts);
//     // TEMPORARY TO JUST TEST NEW NESTED STRUCTURE
//     for (const post of posts) {
//       this.mainContentComponent.renderMessage(post);
//     }
//   })
//   .catch((error) => {
//     slog.error("Failed to get posts", ["error", error.message]);
//   });
}/**
   * Fetches posts for a given workspace and channel.
   * @param workspace - The name of the workspace from which posts will be fetched.
   * @param channel - The name of the channel within the workspace for which posts will be fetched.
   */fetchPosts(e,n){eg().f[38]++,eg().s[152]++,a.info("Fetching posts",["workspace",e],["channel",n]),eg().s[153]++,this.mainContentModel.getCollections(this.authToken,e,n).then(e=>{eg().f[39]++,eg().s[154]++,a.info("Posts received",["posts",e]),// for (const post of posts) {
//   this.mainContentComponent.renderMessage(post);
// }
eg().s[155]++,this.mainContentComponent.displayPosts(e);// TEMPORARY TO JUST TEST NEW NESTED STRUCTURE
// for (const post of posts) {
//   this.mainContentComponent.renderMessage(post);
// }
}).catch(e=>{eg().f[40]++,eg().s[156]++,a.error("Failed to get posts",["error",e.message]),eg().s[157]++,this.mainContentComponent.showError(`Error: ${e.message}`)})}/**
   * Handles the event when the "Post" button is clicked on a post.
   * @param event - The event object representing the click event on the "Post" button.
   */handleClickPost(e){eg().f[41]++;let n=(eg().s[158]++,e),{message:t}=(eg().s[159]++,n.detail);eg().s[160]++,a.info("Message received in main.ts",["message",t]);// Access the shadow root and query the send-button
let l=(eg().s[161]++,this.chatInputComponent.shadowRoot);if(eg().s[162]++,l)eg().b[15][1]++;else{eg().b[15][0]++,eg().s[163]++,a.error("Shadow root not found in ChatInputComponent."),eg().s[164]++;return}let o=(eg().s[165]++,l.querySelector("#send-button"));if(eg().s[166]++,o)eg().b[16][1]++;else{eg().b[16][0]++,eg().s[167]++,a.error("Send button not found in ChatInputComponent."),eg().s[168]++;return}eg().s[169]++,a.info("Button",["button",o.textContent]),eg().s[170]++,o?.textContent=="Post"?(eg().b[17][0]++,eg().s[171]++,// Send Message to server
this.chatInputModel.postToChat(this.authToken,this.currentWorkspace,this.currentChannel,t).then(e=>{eg().f[42]++,eg().s[172]++,a.info("Message sent, URI: ",["data",e]);//TODO: will call on View function to insert
// this.mainContentComponent.renderMessage();
// this.fetchPostsSSE(this.currentWorkspace, this.currentChannel);
}).catch(e=>{eg().f[43]++,eg().s[173]++,a.error("Failed to send message",["error",e.message])})):eg().b[17][1]++,eg().s[174]++,o?.textContent=="Reply"?(eg().b[18][0]++,eg().s[175]++,// Send Message to server with reply model
this.chatInputModel.replyToChat(this.authToken,this.currentWorkspace,this.currentChannel,t,this.currentParent).then(e=>{eg().f[44]++,eg().s[176]++,a.info("Message sent, URI: ",["data",e]);// this.fetchPostsSSE(this.currentWorkspace, this.currentChannel);
}).catch(e=>{eg().f[45]++,eg().s[177]++,a.error("Failed to send message",["error",e.message])})):eg().b[18][1]++,eg().s[178]++,this.reinitializeChatInput();// clear the text box in chat input
// chat should update with sse
}/**
   * Handles the event when the "Reply" button is clicked on a post.
   * @param event - The event object representing the click event on the "Reply" button.
   */handleClickReply(e){eg().f[46]++;let n=(eg().s[179]++,e),{postPath:t}=(eg().s[180]++,n.detail),l=(eg().s[181]++,document.querySelector(`.message[data-path="${t}"]`));eg().s[182]++,this.currentParent=t,eg().s[183]++,a.info("current parent",["currentParent",this.currentParent]),// Switched out for chat-input-component
eg().s[184]++,this.chatInputComponent=document.querySelector("chat-input-component");let o=(eg().s[185]++,this.chatInputComponent),i=(eg().s[186]++,this.chatInputComponent.shadowRoot);if(eg().s[187]++,i)eg().b[19][1]++;else{eg().b[19][0]++,eg().s[188]++,a.error("Shadow root not found in ChatInputComponent."),eg().s[189]++;return}if(// // Check if already replying to the same post
// const currentReplyPath = chatInputContainer.getAttribute("data-replying-to");
// if (currentReplyPath === postPath) {
//   // Call reinitializeChatInput to reset the chat box
//   this.reinitializeChatInput();
//   return;
// }
eg().s[190]++,eg().b[21][0]++,l&&(eg().b[21][1]++,this.chatInputComponent)){eg().b[20][0]++,eg().s[191]++,// Move the chat input container after the message
l.insertAdjacentElement("afterend",this.chatInputComponent),eg().s[192]++,o.scrollIntoView({behavior:"smooth",block:"center"});// Directly access the inputElement inside the ChatInputComponent
let e=(eg().s[193]++,i.querySelector("#chat-input"));eg().s[194]++,e?(eg().b[22][0]++,eg().s[195]++,e.placeholder="Reply:"):(eg().b[22][1]++,eg().s[196]++,a.error("Input element not found inside ChatInputComponent.")),eg().s[197]++,o.setAttribute("data-replying-to",t)}else eg().b[20][1]++;// Change the text of the button from "Post" to "Reply"
let s=(eg().s[198]++,i.querySelector("#send-button"));eg().s[199]++,s?(eg().b[23][0]++,eg().s[200]++,s.textContent="Reply"):(eg().b[23][1]++,eg().s[201]++,a.error("Send button not found inside ChatInputComponent."));// Dynamically add the "X" button
let r=(eg().s[202]++,i.querySelector("#close-button"));eg().s[203]++,r?(eg().b[24][0]++,eg().s[204]++,r.style.display="block",eg().s[205]++,r.style.visibility="visible"):eg().b[24][1]++,// On click of closeButton, call on reinitializeChatInput
eg().s[206]++,r.addEventListener("click",()=>{eg().f[47]++,eg().s[207]++,this.reinitializeChatInput()})}/**
   * Handles workspace creation.
   * @param event - The event object representing the workspace creation event.
   */handleCreateWorkspace(e){eg().f[48]++;let n=(eg().s[208]++,e),t=(eg().s[209]++,n.detail.workspaceName);if(eg().s[210]++,t)eg().b[25][1]++;else{eg().b[25][0]++,eg().s[211]++,a.error("Workspace name is empty. Cannot create workspace."),eg().s[212]++,this.workspaceComponent.showError("Workspace name cannot be empty."),eg().s[213]++;return}eg().s[214]++,a.info("Creating workspace",["workspaceName",t]),eg().s[215]++,this.createWorkspaceModel.createWorkspace(this.authToken,t).then(e=>(eg().f[49]++,eg().s[216]++,this.workspaceComponent.hideError(),eg().s[217]++,this.currentWorkspace=t,eg().s[218]++,this.handleGetWorkspaces())).then(()=>{eg().f[50]++,eg().s[219]++,document.dispatchEvent(new CustomEvent("get-collections",{detail:{workspace:t},bubbles:!0,composed:!0})),eg().s[220]++,this.mainContentComponent.clearpost(e)}).catch(e=>{eg().f[51]++,eg().s[221]++,a.error(e.message),eg().s[222]++,this.workspaceComponent.showError(`${e.message}`)})}/**
   * Handles workspace deletion.
   * @param event - The event object representing the workspace deletion event.
   */handleDeleteWorkspace(e){eg().f[52]++;let n=(eg().s[223]++,e),t=(eg().s[224]++,n.detail.workspaceName);if(eg().s[225]++,t)eg().b[26][1]++;else{eg().b[26][0]++,eg().s[226]++,a.error("Workspace name is empty. Cannot delete workspace."),eg().s[227]++,this.workspaceComponent.showError("Workspace name cannot be empty."),eg().s[228]++;return}eg().s[229]++,a.info("Deleting workspace",["workspaceName",t]),eg().s[230]++,this.deleteworkspaceModel.deleteWorkspace(this.authToken,t).then(e=>{eg().f[53]++,eg().s[231]++,this.workspaceComponent.hideError(),eg().s[232]++,a.info(`Workspace "${t}" deleted successfully.`),eg().s[233]++,this.handleGetWorkspaces();// no need for components here, since we are not updating any UI ? or we can call view? need discussion
}).catch(e=>{eg().f[54]++,eg().s[234]++,a.error("Failed to delete workspace",e),eg().s[235]++,this.workspaceComponent.showError(`${e.message}`)})}/**
   * Handles channel creation.
   * @param event - The event object representing the channel creation event.
   */handleCreateChannel(e){eg().f[55]++;let n=(eg().s[236]++,e),t=(eg().s[237]++,n.detail.channelName);if(eg().s[238]++,t)eg().b[27][1]++;else{eg().b[27][0]++,eg().s[239]++,a.error("Channel name is empty. Cannot create channel."),eg().s[240]++,this.sidebarComponent.showError("Channel name cannot be empty."),eg().s[241]++;return}if(eg().s[242]++,this.currentWorkspace)eg().b[28][1]++;else{eg().b[28][0]++,eg().s[243]++,a.error("No workspace selected. Cannot create channel."),eg().s[244]++,this.sidebarComponent.showError("Please select a workspace first."),eg().s[245]++;return}eg().s[246]++,a.info("Creating channel",["workspaceName",this.currentWorkspace],["channelName",t]);let l=(eg().s[247]++,this.currentWorkspace);eg().s[248]++,this.createChannelModel.createChannel(this.authToken,this.currentWorkspace,t).then(e=>{eg().f[56]++,eg().s[249]++,this.sidebarComponent.hideError(),eg().s[250]++,document.dispatchEvent(new CustomEvent("get-collections",{detail:{workspace:l},bubbles:!0,composed:!0})),eg().s[251]++,this.sidebarComponent.onChannelSelect(t)}).catch(e=>{eg().f[57]++,eg().s[252]++,a.error(e.message),eg().s[253]++,this.sidebarComponent.showError(`${e.message}`)})}/**
   * Handles channel deletion.
   * @param event - The event object representing the channel deletion event.
   */handleDeleteChannel(e){eg().f[58]++;let n=(eg().s[254]++,e),t=(eg().s[255]++,n.detail.channelName);if(eg().s[256]++,t)eg().b[29][1]++;else{eg().b[29][0]++,eg().s[257]++,a.error("Channel name is empty. Cannot delete channel."),eg().s[258]++,this.sidebarComponent.showError("Channel name cannot be empty."),eg().s[259]++;return}if(eg().s[260]++,this.currentWorkspace)eg().b[30][1]++;else{eg().b[30][0]++,eg().s[261]++,a.error("No workspace selected. Cannot delete channel."),eg().s[262]++,this.sidebarComponent.showError("Please select a workspace first."),eg().s[263]++;return}eg().s[264]++,a.info("Deleting channel",["workspaceName",this.currentWorkspace],["channelName",t]),eg().s[265]++,this.deleteChannelModel.deleteChannel(this.authToken,this.currentWorkspace,t).then(()=>{eg().f[59]++,eg().s[266]++,this.sidebarComponent.hideError(),eg().s[267]++,a.info(`Channel "${t}" deleted successfully in workspace "${this.currentWorkspace}".`),eg().s[268]++,this.currentChannel===t?(eg().b[31][0]++,eg().s[269]++,a.info(`Current channel "${this.currentChannel}" matches the deleted channel. Clearing posts.`),eg().s[270]++,this.mainContentModel.unsubscribeToPosts(),eg().s[271]++,this.mainContentComponent.clearpost(e)):eg().b[31][1]++,// Refresh the channel list in the sidebar
eg().s[272]++,document.dispatchEvent(new CustomEvent("get-collections",{detail:{workspace:this.currentWorkspace},bubbles:!0,composed:!0}))}).catch(e=>{eg().f[60]++,eg().s[273]++,a.error("Failed to delete channel",e),eg().s[274]++,this.sidebarComponent.showError(`${e.message}`)})}/**
   * Displays an error message in the WorkspaceComponent.
   * @param message - The error message to display.
   */displayWorkspaceError(e){eg().f[61]++,eg().s[275]++,this.workspaceComponent?(eg().b[32][0]++,eg().s[276]++,this.workspaceComponent.showError(e)):(eg().b[32][1]++,eg().s[277]++,a.error("WorkspaceComponent reference is missing."))}}/* Register event handler to run after the page is fully loaded. */eg().s[280]++,document.addEventListener("DOMContentLoaded",()=>{eg().f[63]++,eg().s[281]++,/**
 * Entry point of the application.
 */function(){eg().f[62]++;let e=(eg().s[278]++,new ex);eg().s[279]++,e.initialize();// The controller handles its own initialization and shows the login popup
}()});//# sourceMappingURL=index.503efd74.js.map

//# sourceMappingURL=index.503efd74.js.map
